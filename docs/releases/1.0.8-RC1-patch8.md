# CIRIS Agent v1.0.8 (RC1-Patch8) Release Notes

## Summary
This patch addresses a critical service architecture issue in the pause/single-step system that was preventing proper runtime control debugging functionality.

## 🔧 Bug Fixes

### Runtime Control Service Mismatch
- **Issue**: The pause endpoint (`/v1/system/runtime/pause`) and single-step endpoint (`/v1/system/runtime/single-step`) were using different runtime control services, making step-through debugging completely non-functional
- **Root Cause**: Pause operations used `runtime_control_service` while single-step used `main_runtime_control_service`, causing commands to operate on different service instances
- **Resolution**: Unified service selection logic to ensure both endpoints use the same runtime control service instance

### API Router Ordering
- **Issue**: FastAPI router registration order caused `/v1/system/runtime/single-step` to be shadowed by the parameterized `/v1/system/runtime/{action}` route
- **Resolution**: Reordered router registration in `app.py` to ensure system_extensions routes (with specific paths) are registered before system routes (with parameterized paths)

## 🚀 Improvements

### Enhanced System Extensions
- **QA Testing**: Added comprehensive QA modules for testing the pause/step system workflow
- **Service Discovery**: Improved runtime control service discovery logic with fallback mechanism
- **Debug Capability**: Restored full step-through debugging functionality for ethical decision-making transparency

## 📚 Documentation
- Updated version from 1.0.7 to 1.0.8
- Enhanced README.md with latest release information

## 🧪 Testing
- Added QA test modules for pause/step system validation
- Verified complete workflow: pause → interact → single-step → validate state
- Confirmed service synchronization between pause and step operations

## ⚙️ Technical Changes
- Fixed router registration order in `ciris_engine/logic/adapters/api/app.py`
- Unified service selection logic in system_extensions.py
- Added proper fallback mechanism for runtime control service discovery

## 🎯 For Developers
This patch is essential for anyone using the CIRIS Agent's step-through debugging capabilities. The pause/step system is now fully functional and can be used for:

- Ethical decision-making transparency
- Demo video creation with step-by-step agent reasoning
- Development debugging of agent processing pipeline
- QA validation of agent behavior patterns

## Upgrade Notes
- No breaking changes
- Existing API endpoints remain compatible
- Enhanced functionality for pause/step operations

---

**Release Date**: 2025-01-04  
**Branch**: 1.0-RC1-patch8  
**Previous Version**: 1.0.7 (RC1-Patch7)  
**Compatibility**: Fully backward compatible