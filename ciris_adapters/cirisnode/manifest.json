{
  "module": {
    "name": "cirisnode",
    "version": "2.0.0",
    "description": "CIRISNode oversight adapter — deferral routing and trace forwarding (requires CIRISPortal registration)",
    "author": "CIRIS Team",
    "auto_load": false
  },
  "services": [
    {
      "type": "WISE_AUTHORITY",
      "priority": "NORMAL",
      "class": "ciris_adapters.cirisnode.adapter.CIRISNodeAdapter",
      "capabilities": [
        "send_deferral",
        "cirisnode_traces"
      ]
    }
  ],
  "capabilities": [
    "send_deferral",
    "cirisnode_traces"
  ],
  "configuration": {
    "base_url": {
      "type": "string",
      "env": "CIRISNODE_BASE_URL",
      "default": "https://node.ciris-services-1.ai",
      "description": "CIRISNode API base URL"
    },
    "agent_token": {
      "type": "string",
      "env": "CIRISNODE_AGENT_TOKEN",
      "default": "",
      "description": "Agent token for bootstrap key registration (optional — auth is signature-based)"
    },
    "poll_interval": {
      "type": "integer",
      "default": 30,
      "description": "Seconds between WBD resolution polling checks"
    },
    "batch_size": {
      "type": "integer",
      "default": 10,
      "description": "Trace events per batch"
    },
    "flush_interval": {
      "type": "integer",
      "default": 60,
      "description": "Seconds between batch flushes"
    },
    "trace_level": {
      "type": "string",
      "env": "CIRISNODE_TRACE_LEVEL",
      "default": "generic",
      "description": "Trace detail level: generic, detailed, or full_traces"
    }
  }
}
