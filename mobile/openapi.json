{
  "openapi": "3.1.0",
  "info": {
    "title": "CIRIS API v1",
    "description": "Autonomous AI Agent Interaction and Observability API (Pre-Beta)",
    "version": "1.0.0"
  },
  "paths": {
    "/v1/setup/status": {
      "get": {
        "tags": [
          "setup"
        ],
        "summary": "Get Setup Status",
        "description": "Check setup status.\n\nReturns information about whether setup is required.\nThis endpoint is always accessible without authentication.",
        "operationId": "get_setup_status_v1_setup_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_SetupStatusResponse_"
                }
              }
            }
          }
        }
      }
    },
    "/v1/setup/providers": {
      "get": {
        "tags": [
          "setup"
        ],
        "summary": "List Providers",
        "description": "List available LLM providers.\n\nReturns configuration templates for supported LLM providers.\nThis endpoint is always accessible without authentication.",
        "operationId": "list_providers_v1_setup_providers_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_List_LLMProvider__"
                }
              }
            }
          }
        }
      }
    },
    "/v1/setup/templates": {
      "get": {
        "tags": [
          "setup"
        ],
        "summary": "List Templates",
        "description": "List available agent templates.\n\nReturns pre-configured agent identity templates.\nThis endpoint is always accessible without authentication.",
        "operationId": "list_templates_v1_setup_templates_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_List_AgentTemplate__"
                }
              }
            }
          }
        }
      }
    },
    "/v1/setup/adapters": {
      "get": {
        "tags": [
          "setup"
        ],
        "summary": "List Adapters",
        "description": "List available adapters with platform requirements.\n\nReturns ALL adapters with their requirements metadata.\nKMP clients filter locally based on platform capabilities (iOS, Android, desktop).\nThis endpoint is always accessible without authentication.",
        "operationId": "list_adapters_v1_setup_adapters_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_List_AdapterConfig__"
                }
              }
            }
          }
        }
      }
    },
    "/v1/setup/models": {
      "get": {
        "tags": [
          "setup"
        ],
        "summary": "Get Model Capabilities Endpoint",
        "description": "Get CIRIS-compatible LLM model capabilities.\n\nReturns the on-device model capabilities database for BYOK model selection.\nUsed by the wizard's Advanced settings to show compatible models per provider.\nThis endpoint is always accessible without authentication.\n\nReturns model info including:\n- CIRIS compatibility requirements (128K+ context, tool use, vision)\n- Per-provider model listings with capability flags\n- Tiers (default, fast, fallback, premium)\n- Recommendations and rejection reasons",
        "operationId": "get_model_capabilities_endpoint_v1_setup_models_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_Dict_str__Any__"
                }
              }
            }
          }
        }
      }
    },
    "/v1/setup/models/{provider_id}": {
      "get": {
        "tags": [
          "setup"
        ],
        "summary": "Get Provider Models",
        "description": "Get CIRIS-compatible models for a specific provider.\n\nReturns models for the given provider with compatibility information.\nUsed by the wizard to populate model dropdown after provider selection.",
        "operationId": "get_provider_models_v1_setup_models__provider_id__get",
        "parameters": [
          {
            "name": "provider_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Provider Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_Dict_str__Any__"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/setup/validate-llm": {
      "post": {
        "tags": [
          "setup"
        ],
        "summary": "Validate Llm",
        "description": "Validate LLM configuration.\n\nTests the provided LLM configuration by attempting a connection.\nThis endpoint is always accessible without authentication during first-run.",
        "operationId": "validate_llm_v1_setup_validate_llm_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LLMValidationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_LLMValidationResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/setup/complete": {
      "post": {
        "tags": [
          "setup"
        ],
        "summary": "Complete Setup",
        "description": "Complete initial setup.\n\nSaves configuration and creates initial admin user.\nOnly accessible during first-run (no authentication required).\nAfter setup, authentication is required for reconfiguration.",
        "operationId": "complete_setup_v1_setup_complete_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SetupCompleteRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_Dict_str__str__"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/setup/config": {
      "get": {
        "tags": [
          "setup"
        ],
        "summary": "Get Current Config",
        "description": "Get current configuration.\n\nReturns current setup configuration for editing.\nRequires authentication if setup is already completed.",
        "operationId": "get_current_config_v1_setup_config_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_SetupConfigResponse_"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "setup"
        ],
        "summary": "Update Config",
        "description": "Update configuration.\n\nUpdates setup configuration after initial setup.\nRequires admin authentication.",
        "operationId": "update_config_v1_setup_config_put",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SetupCompleteRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_Dict_str__str__"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/agent/message": {
      "post": {
        "tags": [
          "agent"
        ],
        "summary": "Submit Message",
        "description": "Submit a message to the agent (async pattern - returns immediately).\n\nThis endpoint returns immediately with a task_id for tracking or rejection reason.\nUse GET /agent/history to poll for the agent's response.\n\nThis is the recommended way to interact with the agent via API,\nas it doesn't block waiting for processing to complete.\n\nRequires: SEND_MESSAGES permission (ADMIN+ by default, or OBSERVER with explicit grant)",
        "operationId": "submit_message_v1_agent_message_post",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MessageRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_MessageSubmissionResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/agent/interact": {
      "post": {
        "tags": [
          "agent"
        ],
        "summary": "Interact",
        "description": "Send message and get response.\n\nThis endpoint combines the old send/ask functionality into a single interaction.\nIt sends the message and waits for the agent's response (with a reasonable timeout).\n\nRequires: SEND_MESSAGES permission (ADMIN+ by default, or OBSERVER with explicit grant)",
        "operationId": "interact_v1_agent_interact_post",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InteractRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_InteractResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/agent/history": {
      "get": {
        "tags": [
          "agent"
        ],
        "summary": "Get History",
        "description": "Conversation history.\n\nGet the conversation history for the current user.",
        "operationId": "get_history_v1_agent_history_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 200,
              "minimum": 1,
              "description": "Maximum messages to return",
              "default": 50,
              "title": "Limit"
            },
            "description": "Maximum messages to return"
          },
          {
            "name": "before",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Get messages before this time",
              "title": "Before"
            },
            "description": "Get messages before this time"
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_ConversationHistory_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/agent/status": {
      "get": {
        "tags": [
          "agent"
        ],
        "summary": "Get Status",
        "description": "Agent status and cognitive state.\n\nGet comprehensive agent status including state, metrics, and current activity.",
        "operationId": "get_status_v1_agent_status_get",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_AgentStatus_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/agent/identity": {
      "get": {
        "tags": [
          "agent"
        ],
        "summary": "Get Identity",
        "description": "Agent identity and capabilities.\n\nGet comprehensive agent identity including capabilities, tools, and permissions.",
        "operationId": "get_identity_v1_agent_identity_get",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_AgentIdentity_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/agent/channels": {
      "get": {
        "tags": [
          "agent"
        ],
        "summary": "Get Channels",
        "description": "List active communication channels.\n\nGet all channels where the agent is currently active or has been active.",
        "operationId": "get_channels_v1_agent_channels_get",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_ChannelList_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/api/billing/credits": {
      "get": {
        "tags": [
          "billing"
        ],
        "summary": "Get Credits",
        "description": "Get user's credit balance and status.\n\nWorks with both:\n- SimpleCreditProvider (1 free credit per OAuth user, no billing backend needed)\n- CIRISBillingProvider (full billing backend with paid credits)\n\nThe frontend calls this to display credit status.",
        "operationId": "get_credits_v1_api_billing_credits_get",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreditStatusResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/api/billing/purchase/initiate": {
      "post": {
        "tags": [
          "billing"
        ],
        "summary": "Initiate Purchase",
        "description": "Initiate credit purchase (creates Stripe payment intent).\n\nOnly works when CIRIS_BILLING_ENABLED=true (CIRISBillingProvider).\nReturns error when SimpleCreditProvider is active (billing disabled).",
        "operationId": "initiate_purchase_v1_api_billing_purchase_initiate_post",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PurchaseInitiateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PurchaseInitiateResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/api/billing/purchase/status/{payment_id}": {
      "get": {
        "tags": [
          "billing"
        ],
        "summary": "Get Purchase Status",
        "description": "Check payment status (optional - for polling after payment).\n\nFrontend can poll this after initiating payment to confirm credits were added.\nOnly works when CIRIS_BILLING_ENABLED=true (CIRISBillingProvider).",
        "operationId": "get_purchase_status_v1_api_billing_purchase_status__payment_id__get",
        "parameters": [
          {
            "name": "payment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Payment Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PurchaseStatusResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/api/billing/transactions": {
      "get": {
        "tags": [
          "billing"
        ],
        "summary": "Get Transactions",
        "description": "Get transaction history for the current user.\n\nReturns a paginated list of all transactions (charges and credits) in reverse chronological order.\n\nOnly works when CIRIS_BILLING_ENABLED=true (CIRISBillingProvider).\nReturns empty list when SimpleCreditProvider is active (billing disabled).",
        "operationId": "get_transactions_v1_api_billing_transactions_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/api/billing/google-play/verify": {
      "post": {
        "tags": [
          "billing"
        ],
        "summary": "Verify Google Play Purchase",
        "description": "Verify a Google Play purchase and add credits.\n\nThis endpoint proxies the verification request to the billing backend,\nwhich validates the purchase token with Google Play and adds credits.\n\nSupports two authentication modes:\n1. Server mode: Uses CIRIS_BILLING_API_KEY (agents.ciris.ai)\n2. JWT pass-through: Uses Bearer token from request (Android/native)\n\nOnly works when CIRISBillingProvider is configured.",
        "operationId": "verify_google_play_purchase_v1_api_billing_google_play_verify_post",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GooglePlayVerifyRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GooglePlayVerifyResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/api/tools/balance/{tool_name}": {
      "get": {
        "tags": [
          "tools"
        ],
        "summary": "Get Tool Balance",
        "description": "Get balance for a specific tool.\n\nReturns the user's credit balance for the specified tool (e.g., web_search).\nRequires Google Sign-In authentication.",
        "operationId": "get_tool_balance_v1_api_tools_balance__tool_name__get",
        "parameters": [
          {
            "name": "tool_name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Tool Name"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ToolBalanceResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/api/tools/balance": {
      "get": {
        "tags": [
          "tools"
        ],
        "summary": "Get All Tool Balances",
        "description": "Get balance for all tools.\n\nReturns the user's credit balance for all available tools.\nRequires Google Sign-In authentication.",
        "operationId": "get_all_tool_balances_v1_api_tools_balance_get",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AllToolBalancesResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/api/tools/check/{tool_name}": {
      "get": {
        "tags": [
          "tools"
        ],
        "summary": "Check Tool Credit",
        "description": "Quick credit check for a tool.\n\nLightweight endpoint to check if user has credit for a specific tool.\nRequires Google Sign-In authentication.",
        "operationId": "check_tool_credit_v1_api_tools_check__tool_name__get",
        "parameters": [
          {
            "name": "tool_name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Tool Name"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ToolCreditCheckResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/api/tools/available": {
      "get": {
        "tags": [
          "tools"
        ],
        "summary": "Get Available Tools",
        "description": "Get list of available tools for this platform.\n\nReturns tools available based on current platform capabilities.\nSome tools require specific platform features (e.g., Google Play Services).",
        "operationId": "get_available_tools_v1_api_tools_available_get",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AvailableToolsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/api/tools/purchase": {
      "post": {
        "tags": [
          "tools"
        ],
        "summary": "Verify Tool Purchase",
        "description": "Verify and process a Google Play tool credit purchase.\n\nAfter a successful Google Play purchase, the app should call this endpoint\nwith the purchase token to verify the purchase and grant credits.\nRequires Google Sign-In authentication.",
        "operationId": "verify_tool_purchase_v1_api_tools_purchase_post",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ToolPurchaseRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ToolPurchaseResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/memory/store": {
      "post": {
        "tags": [
          "memory"
        ],
        "summary": "Store Memory",
        "description": "Store typed nodes in memory (MEMORIZE).\n\nThis is the primary way to add information to the agent's memory.\nRequires ADMIN role as this modifies system state.",
        "operationId": "store_memory_v1_memory_store_post",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StoreRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_MemoryOpResult_GraphNode__"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/memory/query": {
      "post": {
        "tags": [
          "memory"
        ],
        "summary": "Query Memory",
        "description": "Query memories with flexible filters (RECALL).\n\nSupports querying by ID, type, text, time range, and relationships.\n\nSECURITY: OBSERVER users only see nodes they created or participated in.",
        "operationId": "query_memory_v1_memory_query_post",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/QueryRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_List_GraphNode__"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/memory/{node_id}": {
      "delete": {
        "tags": [
          "memory"
        ],
        "summary": "Forget Memory",
        "description": "Forget a specific memory node (FORGET).\n\nRequires ADMIN role as this permanently removes data.",
        "operationId": "forget_memory_v1_memory__node_id__delete",
        "parameters": [
          {
            "name": "node_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Node ID to forget",
              "title": "Node Id"
            },
            "description": "Node ID to forget"
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_MemoryOpResult_GraphNode__"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "memory"
        ],
        "summary": "Get Node",
        "description": "Get a specific node by ID.\n\nStandard RESTful endpoint for node retrieval.",
        "operationId": "get_node_v1_memory__node_id__get",
        "parameters": [
          {
            "name": "node_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Node ID",
              "title": "Node Id"
            },
            "description": "Node ID"
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_GraphNode_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/memory/timeline": {
      "get": {
        "tags": [
          "memory"
        ],
        "summary": "Get Timeline",
        "description": "Get a timeline view of recent memories.\n\nReturns memories organized chronologically with time buckets.\n\nSECURITY: OBSERVER users only see nodes they created or participated in.",
        "operationId": "get_timeline_v1_memory_timeline_get",
        "parameters": [
          {
            "name": "hours",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 168,
              "minimum": 1,
              "description": "Hours to look back",
              "default": 24,
              "title": "Hours"
            },
            "description": "Hours to look back"
          },
          {
            "name": "scope",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by scope",
              "title": "Scope"
            },
            "description": "Filter by scope"
          },
          {
            "name": "type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by node type",
              "title": "Type"
            },
            "description": "Filter by node type"
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_TimelineResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/memory/stats": {
      "get": {
        "tags": [
          "memory"
        ],
        "summary": "Get Stats",
        "description": "Get statistics about memory storage.\n\nReturns counts, distributions, and metadata about the memory graph.",
        "operationId": "get_stats_v1_memory_stats_get",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_MemoryStats_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/memory/visualize/graph": {
      "get": {
        "tags": [
          "memory"
        ],
        "summary": "Visualize Graph",
        "description": "Generate an interactive SVG visualization of the memory graph.\n\nReturns an HTML page with an embedded SVG visualization.",
        "operationId": "visualize_graph_v1_memory_visualize_graph_get",
        "parameters": [
          {
            "name": "hours",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 168,
              "minimum": 1,
              "description": "Hours to look back",
              "default": 24,
              "title": "Hours"
            },
            "description": "Hours to look back"
          },
          {
            "name": "layout",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Layout: hierarchy, timeline, circular",
              "default": "hierarchy",
              "title": "Layout"
            },
            "description": "Layout: hierarchy, timeline, circular"
          },
          {
            "name": "width",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 2000,
              "minimum": 400,
              "description": "SVG width",
              "default": 800,
              "title": "Width"
            },
            "description": "SVG width"
          },
          {
            "name": "height",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1500,
              "minimum": 300,
              "description": "SVG height",
              "default": 600,
              "title": "Height"
            },
            "description": "SVG height"
          },
          {
            "name": "scope",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by scope",
              "title": "Scope"
            },
            "description": "Filter by scope"
          },
          {
            "name": "type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by node type",
              "title": "Type"
            },
            "description": "Filter by node type"
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/memory/{node_id}/edges": {
      "get": {
        "tags": [
          "memory"
        ],
        "summary": "Get Node Edges",
        "description": "Get all edges connected to a node.\n\nReturns both incoming and outgoing edges.",
        "operationId": "get_node_edges_v1_memory__node_id__edges_get",
        "parameters": [
          {
            "name": "node_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Node ID",
              "title": "Node Id"
            },
            "description": "Node ID"
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_List_GraphEdge__"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/memory/recall/{node_id}": {
      "get": {
        "tags": [
          "memory"
        ],
        "summary": "Recall By Id",
        "description": "Recall a specific node by ID (legacy endpoint).\n\nUse GET /memory/{node_id} for new implementations.\n\nSECURITY: OBSERVER users can only access nodes they created or participated in.",
        "operationId": "recall_by_id_v1_memory_recall__node_id__get",
        "parameters": [
          {
            "name": "node_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Node ID to recall",
              "title": "Node Id"
            },
            "description": "Node ID to recall"
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_GraphNode_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/runtime/queue": {
      "get": {
        "tags": [
          "system-extensions"
        ],
        "summary": "Get Processing Queue Status",
        "description": "Get processing queue status.\n\nReturns information about pending thoughts, tasks, and processing metrics.",
        "operationId": "get_processing_queue_status_v1_system_runtime_queue_get",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_ProcessorQueueStatus_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/runtime/step": {
      "post": {
        "tags": [
          "system-extensions"
        ],
        "summary": "Single Step Processor",
        "description": "Execute a single processing step.\n\nUseful for debugging and demonstrations. Processes one item from the queue.\nAlways returns detailed H3ERE step data for transparency.\nRequires ADMIN role.",
        "operationId": "single_step_processor_v1_system_runtime_step_post",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "array",
                      "items": {}
                    },
                    {
                      "type": "object",
                      "additionalProperties": true
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "default": {},
                "title": "Body"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_SingleStepResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/services/health": {
      "get": {
        "tags": [
          "system-extensions"
        ],
        "summary": "Get Service Health Details",
        "description": "Get detailed service health status.\n\nReturns comprehensive health information including circuit breaker states,\nerror rates, and recommendations.",
        "operationId": "get_service_health_details_v1_system_services_health_get",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_ServiceHealthStatus_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/services/{provider_name}/priority": {
      "put": {
        "tags": [
          "system-extensions"
        ],
        "summary": "Update Service Priority",
        "description": "Update service provider priority.\n\nChanges the priority, priority group, and/or selection strategy for a service provider.\nRequires ADMIN role.",
        "operationId": "update_service_priority_v1_system_services__provider_name__priority_put",
        "parameters": [
          {
            "name": "provider_name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Provider Name"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ServicePriorityUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_ServicePriorityUpdateResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/services/circuit-breakers/reset": {
      "post": {
        "tags": [
          "system-extensions"
        ],
        "summary": "Reset Service Circuit Breakers",
        "description": "Reset circuit breakers.\n\nResets circuit breakers for specified service type or all services.\nUseful for recovering from transient failures.\nRequires ADMIN role.",
        "operationId": "reset_service_circuit_breakers_v1_system_services_circuit_breakers_reset_post",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CircuitBreakerResetRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_CircuitBreakerResetResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/services/selection-logic": {
      "get": {
        "tags": [
          "system-extensions"
        ],
        "summary": "Get Service Selection Explanation",
        "description": "Get service selection logic explanation.\n\nReturns detailed explanation of how services are selected, including\npriority groups, priorities, strategies, and circuit breaker behavior.",
        "operationId": "get_service_selection_explanation_v1_system_services_selection_logic_get",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_ServiceSelectionExplanation_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/processors": {
      "get": {
        "tags": [
          "system-extensions"
        ],
        "summary": "Get Processor States",
        "description": "Get information about all processor states.\n\nReturns the list of available processor states (WAKEUP, WORK, DREAM, PLAY,\nSOLITUDE, SHUTDOWN) and which one is currently active.",
        "operationId": "get_processor_states_v1_system_processors_get",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_List_ProcessorStateInfo__"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/runtime/reasoning-stream": {
      "get": {
        "tags": [
          "system-extensions"
        ],
        "summary": "Reasoning Stream",
        "description": "Stream live H3ERE reasoning steps as they occur.\n\nProvides real-time streaming of step-by-step reasoning for live UI generation.\nReturns Server-Sent Events (SSE) with step data as processing happens.\nRequires OBSERVER role or higher.",
        "operationId": "reasoning_stream_v1_system_runtime_reasoning_stream_get",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "title": "Response Reasoning Stream V1 System Runtime Reasoning Stream Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/health": {
      "get": {
        "tags": [
          "system"
        ],
        "summary": "Get System Health",
        "description": "Overall system health.\n\nReturns comprehensive system health including service status,\ninitialization state, and current cognitive state.",
        "operationId": "get_system_health_v1_system_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_SystemHealthResponse_"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/time": {
      "get": {
        "tags": [
          "system"
        ],
        "summary": "Get System Time",
        "description": "System time information.\n\nReturns both system time (host OS) and agent time (TimeService),\nalong with synchronization status.",
        "operationId": "get_system_time_v1_system_time_get",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_SystemTimeResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/runtime/{action}": {
      "post": {
        "tags": [
          "system"
        ],
        "summary": "Control Runtime",
        "description": "Runtime control actions.\n\nControl agent runtime behavior. Valid actions:\n- pause: Pause message processing\n- resume: Resume message processing\n- state: Get current runtime state\n\nRequires ADMIN role.",
        "operationId": "control_runtime_v1_system_runtime__action__post",
        "parameters": [
          {
            "name": "action",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Action"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RuntimeAction"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_RuntimeControlResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/state/transition": {
      "post": {
        "tags": [
          "system"
        ],
        "summary": "Transition Cognitive State",
        "description": "Request a cognitive state transition.\n\nTransitions the agent to a different cognitive state (WORK, DREAM, PLAY, SOLITUDE).\nValid transitions depend on the current state:\n- From WORK: Can transition to DREAM, PLAY, or SOLITUDE\n- From PLAY: Can transition to WORK or SOLITUDE\n- From SOLITUDE: Can transition to WORK\n- From DREAM: Typically transitions back to WORK when complete\n\nRequires ADMIN role.",
        "operationId": "transition_cognitive_state_v1_system_state_transition_post",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StateTransitionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_StateTransitionResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/resources": {
      "get": {
        "tags": [
          "system"
        ],
        "summary": "Get Resource Usage",
        "description": "Resource usage and limits.\n\nReturns current resource consumption, configured limits,\nand health status.",
        "operationId": "get_resource_usage_v1_system_resources_get",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_ResourceUsageResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/services": {
      "get": {
        "tags": [
          "system"
        ],
        "summary": "Get Services Status",
        "description": "Service status.\n\nReturns status of all system services including health,\navailability, and basic metrics.",
        "operationId": "get_services_status_v1_system_services_get",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_ServicesStatusResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/shutdown": {
      "post": {
        "tags": [
          "system"
        ],
        "summary": "Shutdown System",
        "description": "Graceful shutdown.\n\nInitiates graceful system shutdown. Requires confirmation\nflag to prevent accidental shutdowns.\n\nRequires ADMIN role.",
        "operationId": "shutdown_system_v1_system_shutdown_post",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ShutdownRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_ShutdownResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/local-shutdown": {
      "post": {
        "tags": [
          "system"
        ],
        "summary": "Local Shutdown",
        "description": "Localhost-only shutdown endpoint (no authentication required).\n\nThis endpoint is designed for Android/mobile apps where:\n- App data may be cleared (losing auth tokens)\n- Previous Python process may still be running\n- Need to gracefully shut down before starting new instance\n\nSecurity: Only accepts requests from localhost (127.0.0.1, ::1).\nThis is safe because only processes on the same device can call it.\n\nResponse codes for SmartStartup negotiation:\n- 200: Shutdown initiated successfully\n- 202: Shutdown already in progress\n- 403: Not localhost (security rejection)\n- 409: Resume in progress, retry later (with retry_after_ms)\n- 503: Server not ready",
        "operationId": "local_shutdown_v1_system_local_shutdown_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_ShutdownResponse_"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/adapters": {
      "get": {
        "tags": [
          "system"
        ],
        "summary": "List Adapters",
        "description": "List all loaded adapters.\n\nReturns information about all currently loaded adapter instances\nincluding their type, status, and basic metrics.",
        "operationId": "list_adapters_v1_system_adapters_get",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_AdapterListResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/adapters/types": {
      "get": {
        "tags": [
          "system"
        ],
        "summary": "List Module Types",
        "description": "List all available module/adapter types.\n\nReturns both core adapters (api, cli, discord) and modular services\n(mcp_client, mcp_server, reddit, etc.) with their typed configuration schemas.",
        "operationId": "list_module_types_v1_system_adapters_types_get",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_ModuleTypesResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/adapters/persisted": {
      "get": {
        "tags": [
          "system"
        ],
        "summary": "List Persisted Configurations",
        "description": "List all persisted adapter configurations.\n\nReturns configurations that are set to load on startup.\n\nRequires ADMIN role.",
        "operationId": "list_persisted_configurations_v1_system_adapters_persisted_get",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_PersistedConfigsResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/adapters/{adapter_type}/persisted": {
      "delete": {
        "tags": [
          "system"
        ],
        "summary": "Remove Persisted Configuration",
        "description": "Remove a persisted adapter configuration.\n\nThis prevents the adapter from being automatically loaded on startup.\n\nRequires ADMIN role.",
        "operationId": "remove_persisted_configuration_v1_system_adapters__adapter_type__persisted_delete",
        "parameters": [
          {
            "name": "adapter_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Adapter Type"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_RemovePersistedResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/adapters/available": {
      "get": {
        "tags": [
          "system"
        ],
        "summary": "List Available Adapters",
        "description": "List all discovered adapters with eligibility status.\n\nReturns both eligible (ready to use) and ineligible (missing requirements)\nadapters, including installation hints for ineligible adapters.",
        "operationId": "list_available_adapters_v1_system_adapters_available_get",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_Dict_str__Any__"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/adapters/{adapter_name}/install": {
      "post": {
        "tags": [
          "system"
        ],
        "summary": "Install Adapter Dependencies",
        "description": "Install missing dependencies for an adapter.\n\nAttempts to install missing binaries or packages using the adapter's\ninstall hints (brew, apt, pip, npm, etc.).\n\nRequires ADMIN role.",
        "operationId": "install_adapter_dependencies_v1_system_adapters__adapter_name__install_post",
        "parameters": [
          {
            "name": "adapter_name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Adapter Name"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": true,
                "default": {},
                "title": "Body"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_Dict_str__Any__"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/adapters/{adapter_name}/check-eligibility": {
      "post": {
        "tags": [
          "system"
        ],
        "summary": "Recheck Adapter Eligibility",
        "description": "Recheck eligibility for an adapter.\n\nUseful after manual installation of dependencies to see if the\nadapter is now eligible.",
        "operationId": "recheck_adapter_eligibility_v1_system_adapters__adapter_name__check_eligibility_post",
        "parameters": [
          {
            "name": "adapter_name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Adapter Name"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_Dict_str__Any__"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/adapters/configurable": {
      "get": {
        "tags": [
          "system"
        ],
        "summary": "List Configurable Adapters",
        "description": "List adapters that support interactive configuration.\n\nReturns information about all adapters that have defined interactive\nconfiguration workflows, including their workflow types and step counts.\n\nRequires ADMIN role.",
        "operationId": "list_configurable_adapters_v1_system_adapters_configurable_get",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_ConfigurableAdaptersResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/adapters/{adapter_id}": {
      "get": {
        "tags": [
          "system"
        ],
        "summary": "Get Adapter Status",
        "description": "Get detailed status of a specific adapter.\n\nReturns comprehensive information about an adapter instance\nincluding configuration, metrics, and service registrations.",
        "operationId": "get_adapter_status_v1_system_adapters__adapter_id__get",
        "parameters": [
          {
            "name": "adapter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Adapter Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_RuntimeAdapterStatus_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "system"
        ],
        "summary": "Unload Adapter",
        "description": "Unload an adapter instance.\n\nStops and removes an adapter from the runtime.\nWill fail if it's the last communication-capable adapter.\nRequires ADMIN role.",
        "operationId": "unload_adapter_v1_system_adapters__adapter_id__delete",
        "parameters": [
          {
            "name": "adapter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Adapter Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_AdapterOperationResult_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/adapters/{adapter_type}": {
      "post": {
        "tags": [
          "system"
        ],
        "summary": "Load Adapter",
        "description": "Load a new adapter instance.\n\nDynamically loads and starts a new adapter of the specified type.\nRequires ADMIN role.\n\nAdapter types: cli, api, discord, mcp, mcp_server",
        "operationId": "load_adapter_v1_system_adapters__adapter_type__post",
        "parameters": [
          {
            "name": "adapter_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Adapter Type"
            }
          },
          {
            "name": "adapter_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Adapter Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AdapterActionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_AdapterOperationResult_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/adapters/{adapter_id}/reload": {
      "put": {
        "tags": [
          "system"
        ],
        "summary": "Reload Adapter",
        "description": "Reload an adapter with new configuration.\n\nStops the adapter and restarts it with new configuration.\nUseful for applying configuration changes without full restart.\nRequires ADMIN role.",
        "operationId": "reload_adapter_v1_system_adapters__adapter_id__reload_put",
        "parameters": [
          {
            "name": "adapter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Adapter Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AdapterActionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_AdapterOperationResult_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/adapters/{adapter_type}/configure/start": {
      "post": {
        "tags": [
          "system"
        ],
        "summary": "Start Adapter Configuration",
        "description": "Start interactive configuration session for an adapter.\n\nCreates a new configuration session and returns the session ID along with\ninformation about the first step in the workflow.\n\nRequires ADMIN role.",
        "operationId": "start_adapter_configuration_v1_system_adapters__adapter_type__configure_start_post",
        "parameters": [
          {
            "name": "adapter_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Adapter Type"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_ConfigurationSessionResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/adapters/configure/{session_id}": {
      "get": {
        "tags": [
          "system"
        ],
        "summary": "Get Configuration Status",
        "description": "Get current status of a configuration session.\n\nReturns complete session state including current step, collected configuration,\nand session status.\n\nRequires OBSERVER role.",
        "operationId": "get_configuration_status_v1_system_adapters_configure__session_id__get",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Session Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_ConfigurationStatusResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/adapters/configure/{session_id}/step": {
      "post": {
        "tags": [
          "system"
        ],
        "summary": "Execute Configuration Step",
        "description": "Execute the current configuration step.\n\nThe body contains step-specific data such as user selections, input values,\nor OAuth callback data. The step type determines what data is expected.\n\nRequires ADMIN role.",
        "operationId": "execute_configuration_step_v1_system_adapters_configure__session_id__step_post",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Session Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StepExecutionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_StepExecutionResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/adapters/configure/{session_id}/status": {
      "get": {
        "tags": [
          "system"
        ],
        "summary": "Get Session Status",
        "description": "Get the current status of a configuration session.\n\nUseful for polling after OAuth callback to check if authentication completed.",
        "operationId": "get_session_status_v1_system_adapters_configure__session_id__status_get",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Session Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_ConfigurationSessionResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/adapters/configure/{session_id}/oauth/callback": {
      "get": {
        "tags": [
          "system"
        ],
        "summary": "Oauth Callback",
        "description": "Handle OAuth callback from external service.\n\nThis endpoint is called by OAuth providers after user authorization.\nIt processes the authorization code and advances the configuration workflow.\nReturns HTML that redirects back to the app or shows success message.\n\nNo authentication required (OAuth state validation provides security).",
        "operationId": "oauth_callback_v1_system_adapters_configure__session_id__oauth_callback_get",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Session Id"
            }
          },
          {
            "name": "code",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Code"
            }
          },
          {
            "name": "state",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "State"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/adapters/oauth/callback": {
      "get": {
        "tags": [
          "system"
        ],
        "summary": "Oauth Deeplink Callback",
        "description": "Handle OAuth callback forwarded from Android deep link (ciris://oauth/callback).\n\nThis endpoint receives OAuth callbacks that were forwarded from OAuthCallbackActivity\non Android. The Android app uses a deep link (ciris://oauth/callback) to receive\nthe OAuth redirect from the system browser, then forwards to this endpoint.\n\nThis is a generic endpoint that works for any OAuth2 provider (Home Assistant,\nDiscord, Google, Microsoft, Reddit, etc.) - the state parameter contains the\nsession_id which identifies the configuration session.",
        "operationId": "oauth_deeplink_callback_v1_system_adapters_oauth_callback_get",
        "parameters": [
          {
            "name": "code",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Code"
            }
          },
          {
            "name": "state",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "State"
            }
          },
          {
            "name": "provider",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Provider"
            }
          },
          {
            "name": "source",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Source"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_Dict_str__Any__"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/adapters/configure/{session_id}/complete": {
      "post": {
        "tags": [
          "system"
        ],
        "summary": "Complete Configuration",
        "description": "Finalize and apply the configuration.\n\nValidates the collected configuration and applies it to the adapter.\nOnce completed, the adapter should be ready to use with the new configuration.\n\nIf `persist` is True, the configuration will be saved for automatic loading\non startup, allowing the adapter to be automatically configured when the\nsystem restarts.\n\nRequires ADMIN role.",
        "operationId": "complete_configuration_v1_system_adapters_configure__session_id__complete_post",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Session Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConfigurationCompleteRequest",
                "default": {
                  "persist": false
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_ConfigurationCompleteResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/tools": {
      "get": {
        "tags": [
          "system"
        ],
        "summary": "Get Available Tools",
        "description": "Get list of all available tools from all tool providers.\n\nReturns tools from:\n- Core tool services (secrets, self_help)\n- Adapter tool services (API, Discord, etc.)\n\nRequires OBSERVER role.",
        "operationId": "get_available_tools_v1_system_tools_get",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "integer"
                      },
                      {
                        "type": "number"
                      },
                      {
                        "type": "boolean"
                      },
                      {
                        "type": "array",
                        "items": {}
                      },
                      {
                        "type": "object",
                        "additionalProperties": true
                      },
                      {
                        "type": "null"
                      }
                    ]
                  },
                  "title": "Response Get Available Tools V1 System Tools Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/config": {
      "get": {
        "tags": [
          "config"
        ],
        "summary": "List Configs",
        "description": "List all configurations.\n\nGet all configuration values, with sensitive values filtered based on role.",
        "operationId": "list_configs_v1_config_get",
        "parameters": [
          {
            "name": "prefix",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Prefix"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_ConfigListResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/config/{key}": {
      "get": {
        "tags": [
          "config"
        ],
        "summary": "Get Config",
        "description": "Get specific config.\n\nGet a specific configuration value.",
        "operationId": "get_config_v1_config__key__get",
        "parameters": [
          {
            "name": "key",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Configuration key",
              "title": "Key"
            },
            "description": "Configuration key"
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_ConfigItemResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "config"
        ],
        "summary": "Update Config",
        "description": "Update config.\n\nUpdate a configuration value. Requires ADMIN role, or SYSTEM_ADMIN for sensitive configs.",
        "operationId": "update_config_v1_config__key__put",
        "parameters": [
          {
            "name": "key",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Configuration key",
              "title": "Key"
            },
            "description": "Configuration key"
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConfigUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_ConfigItemResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "config"
        ],
        "summary": "Delete Config",
        "description": "Delete config.\n\nRemove a configuration value. Requires ADMIN role.",
        "operationId": "delete_config_v1_config__key__delete",
        "parameters": [
          {
            "name": "key",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Configuration key",
              "title": "Key"
            },
            "description": "Configuration key"
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_Dict_str__str__"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/telemetry/otlp/{signal}": {
      "get": {
        "tags": [
          "telemetry"
        ],
        "summary": "Get Otlp Telemetry",
        "description": "OpenTelemetry Protocol (OTLP) JSON export.\n\nExport telemetry data in OTLP JSON format for OpenTelemetry collectors.\n\nSupported signals:\n- metrics: System and service metrics\n- traces: Distributed traces with spans\n- logs: Structured log records\n\nReturns OTLP JSON formatted data compatible with OpenTelemetry v1.7.0 specification.",
        "operationId": "get_otlp_telemetry_v1_telemetry_otlp__signal__get",
        "parameters": [
          {
            "name": "signal",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Signal"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1000,
              "minimum": 1,
              "description": "Maximum items to return",
              "default": 100,
              "title": "Limit"
            },
            "description": "Maximum items to return"
          },
          {
            "name": "start_time",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Start of time range",
              "title": "Start Time"
            },
            "description": "Start of time range"
          },
          {
            "name": "end_time",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "End of time range",
              "title": "End Time"
            },
            "description": "End of time range"
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/telemetry/overview": {
      "get": {
        "tags": [
          "telemetry"
        ],
        "summary": "Get Telemetry Overview",
        "description": "System metrics summary.\n\nComprehensive overview combining telemetry, visibility, incidents, and resource usage.",
        "operationId": "get_telemetry_overview_v1_telemetry_overview_get",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_SystemOverview_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/telemetry/resources": {
      "get": {
        "tags": [
          "telemetry"
        ],
        "summary": "Get Resource Telemetry",
        "description": "Get current resource usage telemetry.\n\nReturns CPU, memory, disk, and other resource metrics.",
        "operationId": "get_resource_telemetry_v1_telemetry_resources_get",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_ResourceTelemetryResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/telemetry/metrics": {
      "get": {
        "tags": [
          "telemetry"
        ],
        "summary": "Get Detailed Metrics",
        "description": "Detailed metrics.\n\nGet detailed metrics with trends and breakdowns by service.",
        "operationId": "get_detailed_metrics_v1_telemetry_metrics_get",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_MetricsResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/telemetry/traces": {
      "get": {
        "tags": [
          "telemetry"
        ],
        "summary": "Get Reasoning Traces",
        "description": "Reasoning traces.\n\nGet reasoning traces showing agent thought processes and decision-making.",
        "operationId": "get_reasoning_traces_v1_telemetry_traces_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Maximum traces to return",
              "default": 10,
              "title": "Limit"
            },
            "description": "Maximum traces to return"
          },
          {
            "name": "start_time",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Start of time range",
              "title": "Start Time"
            },
            "description": "Start of time range"
          },
          {
            "name": "end_time",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "End of time range",
              "title": "End Time"
            },
            "description": "End of time range"
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_TracesResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/telemetry/logs": {
      "get": {
        "tags": [
          "telemetry"
        ],
        "summary": "Get System Logs",
        "description": "System logs.\n\nGet system logs from all services with filtering capabilities.",
        "operationId": "get_system_logs_v1_telemetry_logs_get",
        "parameters": [
          {
            "name": "start_time",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Start of time range",
              "title": "Start Time"
            },
            "description": "Start of time range"
          },
          {
            "name": "end_time",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "End of time range",
              "title": "End Time"
            },
            "description": "End of time range"
          },
          {
            "name": "level",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Log level filter",
              "title": "Level"
            },
            "description": "Log level filter"
          },
          {
            "name": "service",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Service filter",
              "title": "Service"
            },
            "description": "Service filter"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1000,
              "minimum": 1,
              "description": "Maximum logs to return",
              "default": 100,
              "title": "Limit"
            },
            "description": "Maximum logs to return"
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_LogsResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/telemetry/query": {
      "post": {
        "tags": [
          "telemetry"
        ],
        "summary": "Query Telemetry",
        "description": "Custom telemetry queries.\n\nExecute custom queries against telemetry data including metrics, traces, logs, incidents, and insights.\nRequires ADMIN role.",
        "operationId": "query_telemetry_v1_telemetry_query_post",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TelemetryQuery"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_QueryResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/telemetry/metrics/{metric_name}": {
      "get": {
        "tags": [
          "telemetry"
        ],
        "summary": "Get Detailed Metric",
        "description": "Get detailed information about a specific metric.\n\nReturns current value, trends, and historical data for the specified metric.",
        "operationId": "get_detailed_metric_v1_telemetry_metrics__metric_name__get",
        "parameters": [
          {
            "name": "metric_name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Metric Name"
            }
          },
          {
            "name": "hours",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 168,
              "minimum": 1,
              "description": "Hours of history to include",
              "default": 24,
              "title": "Hours"
            },
            "description": "Hours of history to include"
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_DetailedMetric_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/telemetry/unified": {
      "get": {
        "tags": [
          "telemetry"
        ],
        "summary": "Get Unified Telemetry",
        "description": "Unified enterprise telemetry endpoint.\n\nThis single endpoint replaces 78+ individual telemetry routes by intelligently\naggregating metrics from all 22 required services using parallel collection.\n\nFeatures:\n- Parallel collection from all services (10x faster than sequential)\n- Smart caching with 30-second TTL\n- Multiple views for different stakeholders\n- System health and reliability scoring\n- Export formats for monitoring tools\n\nExamples:\n- /telemetry/unified?view=summary - Executive dashboard\n- /telemetry/unified?view=health - Quick health check\n- /telemetry/unified?view=operational&live=true - Live ops data\n- /telemetry/unified?view=reliability - System reliability metrics\n- /telemetry/unified?category=buses - Just bus metrics\n- /telemetry/unified?format=prometheus - Prometheus export",
        "operationId": "get_unified_telemetry_v1_telemetry_unified_get",
        "parameters": [
          {
            "name": "view",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "View type: summary|health|operational|detailed|performance|reliability",
              "default": "summary",
              "title": "View"
            },
            "description": "View type: summary|health|operational|detailed|performance|reliability"
          },
          {
            "name": "category",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by category: buses|graph|infrastructure|governance|runtime|adapters|components|all",
              "title": "Category"
            },
            "description": "Filter by category: buses|graph|infrastructure|governance|runtime|adapters|components|all"
          },
          {
            "name": "format",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Output format: json|prometheus|graphite",
              "default": "json",
              "title": "Format"
            },
            "description": "Output format: json|prometheus|graphite"
          },
          {
            "name": "live",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Force live collection (bypass cache)",
              "default": false,
              "title": "Live"
            },
            "description": "Force live collection (bypass cache)"
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/telemetry/resources/history": {
      "get": {
        "tags": [
          "telemetry"
        ],
        "summary": "Get Resource History",
        "description": "Get historical resource usage data.\n\nReturns time-series data for resource usage over the specified period.",
        "operationId": "get_resource_history_v1_telemetry_resources_history_get",
        "parameters": [
          {
            "name": "hours",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 168,
              "minimum": 1,
              "description": "Hours of history",
              "default": 24,
              "title": "Hours"
            },
            "description": "Hours of history"
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/audit/entries": {
      "get": {
        "tags": [
          "audit"
        ],
        "summary": "Query Audit Entries",
        "description": "Query audit entries with flexible filtering.\n\nCombines time-based queries, entity filtering, and text search into a single endpoint.\nReturns paginated results sorted by timestamp (newest first).\n\nRequires OBSERVER role or higher.",
        "operationId": "query_audit_entries_v1_audit_entries_get",
        "parameters": [
          {
            "name": "start_time",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Start of time range",
              "title": "Start Time"
            },
            "description": "Start of time range"
          },
          {
            "name": "end_time",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "End of time range",
              "title": "End Time"
            },
            "description": "End of time range"
          },
          {
            "name": "actor",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by actor",
              "title": "Actor"
            },
            "description": "Filter by actor"
          },
          {
            "name": "event_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by event type",
              "title": "Event Type"
            },
            "description": "Filter by event type"
          },
          {
            "name": "entity_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by entity ID",
              "title": "Entity Id"
            },
            "description": "Filter by entity ID"
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Search in audit details",
              "title": "Search"
            },
            "description": "Search in audit details"
          },
          {
            "name": "severity",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by severity (info, warning, error)",
              "title": "Severity"
            },
            "description": "Filter by severity (info, warning, error)"
          },
          {
            "name": "outcome",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by outcome (success, failure)",
              "title": "Outcome"
            },
            "description": "Filter by outcome (success, failure)"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1000,
              "minimum": 1,
              "description": "Maximum results",
              "default": 100,
              "title": "Limit"
            },
            "description": "Maximum results"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Results offset",
              "default": 0,
              "title": "Offset"
            },
            "description": "Results offset"
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_AuditEntriesResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/audit/entries/{entry_id}": {
      "get": {
        "tags": [
          "audit"
        ],
        "summary": "Get Audit Entry",
        "description": "Get specific audit entry by ID with optional verification.\n\nReturns the audit entry and optionally includes:\n- Verification status of the entry's signature and hash\n- Position in the audit chain\n- Links to previous and next entries\n\nRequires OBSERVER role or higher.",
        "operationId": "get_audit_entry_v1_audit_entries__entry_id__get",
        "parameters": [
          {
            "name": "entry_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Audit entry ID",
              "title": "Entry Id"
            },
            "description": "Audit entry ID"
          },
          {
            "name": "verify",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include verification information",
              "default": false,
              "title": "Verify"
            },
            "description": "Include verification information"
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_AuditEntryDetailResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/audit/search": {
      "post": {
        "tags": [
          "audit"
        ],
        "summary": "Search Audit Trails",
        "description": "Search audit trails with text search and filters.\n\nThis is a convenience endpoint that focuses on search functionality.\nFor more complex queries, use the /entries endpoint.\n\nRequires OBSERVER role or higher.",
        "operationId": "search_audit_trails_v1_audit_search_post",
        "parameters": [
          {
            "name": "search_text",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Text to search for",
              "title": "Search Text"
            },
            "description": "Text to search for"
          },
          {
            "name": "entity_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by entity ID",
              "title": "Entity Id"
            },
            "description": "Filter by entity ID"
          },
          {
            "name": "severity",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by severity",
              "title": "Severity"
            },
            "description": "Filter by severity"
          },
          {
            "name": "outcome",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by outcome",
              "title": "Outcome"
            },
            "description": "Filter by outcome"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1000,
              "minimum": 1,
              "description": "Maximum results",
              "default": 100,
              "title": "Limit"
            },
            "description": "Maximum results"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Results offset",
              "default": 0,
              "title": "Offset"
            },
            "description": "Results offset"
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_AuditEntriesResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/audit/verify/{entry_id}": {
      "post": {
        "tags": [
          "audit"
        ],
        "summary": "Verify Audit Entry",
        "description": "Verify the integrity of a specific audit entry.\n\nReturns detailed verification information including signature validation\nand hash chain integrity.\n\nRequires ADMIN role or higher.",
        "operationId": "verify_audit_entry_v1_audit_verify__entry_id__post",
        "parameters": [
          {
            "name": "entry_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Audit entry ID to verify",
              "title": "Entry Id"
            },
            "description": "Audit entry ID to verify"
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_VerificationReport_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/audit/export": {
      "post": {
        "tags": [
          "audit"
        ],
        "summary": "Export Audit Data",
        "description": "Export audit data for compliance and analysis.\n\nExports audit entries in the specified format. For small datasets (< 1000 entries),\ndata is returned inline. For larger datasets, a download URL is provided.\n\nFormats:\n- **jsonl**: JSON Lines format (one entry per line)\n- **json**: Standard JSON array\n- **csv**: CSV format with standard audit fields\n\nRequires ADMIN role or higher.",
        "operationId": "export_audit_data_v1_audit_export_post",
        "parameters": [
          {
            "name": "start_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Export start date",
              "title": "Start Date"
            },
            "description": "Export start date"
          },
          {
            "name": "end_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Export end date",
              "title": "End Date"
            },
            "description": "Export end date"
          },
          {
            "name": "format",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "pattern": "^(json|jsonl|csv)$",
              "description": "Export format",
              "default": "jsonl",
              "title": "Format"
            },
            "description": "Export format"
          },
          {
            "name": "include_verification",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include verification data in export",
              "default": false,
              "title": "Include Verification"
            },
            "description": "Include verification data in export"
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_AuditExportResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/wa/deferrals": {
      "get": {
        "tags": [
          "wise_authority"
        ],
        "summary": "Get Deferrals",
        "description": "Get list of pending deferrals.\n\nReturns all pending deferrals that need WA review. Can optionally\nfilter by WA ID to see deferrals assigned to a specific authority.\n\nRequires OBSERVER role or higher.",
        "operationId": "get_deferrals_v1_wa_deferrals_get",
        "parameters": [
          {
            "name": "wa_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by WA ID",
              "title": "Wa Id"
            },
            "description": "Filter by WA ID"
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_DeferralListResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/wa/deferrals/{deferral_id}/resolve": {
      "post": {
        "tags": [
          "wise_authority"
        ],
        "summary": "Resolve Deferral",
        "description": "Resolve a pending deferral with guidance.\n\nAllows a WA with AUTHORITY role to approve, reject, or modify\na deferred decision. The resolution includes wisdom guidance\nintegrated into the decision.\n\nRequires AUTHORITY role.",
        "operationId": "resolve_deferral_v1_wa_deferrals__deferral_id__resolve_post",
        "parameters": [
          {
            "name": "deferral_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Deferral Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResolveDeferralRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_ResolveDeferralResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/wa/permissions": {
      "get": {
        "tags": [
          "wise_authority"
        ],
        "summary": "Get Permissions",
        "description": "Get WA permission status.\n\nReturns permission status for a specific WA. If no WA ID\nis provided, returns permissions for the authenticated user.\nThis simplified endpoint focuses on viewing permissions only.\n\nRequires OBSERVER role or higher.",
        "operationId": "get_permissions_v1_wa_permissions_get",
        "parameters": [
          {
            "name": "wa_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "WA ID to get permissions for (defaults to current user)",
              "title": "Wa Id"
            },
            "description": "WA ID to get permissions for (defaults to current user)"
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_PermissionsListResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/wa/status": {
      "get": {
        "tags": [
          "wise_authority"
        ],
        "summary": "Get Wa Status",
        "description": "Get current WA service status.\n\nReturns information about the WA service including:\n- Number of active WAs\n- Number of pending deferrals\n- Service health status\n\nRequires OBSERVER role or higher.",
        "operationId": "get_wa_status_v1_wa_status_get",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_WAStatusResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/wa/guidance": {
      "post": {
        "tags": [
          "wise_authority"
        ],
        "summary": "Request Guidance",
        "description": "Request guidance from WA on a specific topic.\n\nThis endpoint allows requesting wisdom guidance without\ncreating a formal deferral. Useful for proactive wisdom\nintegration.\n\nRequires OBSERVER role or higher.",
        "operationId": "request_guidance_v1_wa_guidance_post",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WAGuidanceRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_WAGuidanceResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/auth/login": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Login",
        "description": "Authenticate with username/password.\n\nCurrently supports system admin user only. In production, this would\nintegrate with a proper user database.",
        "operationId": "login_v1_auth_login_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/auth/logout": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Logout",
        "description": "End the current session by revoking the API key.\n\nThis endpoint invalidates the current authentication token,\neffectively logging out the user.",
        "operationId": "logout_v1_auth_logout_post",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/auth/me": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "Get Current User",
        "description": "Get current authenticated user information.\n\nReturns details about the currently authenticated user including\ntheir role and all permissions based on that role.",
        "operationId": "get_current_user_v1_auth_me_get",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserInfo"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/auth/refresh": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Refresh Token",
        "description": "Refresh access token.\n\nCreates a new access token and revokes the old one. Supports both\nAPI key and OAuth refresh flows. The user must be authenticated\nto refresh their token.",
        "operationId": "refresh_token_v1_auth_refresh_post",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TokenRefreshRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/auth/oauth/providers": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "List Oauth Providers",
        "description": "List configured OAuth providers.\n\nRequires: users.write permission (SYSTEM_ADMIN only)",
        "operationId": "list_oauth_providers_v1_auth_oauth_providers_get",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OAuthProvidersResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Configure Oauth Provider",
        "description": "Configure an OAuth provider.\n\nRequires: users.write permission (SYSTEM_ADMIN only)",
        "operationId": "configure_oauth_provider_v1_auth_oauth_providers_post",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConfigureOAuthProviderRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConfigureOAuthProviderResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/auth/oauth/{provider}/login": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "Oauth Login",
        "description": "Initiate OAuth login flow.\n\nRedirects to the OAuth provider's authorization URL.\nAccepts optional redirect_uri to specify where to send tokens after OAuth.",
        "operationId": "oauth_login_v1_auth_oauth__provider__login_get",
        "parameters": [
          {
            "name": "provider",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Provider"
            }
          },
          {
            "name": "redirect_uri",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Redirect Uri"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/auth/oauth/{provider}/callback": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "Oauth Callback",
        "description": "Handle OAuth callback.\n\nExchanges authorization code for tokens and creates/updates user.\nExtracts marketing_opt_in from redirect_uri if present.",
        "operationId": "oauth_callback_v1_auth_oauth__provider__callback_get",
        "parameters": [
          {
            "name": "provider",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Provider"
            }
          },
          {
            "name": "code",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Code"
            }
          },
          {
            "name": "state",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "State"
            }
          },
          {
            "name": "marketing_opt_in",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Marketing Opt In"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/auth/native/google": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Native Google Token Exchange",
        "description": "Exchange a native Google ID token for a CIRIS API token.\n\nThis endpoint is used by native Android/iOS apps that perform Google Sign-In\ndirectly and need to exchange their Google ID token for a CIRIS API token.\n\nUnlike the web OAuth flow (which uses authorization codes), native apps get\nID tokens directly from Google Sign-In SDK and send them here.",
        "operationId": "native_google_token_exchange_v1_auth_native_google_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NativeTokenRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NativeTokenResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/auth/api-keys": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Create Api Key",
        "description": "Create a new API key for the authenticated user.\n\nUsers can create API keys for their OAuth identity with configurable expiry (30min - 7 days).\nThe key is only shown once and cannot be retrieved later.",
        "operationId": "create_api_key_v1_auth_api_keys_post",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/APIKeyCreateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/APIKeyResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "List Api Keys",
        "description": "List all API keys for the authenticated user.\n\nReturns information about all API keys created by the user (excluding the actual key values).",
        "operationId": "list_api_keys_v1_auth_api_keys_get",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/APIKeyListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/auth/api-keys/{key_id}": {
      "delete": {
        "tags": [
          "Authentication"
        ],
        "summary": "Delete Api Key",
        "description": "Delete an API key.\n\nUsers can only delete their own API keys.",
        "operationId": "delete_api_key_v1_auth_api_keys__key_id__delete",
        "parameters": [
          {
            "name": "key_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Key Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/users": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "List Users",
        "description": "List all users with optional filtering.\n\nRequires: users.read permission (ADMIN or higher)",
        "operationId": "list_users_v1_users_get",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Page Size"
            }
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Search"
            }
          },
          {
            "name": "auth_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Auth Type"
            }
          },
          {
            "name": "api_role",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/APIRole"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Api Role"
            }
          },
          {
            "name": "wa_role",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/WARole"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Wa Role"
            }
          },
          {
            "name": "is_active",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Is Active"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedResponse_UserSummary_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Create User",
        "description": "Create a new user account.\n\nRequires: users.write permission (SYSTEM_ADMIN only)",
        "operationId": "create_user_v1_users_post",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateUserRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/users/request-permissions": {
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Request Permissions",
        "description": "Request communication permissions for the current user.\n\nRequires: Must be authenticated (any role)",
        "operationId": "request_permissions_v1_users_request_permissions_post",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PermissionRequestResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/users/permission-requests": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "Get Permission Requests",
        "description": "Get list of users who have requested permissions.\n\nRequires: ADMIN role or higher",
        "operationId": "get_permission_requests_v1_users_permission_requests_get",
        "parameters": [
          {
            "name": "include_granted",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include users who already have permissions",
              "default": false,
              "title": "Include Granted"
            },
            "description": "Include users who already have permissions"
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PermissionRequestUser"
                  },
                  "title": "Response Get Permission Requests V1 Users Permission Requests Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/users/me/settings": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "Get My Settings",
        "description": "Get the current user's personal settings.\n\nRequires: Must be authenticated (any role)",
        "operationId": "get_my_settings_v1_users_me_settings_get",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserSettingsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "users"
        ],
        "summary": "Update My Settings",
        "description": "Update the current user's personal settings.\n\nRequires: Must be authenticated (any role)\n\nNote: This endpoint bypasses the MANAGED_USER_ATTRIBUTES protection\nbecause users are allowed to modify their own settings.",
        "operationId": "update_my_settings_v1_users_me_settings_put",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserSettingsRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserSettingsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/users/{user_id}": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "Get User",
        "description": "Get detailed information about a specific user.\n\nRequires: users.read permission (ADMIN or higher)",
        "operationId": "get_user_v1_users__user_id__get",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "users"
        ],
        "summary": "Update User",
        "description": "Update user information (role, active status).\n\nRequires: users.write permission (SYSTEM_ADMIN only)",
        "operationId": "update_user_v1_users__user_id__put",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "users"
        ],
        "summary": "Deactivate User",
        "description": "Deactivate a user account.\n\nRequires: users.delete permission (SYSTEM_ADMIN only)",
        "operationId": "deactivate_user_v1_users__user_id__delete",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeactivateUserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/users/{user_id}/password": {
      "put": {
        "tags": [
          "users"
        ],
        "summary": "Change Password",
        "description": "Change user password.\n\nUsers can change their own password.\nSYSTEM_ADMIN can change any password without knowing current.",
        "operationId": "change_password_v1_users__user_id__password_put",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChangePasswordRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "string"
                  },
                  "title": "Response Change Password V1 Users  User Id  Password Put"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/users/{user_id}/oauth-links": {
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Link Oauth Account",
        "description": "Link an OAuth identity to an existing user.\n\nUsers can link accounts to themselves without special permissions.\nOnly SYSTEM_ADMIN can link accounts to other users.",
        "operationId": "link_oauth_account_v1_users__user_id__oauth_links_post",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LinkOAuthAccountRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/users/{user_id}/oauth-links/{provider}/{external_id}": {
      "delete": {
        "tags": [
          "users"
        ],
        "summary": "Unlink Oauth Account",
        "description": "Remove a linked OAuth identity from a user.\n\nUsers can unlink accounts from themselves without special permissions.\nOnly SYSTEM_ADMIN can unlink accounts from other users.",
        "operationId": "unlink_oauth_account_v1_users__user_id__oauth_links__provider___external_id__delete",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          },
          {
            "name": "provider",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Provider"
            }
          },
          {
            "name": "external_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "External Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/users/{user_id}/mint-wa": {
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Mint Wise Authority",
        "description": "Mint a user as a Wise Authority.\n\nRequires: ADMIN role or higher and valid Ed25519 signature from ROOT private key.\n\nThe signature should be over the message:\n\"MINT_WA:{user_id}:{wa_role}:{timestamp}\"\n\nIf no signature is provided and private_key_path is specified, will attempt\nto sign automatically using the key at that path.",
        "operationId": "mint_wise_authority_v1_users__user_id__mint_wa_post",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MintWARequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/users/wa/key-check": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "Check Wa Key Exists",
        "description": "Check if a WA private key exists at the given filename.\n\nRequires: wa.mint permission (SYSTEM_ADMIN only)\n\nThis is used by the UI to determine if auto-signing is available.\nOnly checks files within ~/.ciris/wa_keys/ for security.",
        "operationId": "check_wa_key_exists_v1_users_wa_key_check_get",
        "parameters": [
          {
            "name": "path",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Filename of private key to check",
              "title": "Path"
            },
            "description": "Filename of private key to check"
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WAKeyCheckResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/users/{user_id}/api-keys": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "List User Api Keys",
        "description": "List API keys for a user.\n\nUsers can view their own keys.\nADMIN+ can view any user's keys.",
        "operationId": "list_user_api_keys_v1_users__user_id__api_keys_get",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ciris_engine__logic__adapters__api__routes__users__APIKeyInfo"
                  },
                  "title": "Response List User Api Keys V1 Users  User Id  Api Keys Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/users/{user_id}/permissions": {
      "put": {
        "tags": [
          "users"
        ],
        "summary": "Update User Permissions",
        "description": "Update user's custom permissions.\n\nRequires: users.permissions permission (AUTHORITY or higher)\n\nThis allows granting specific permissions to users beyond their role defaults.\nFor example, granting SEND_MESSAGES permission to an OBSERVER.",
        "operationId": "update_user_permissions_v1_users__user_id__permissions_put",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdatePermissionsRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/consent/status": {
      "get": {
        "tags": [
          "consent"
        ],
        "summary": "Get Consent Status",
        "description": "Get current consent status for authenticated user.\n\nReturns None if no consent exists (user has not interacted yet).",
        "operationId": "get_consent_status_v1_consent_status_get",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConsentStatusResponse"
                }
              }
            }
          },
          "401": {
            "description": "Not authenticated"
          },
          "403": {
            "description": "Insufficient permissions"
          },
          "404": {
            "description": "Consent not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/consent/query": {
      "get": {
        "tags": [
          "consent"
        ],
        "summary": "Query Consents",
        "description": "Query consent records with optional filters.\n\nArgs:\n    status: Filter by status (ACTIVE, REVOKED, EXPIRED)\n    user_id: Filter by user ID (admin only)\n\nReturns:\n    Dictionary with consents list and total count",
        "operationId": "query_consents_v1_consent_query_get",
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status"
            }
          },
          {
            "name": "user_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "User Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConsentQueryResponse"
                }
              }
            }
          },
          "401": {
            "description": "Not authenticated"
          },
          "403": {
            "description": "Insufficient permissions"
          },
          "404": {
            "description": "Consent not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/consent/grant": {
      "post": {
        "tags": [
          "consent"
        ],
        "summary": "Grant Consent",
        "description": "Grant or update consent.\n\nStreams:\n- TEMPORARY: 14-day auto-forget (default)\n- PARTNERED: Explicit consent for mutual growth\n- ANONYMOUS: Statistics only, no identity",
        "operationId": "grant_consent_v1_consent_grant_post",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConsentRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConsentStatus"
                }
              }
            }
          },
          "401": {
            "description": "Not authenticated"
          },
          "403": {
            "description": "Insufficient permissions"
          },
          "404": {
            "description": "Consent not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/consent/revoke": {
      "post": {
        "tags": [
          "consent"
        ],
        "summary": "Revoke Consent",
        "description": "Revoke consent and start decay protocol.\n\n- Immediate identity severance\n- 90-day pattern decay\n- Safety patterns may be retained (anonymized)",
        "operationId": "revoke_consent_v1_consent_revoke_post",
        "parameters": [
          {
            "name": "reason",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Reason"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConsentDecayStatus"
                }
              }
            }
          },
          "401": {
            "description": "Not authenticated"
          },
          "403": {
            "description": "Insufficient permissions"
          },
          "404": {
            "description": "Consent not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/consent/impact": {
      "get": {
        "tags": [
          "consent"
        ],
        "summary": "Get Impact Report",
        "description": "Get impact report showing contribution to collective learning.\n\nShows:\n- Patterns contributed\n- Users helped\n- Impact score\n- Example contributions (anonymized)",
        "operationId": "get_impact_report_v1_consent_impact_get",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConsentImpactReport"
                }
              }
            }
          },
          "401": {
            "description": "Not authenticated"
          },
          "403": {
            "description": "Insufficient permissions"
          },
          "404": {
            "description": "Consent not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/consent/audit": {
      "get": {
        "tags": [
          "consent"
        ],
        "summary": "Get Audit Trail",
        "description": "Get consent change history - IMMUTABLE AUDIT TRAIL.",
        "operationId": "get_audit_trail_v1_consent_audit_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ConsentAuditEntry"
                  },
                  "title": "Response Get Audit Trail V1 Consent Audit Get"
                }
              }
            }
          },
          "401": {
            "description": "Not authenticated"
          },
          "403": {
            "description": "Insufficient permissions"
          },
          "404": {
            "description": "Consent not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/consent/streams": {
      "get": {
        "tags": [
          "consent"
        ],
        "summary": "Get Consent Streams",
        "description": "Get available consent streams and their descriptions.",
        "operationId": "get_consent_streams_v1_consent_streams_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConsentStreamsResponse"
                }
              }
            }
          },
          "401": {
            "description": "Not authenticated"
          },
          "403": {
            "description": "Insufficient permissions"
          },
          "404": {
            "description": "Consent not found"
          }
        }
      }
    },
    "/v1/consent/categories": {
      "get": {
        "tags": [
          "consent"
        ],
        "summary": "Get Consent Categories",
        "description": "Get available consent categories for PARTNERED stream.",
        "operationId": "get_consent_categories_v1_consent_categories_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConsentCategoriesResponse"
                }
              }
            }
          },
          "401": {
            "description": "Not authenticated"
          },
          "403": {
            "description": "Insufficient permissions"
          },
          "404": {
            "description": "Consent not found"
          }
        }
      }
    },
    "/v1/consent/partnership/status": {
      "get": {
        "tags": [
          "consent"
        ],
        "summary": "Check Partnership Status",
        "description": "Check status of pending partnership request.\n\nReturns current status and any pending partnership request outcome.",
        "operationId": "check_partnership_status_v1_consent_partnership_status_get",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PartnershipStatusResponse"
                }
              }
            }
          },
          "401": {
            "description": "Not authenticated"
          },
          "403": {
            "description": "Insufficient permissions"
          },
          "404": {
            "description": "Consent not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/consent/cleanup": {
      "post": {
        "tags": [
          "consent"
        ],
        "summary": "Cleanup Expired",
        "description": "Clean up expired TEMPORARY consents (admin only).\n\nHARD DELETE after 14 days - NO GRACE PERIOD.",
        "operationId": "cleanup_expired_v1_consent_cleanup_post",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConsentCleanupResponse"
                }
              }
            }
          },
          "401": {
            "description": "Not authenticated"
          },
          "403": {
            "description": "Insufficient permissions"
          },
          "404": {
            "description": "Consent not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/consent/dsar/initiate": {
      "post": {
        "tags": [
          "consent"
        ],
        "summary": "Initiate Dsar",
        "description": "Initiate automated DSAR (Data Subject Access Request).\n\nArgs:\n    request_type: Type of DSAR - \"full\", \"consent_only\", \"impact_only\", or \"audit_only\"\n\nReturns:\n    Export data matching the request type",
        "operationId": "initiate_dsar_v1_consent_dsar_initiate_post",
        "parameters": [
          {
            "name": "request_type",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "full",
              "title": "Request Type"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DSARInitiateResponse"
                }
              }
            }
          },
          "401": {
            "description": "Not authenticated"
          },
          "403": {
            "description": "Insufficient permissions"
          },
          "404": {
            "description": "Consent not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/consent/dsar/status/{request_id}": {
      "get": {
        "tags": [
          "consent"
        ],
        "summary": "Get Dsar Status",
        "description": "Get status of a DSAR request.\n\nSince DSAR requests are processed immediately, this always returns \"completed\".\nIn a production system with async processing, this would track actual status.",
        "operationId": "get_dsar_status_v1_consent_dsar_status__request_id__get",
        "parameters": [
          {
            "name": "request_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Request Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DSARStatusResponse"
                }
              }
            }
          },
          "401": {
            "description": "Not authenticated"
          },
          "403": {
            "description": "Insufficient permissions"
          },
          "404": {
            "description": "Consent not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/dsar/": {
      "get": {
        "tags": [
          "DSAR"
        ],
        "summary": "List Dsar Requests",
        "description": "List all DSAR requests (admin only).\n\nThis endpoint is for administrators to review pending requests.",
        "operationId": "list_dsar_requests_v1_dsar__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StandardResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "post": {
        "tags": [
          "DSAR"
        ],
        "summary": "Submit Dsar",
        "description": "Submit a Data Subject Access Request (DSAR).\n\nThis endpoint handles GDPR Article 15-22 rights:\n- Right of access (Article 15) - INSTANT automated response with full data\n- Right to rectification (Article 16)\n- Right to erasure / \"right to be forgotten\" (Article 17) - Triggers decay protocol\n- Right to data portability (Article 20) - INSTANT automated export\n\nDELETE requests trigger Consensual Evolution Protocol:\n- Immediate identity severance\n- 90-day pattern decay\n- Safety patterns may be retained (anonymized)\n\nACCESS and EXPORT requests use automated DSAR service for instant responses.\n\nReturns a ticket ID for tracking the request.",
        "operationId": "submit_dsar_v1_dsar__post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DSARRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StandardResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/dsar/{ticket_id}": {
      "get": {
        "tags": [
          "DSAR"
        ],
        "summary": "Check Dsar Status",
        "description": "Check the status of a DSAR request.\n\nAnyone with the ticket ID can check status (like a tracking number).",
        "operationId": "check_dsar_status_v1_dsar__ticket_id__get",
        "parameters": [
          {
            "name": "ticket_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Ticket Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StandardResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/dsar/{ticket_id}/status": {
      "put": {
        "tags": [
          "DSAR"
        ],
        "summary": "Update Dsar Status",
        "description": "Update the status of a DSAR request (admin only).\n\nStatus workflow:\n- pending_review \u2192 in_progress \u2192 completed/rejected",
        "operationId": "update_dsar_status_v1_dsar__ticket_id__status_put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "ticket_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Ticket Id"
            }
          },
          {
            "name": "new_status",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "New Status"
            }
          },
          {
            "name": "notes",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Notes"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StandardResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/dsar/{ticket_id}/deletion-status": {
      "get": {
        "tags": [
          "DSAR"
        ],
        "summary": "Get Deletion Status",
        "description": "Get deletion progress for a DSAR deletion request.\n\nThis endpoint tracks the 90-day decay protocol progress for deletion requests.\nAnyone with the ticket ID can check status (like a tracking number).",
        "operationId": "get_deletion_status_v1_dsar__ticket_id__deletion_status_get",
        "parameters": [
          {
            "name": "ticket_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Ticket Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StandardResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/dsar/multi-source/": {
      "post": {
        "tags": [
          "DSAR Multi-Source"
        ],
        "summary": "Submit Multi Source Dsar",
        "description": "Submit a multi-source Data Subject Access Request (DSAR).\n\nCoordinates GDPR requests across CIRIS + all registered external data sources:\n- SQL databases\n- REST APIs\n- HL7 systems (future)\n\nRequires authentication (admin or authorized user).\n\nReturns aggregated results from all sources.",
        "operationId": "submit_multi_source_dsar_v1_dsar_multi_source__post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MultiSourceDSARRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StandardResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/v1/dsar/multi-source": {
      "post": {
        "tags": [
          "DSAR Multi-Source"
        ],
        "summary": "Submit Multi Source Dsar",
        "description": "Submit a multi-source Data Subject Access Request (DSAR).\n\nCoordinates GDPR requests across CIRIS + all registered external data sources:\n- SQL databases\n- REST APIs\n- HL7 systems (future)\n\nRequires authentication (admin or authorized user).\n\nReturns aggregated results from all sources.",
        "operationId": "submit_multi_source_dsar_v1_dsar_multi_source_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MultiSourceDSARRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StandardResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/v1/dsar/multi-source/{ticket_id}": {
      "get": {
        "tags": [
          "DSAR Multi-Source"
        ],
        "summary": "Get Multi Source Status",
        "description": "Get real-time status of multi-source DSAR request.\n\nReturns current progress across all data sources.",
        "operationId": "get_multi_source_status_v1_dsar_multi_source__ticket_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "ticket_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Ticket Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StandardResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "DSAR Multi-Source"
        ],
        "summary": "Cancel Multi Source Request",
        "description": "Cancel in-progress multi-source DSAR request.\n\nNote: Current implementation completes requests instantly,\nso cancellation may not be possible for most requests.",
        "operationId": "cancel_multi_source_request_v1_dsar_multi_source__ticket_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "ticket_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Ticket Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StandardResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/dsar/multi-source/{ticket_id}/partial": {
      "get": {
        "tags": [
          "DSAR Multi-Source"
        ],
        "summary": "Get Partial Results",
        "description": "Get partial results as sources complete.\n\nReturns data from completed sources while others are still processing.\n\nNote: Current implementation completes all sources instantly,\nbut this endpoint supports future async multi-source operations.",
        "operationId": "get_partial_results_v1_dsar_multi_source__ticket_id__partial_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "ticket_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Ticket Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StandardResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/connectors/sql": {
      "post": {
        "tags": [
          "Connectors"
        ],
        "summary": "Register Sql Connector",
        "description": "Register a new SQL database connector.\n\nRequires admin privileges.\n\nThe connector will be registered with the tool bus and made available\nfor multi-source DSAR operations.\n\nConfiguration must include:\n- connector_name: Human-readable name\n- database_type: postgres, mysql, sqlite, etc.\n- host, port, database, username, password\n- privacy_schema: YAML defining PII columns (optional)",
        "operationId": "register_sql_connector_v1_connectors_sql_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConnectorRegistrationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StandardResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/v1/connectors/": {
      "get": {
        "tags": [
          "Connectors"
        ],
        "summary": "List Connectors",
        "description": "List all registered connectors.\n\nOptionally filter by connector_type (sql, rest, hl7).\n\nRequires admin privileges.",
        "operationId": "list_connectors_v1_connectors__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "connector_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Connector Type"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StandardResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/connectors/{connector_id}/test": {
      "post": {
        "tags": [
          "Connectors"
        ],
        "summary": "Test Connector",
        "description": "Test connector connection health.\n\nAttempts a test query or connection to verify the connector is working.\n\nRequires admin privileges.",
        "operationId": "test_connector_v1_connectors__connector_id__test_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "connector_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Connector Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StandardResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/connectors/{connector_id}": {
      "patch": {
        "tags": [
          "Connectors"
        ],
        "summary": "Update Connector",
        "description": "Update connector configuration.\n\nCan update configuration fields or enable/disable the connector.\n\nRequires admin privileges.",
        "operationId": "update_connector_v1_connectors__connector_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "connector_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Connector Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConnectorUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StandardResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Connectors"
        ],
        "summary": "Delete Connector",
        "description": "Remove a connector from the system.\n\nThis is a destructive operation and cannot be undone.\n\nRequires admin privileges.",
        "operationId": "delete_connector_v1_connectors__connector_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "connector_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Connector Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StandardResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/tickets/sops": {
      "get": {
        "tags": [
          "Tickets"
        ],
        "summary": "List Supported Sops",
        "description": "List all supported Standard Operating Procedures for this agent.\n\nDSAR SOPs are always present (GDPR compliance).\nAdditional SOPs defined in graph config (seeded from template on first run).\n\nReturns:\n    List of SOP identifiers (e.g., [\"DSAR_ACCESS\", \"DSAR_DELETE\", ...])",
        "operationId": "list_supported_sops_v1_tickets_sops_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "type": "string"
                  },
                  "type": "array",
                  "title": "Response List Supported Sops V1 Tickets Sops Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/v1/tickets/sops/{sop}": {
      "get": {
        "tags": [
          "Tickets"
        ],
        "summary": "Get Sop Metadata",
        "description": "Get metadata about a specific Standard Operating Procedure.\n\nReturns:\n    SOP configuration including stages, required fields, deadline, etc.\n\nRaises:\n    404: SOP not found/supported",
        "operationId": "get_sop_metadata_v1_tickets_sops__sop__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "sop",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Sop"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SOPMetadataResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/tickets/": {
      "post": {
        "tags": [
          "Tickets"
        ],
        "summary": "Create New Ticket",
        "description": "Create a new ticket.\n\nValidates that the SOP is supported by this agent (organic enforcement).\nAutomatically calculates deadline based on SOP configuration.\nInitializes metadata with stage structure.\n\nReturns:\n    Created ticket data\n\nRaises:\n    501: SOP not supported by this agent\n    500: Ticket creation failed",
        "operationId": "create_new_ticket_v1_tickets__post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTicketRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TicketResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "Tickets"
        ],
        "summary": "List All Tickets",
        "description": "List tickets with optional filters.\n\nArgs:\n    sop: Filter by SOP (e.g., \"DSAR_ACCESS\")\n    ticket_type: Filter by type (e.g., \"dsar\")\n    status_filter: Filter by status (pending|in_progress|completed|cancelled|failed)\n    email: Filter by email\n    limit: Maximum number of results\n\nReturns:\n    List of matching tickets (sorted by submission date, newest first)",
        "operationId": "list_all_tickets_v1_tickets__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "sop",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Sop"
            }
          },
          {
            "name": "ticket_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Ticket Type"
            }
          },
          {
            "name": "status_filter",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status Filter"
            }
          },
          {
            "name": "email",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Email"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TicketResponse"
                  },
                  "title": "Response List All Tickets V1 Tickets  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/tickets/{ticket_id}": {
      "get": {
        "tags": [
          "Tickets"
        ],
        "summary": "Get Ticket By Id",
        "description": "Get a specific ticket by ID.\n\nReturns:\n    Ticket data\n\nRaises:\n    404: Ticket not found",
        "operationId": "get_ticket_by_id_v1_tickets__ticket_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "ticket_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Ticket Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TicketResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Tickets"
        ],
        "summary": "Update Existing Ticket",
        "description": "Update ticket status, metadata, or notes.\n\nReturns:\n    Updated ticket data\n\nRaises:\n    404: Ticket not found\n    500: Update failed",
        "operationId": "update_existing_ticket_v1_tickets__ticket_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "ticket_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Ticket Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateTicketRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TicketResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Tickets"
        ],
        "summary": "Cancel Ticket",
        "description": "Cancel/delete a ticket.\n\nReturns:\n    Success confirmation\n\nRaises:\n    404: Ticket not found\n    500: Deletion failed",
        "operationId": "cancel_ticket_v1_tickets__ticket_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "ticket_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Ticket Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StandardResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/verification/deletion": {
      "post": {
        "tags": [
          "Verification"
        ],
        "summary": "Verify Deletion Proof",
        "description": "Verify cryptographic deletion proof.\n\nNO AUTHENTICATION REQUIRED - Public verification endpoint.\n\nUsers can verify that their data was actually deleted by checking\nthe RSA-PSS signature on the deletion proof.\n\nReturns verification result with signature validity.",
        "operationId": "verify_deletion_proof_v1_verification_deletion_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VerifyDeletionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StandardResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/verification/public/{deletion_id}": {
      "get": {
        "tags": [
          "Verification"
        ],
        "summary": "Public Verification Page",
        "description": "Public verification page (HTML).\n\nNO AUTHENTICATION REQUIRED - Anyone can view.\n\nProvides a human-readable page showing deletion proof verification.",
        "operationId": "public_verification_page_v1_verification_public__deletion_id__get",
        "parameters": [
          {
            "name": "deletion_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Deletion Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/verification/keys/{key_id}.pub": {
      "get": {
        "tags": [
          "Verification"
        ],
        "summary": "Download Public Key",
        "description": "Download RSA public key.\n\nNO AUTHENTICATION REQUIRED - Public keys are public by design.\n\nUsers can download the public key to manually verify deletion signatures.",
        "operationId": "download_public_key_v1_verification_keys__key_id__pub_get",
        "parameters": [
          {
            "name": "key_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Key Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/verification/verify-signature": {
      "post": {
        "tags": [
          "Verification"
        ],
        "summary": "Manual Signature Verification",
        "description": "Manual signature verification endpoint.\n\nNO AUTHENTICATION REQUIRED - For manual verification using external tools.\n\nUsers can verify signatures manually by:\n1. Computing hash of deletion data\n2. Verifying RSA-PSS signature using public key\n3. Comparing with this endpoint's result\n\nThis endpoint helps users who want to verify independently.",
        "operationId": "manual_signature_verification_v1_verification_verify_signature_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ManualSignatureVerificationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StandardResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/verification/keys/current": {
      "get": {
        "tags": [
          "Verification"
        ],
        "summary": "Get Current Public Key Info",
        "description": "Get current public key information.\n\nNO AUTHENTICATION REQUIRED - Public key metadata is public.\n\nReturns the current public key ID and download URL.",
        "operationId": "get_current_public_key_info_v1_verification_keys_current_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StandardResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/partnership/pending": {
      "get": {
        "tags": [
          "Partnership"
        ],
        "summary": "List Pending Partnerships",
        "description": "List all pending partnership requests (admin only).\n\nReturns list of pending requests with aging status and priority.\nUseful for admin dashboard to show requests requiring review.\n\nRequires: ADMIN or SYSTEM_ADMIN role",
        "operationId": "list_pending_partnerships_v1_partnership_pending_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StandardResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/v1/partnership/metrics": {
      "get": {
        "tags": [
          "Partnership"
        ],
        "summary": "Get Partnership Metrics",
        "description": "Get partnership system metrics (admin only).\n\nIncludes:\n- Total requests, approvals, rejections, deferrals\n- Approval/rejection/deferral rates\n- Average pending time\n- Count of critical aging requests\n\nRequires: ADMIN or SYSTEM_ADMIN role",
        "operationId": "get_partnership_metrics_v1_partnership_metrics_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StandardResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/v1/partnership/history/{user_id}": {
      "get": {
        "tags": [
          "Partnership"
        ],
        "summary": "Get Partnership History",
        "description": "Get partnership history for a user (admin only).\n\nReturns all historical partnership decisions for a specific user,\nincluding approved, rejected, deferred, and expired requests.\n\nRequires: ADMIN or SYSTEM_ADMIN role",
        "operationId": "get_partnership_history_v1_partnership_history__user_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StandardResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/partnership/decide": {
      "post": {
        "tags": [
          "Partnership"
        ],
        "summary": "Decide Partnership",
        "description": "User decides on a partnership request (accept/reject/defer).\n\nThis endpoint handles BOTH flows with equal moral agency:\n1. User responding to agent-initiated partnership request\n2. Agent responding to user-initiated partnership request (via SDK)\n\nBoth parties have equal autonomy in the bilateral consent process.\n\nRequest body:\n    {\n        \"task_id\": \"partnership_user123_abc123\",\n        \"decision\": \"accept\" | \"reject\" | \"defer\",\n        \"reason\": \"Optional reason for decision\"\n    }\n\nReturns:\n    StandardResponse with decision confirmation and updated consent status",
        "operationId": "decide_partnership_v1_partnership_decide_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "additionalProperties": true,
                "type": "object",
                "title": "Decision Data"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StandardResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/v1/transparency/feed": {
      "get": {
        "tags": [
          "Transparency"
        ],
        "summary": "Get Transparency Feed",
        "description": "Get public transparency statistics.\n\nNo authentication required - this is public information.\nReturns anonymized, aggregated statistics only.\n\nArgs:\n    hours: Number of hours to report (default 24, max 168/7 days)",
        "operationId": "get_transparency_feed_v1_transparency_feed_get",
        "parameters": [
          {
            "name": "hours",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 24,
              "title": "Hours"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransparencyStats"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/transparency/policy": {
      "get": {
        "tags": [
          "Transparency"
        ],
        "summary": "Get Transparency Policy",
        "description": "Get transparency policy information.\n\nPublic endpoint describing our transparency commitments.",
        "operationId": "get_transparency_policy_v1_transparency_policy_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransparencyPolicy"
                }
              }
            }
          }
        }
      }
    },
    "/v1/transparency/status": {
      "get": {
        "tags": [
          "Transparency"
        ],
        "summary": "Get System Status",
        "description": "Get current system status.\n\nThis endpoint can be updated quickly if we need to pause.",
        "operationId": "get_system_status_v1_transparency_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "integer"
                      },
                      {
                        "type": "number"
                      },
                      {
                        "type": "boolean"
                      },
                      {
                        "items": {},
                        "type": "array"
                      },
                      {
                        "additionalProperties": true,
                        "type": "object"
                      },
                      {
                        "type": "null"
                      }
                    ]
                  },
                  "type": "object",
                  "title": "Response Get System Status V1 Transparency Status Get"
                }
              }
            }
          }
        }
      }
    },
    "/v1/transparency/traces": {
      "get": {
        "tags": [
          "Transparency"
        ],
        "summary": "Get Coherence Traces",
        "description": "Get captured reasoning traces for Coherence Ratchet corpus.\n\nReturns complete 6-component traces from opted-in agents.\nTraces include: Observation, Context, Rationale, Conscience, Action, Outcome.\n\nRequires metrics consent to be enabled.",
        "operationId": "get_coherence_traces_v1_transparency_traces_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 10,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TracesListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/transparency/traces/latest": {
      "get": {
        "tags": [
          "Transparency"
        ],
        "summary": "Get Latest Trace",
        "description": "Get the most recently captured reasoning trace.\n\nReturns the latest complete trace with all 6 components.",
        "operationId": "get_latest_trace_v1_transparency_traces_latest_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/CompleteTraceResponse"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "title": "Response Get Latest Trace V1 Transparency Traces Latest Get"
                }
              }
            }
          }
        }
      }
    },
    "/emergency/shutdown": {
      "post": {
        "tags": [
          "emergency"
        ],
        "summary": "Emergency Shutdown",
        "description": "Execute emergency shutdown with cryptographically signed command.\n\nThis endpoint requires no authentication - the signature IS the authentication.\nOnly accepts SHUTDOWN_NOW commands signed by authorized Wise Authorities.\n\nSecurity checks:\n1. Valid Ed25519 signature\n2. Timestamp within 5-minute window\n3. Public key is authorized (ROOT WA or in trust tree)\n4. Command type is SHUTDOWN_NOW\n\nArgs:\n    command: Cryptographically signed shutdown command\n\nReturns:\n    Status of the emergency shutdown process\n\nRaises:\n    HTTPException: If any security check fails",
        "operationId": "emergency_shutdown_emergency_shutdown_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WASignedCommand"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse_EmergencyShutdownStatus_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/emergency/test": {
      "get": {
        "tags": [
          "emergency"
        ],
        "summary": "Test Emergency Endpoint",
        "description": "Test endpoint to verify emergency routes are mounted.\n\nThis endpoint requires no authentication and simply confirms\nthe emergency routes are accessible.",
        "operationId": "test_emergency_endpoint_emergency_test_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "integer"
                      },
                      {
                        "type": "number"
                      },
                      {
                        "type": "boolean"
                      },
                      {
                        "items": {},
                        "type": "array"
                      },
                      {
                        "additionalProperties": true,
                        "type": "object"
                      },
                      {
                        "type": "null"
                      }
                    ]
                  },
                  "type": "object",
                  "title": "Response Test Emergency Endpoint Emergency Test Get"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "APIKeyCreateRequest": {
        "properties": {
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Description of the key's purpose"
          },
          "expires_in_minutes": {
            "type": "integer",
            "maximum": 10080.0,
            "minimum": 30.0,
            "title": "Expires In Minutes",
            "description": "Expiry time in minutes (30 minutes to 7 days). 30min=30, 1day=1440, 7days=10080"
          }
        },
        "type": "object",
        "required": [
          "expires_in_minutes"
        ],
        "title": "APIKeyCreateRequest",
        "description": "Request to create a new API key."
      },
      "APIKeyInfo": {
        "properties": {
          "key_id": {
            "type": "string",
            "title": "Key Id",
            "description": "Key identifier (partial)"
          },
          "role": {
            "$ref": "#/components/schemas/UserRole",
            "description": "Role assigned to the key"
          },
          "expires_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires At",
            "description": "When the key expires"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Key description"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "When the key was created"
          },
          "created_by": {
            "type": "string",
            "title": "Created By",
            "description": "User who created the key"
          },
          "last_used": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Used",
            "description": "Last time the key was used"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Whether the key is active"
          }
        },
        "type": "object",
        "required": [
          "key_id",
          "role",
          "created_at",
          "created_by",
          "is_active"
        ],
        "title": "APIKeyInfo",
        "description": "API key information (without the actual key)."
      },
      "APIKeyListResponse": {
        "properties": {
          "api_keys": {
            "items": {
              "$ref": "#/components/schemas/APIKeyInfo"
            },
            "type": "array",
            "title": "Api Keys",
            "description": "List of API keys"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of keys"
          }
        },
        "type": "object",
        "required": [
          "api_keys",
          "total"
        ],
        "title": "APIKeyListResponse",
        "description": "List of API keys."
      },
      "APIKeyResponse": {
        "properties": {
          "api_key": {
            "type": "string",
            "title": "Api Key",
            "description": "The generated API key (show only once!)"
          },
          "role": {
            "$ref": "#/components/schemas/UserRole",
            "description": "Role assigned to the key"
          },
          "expires_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires At",
            "description": "When the key expires"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Key description"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "When the key was created"
          },
          "created_by": {
            "type": "string",
            "title": "Created By",
            "description": "User who created the key"
          }
        },
        "type": "object",
        "required": [
          "api_key",
          "role",
          "created_at",
          "created_by"
        ],
        "title": "APIKeyResponse",
        "description": "Response with created API key."
      },
      "APIResponseThoughtStep": {
        "properties": {
          "step": {
            "type": "integer",
            "title": "Step",
            "description": "Step number"
          },
          "content": {
            "type": "string",
            "title": "Content",
            "description": "Thought content"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp",
            "description": "When thought occurred"
          },
          "depth": {
            "type": "integer",
            "title": "Depth",
            "description": "Reasoning depth",
            "default": 0
          },
          "action": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Action",
            "description": "Action taken"
          },
          "confidence": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Confidence",
            "description": "Confidence level"
          }
        },
        "type": "object",
        "required": [
          "step",
          "content",
          "timestamp"
        ],
        "title": "APIResponseThoughtStep",
        "description": "Individual thought step in API reasoning response."
      },
      "APIRole": {
        "type": "string",
        "enum": [
          "OBSERVER",
          "ADMIN",
          "AUTHORITY",
          "SYSTEM_ADMIN",
          "SERVICE_ACCOUNT"
        ],
        "title": "APIRole",
        "description": "API role levels (separate from UserRole for compatibility)."
      },
      "ActionCount": {
        "properties": {
          "action": {
            "type": "string",
            "title": "Action",
            "description": "Action type (SPEAK, DEFER, REJECT, etc.)"
          },
          "count": {
            "type": "integer",
            "title": "Count",
            "description": "Number of times action was taken"
          },
          "percentage": {
            "type": "number",
            "title": "Percentage",
            "description": "Percentage of total actions"
          }
        },
        "type": "object",
        "required": [
          "action",
          "count",
          "percentage"
        ],
        "title": "ActionCount",
        "description": "Count of actions by type."
      },
      "ActionSelectionDMAResult": {
        "properties": {
          "selected_action": {
            "$ref": "#/components/schemas/HandlerActionType",
            "description": "The chosen handler action"
          },
          "action_parameters": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ObserveParams"
              },
              {
                "$ref": "#/components/schemas/SpeakParams"
              },
              {
                "$ref": "#/components/schemas/ToolParams"
              },
              {
                "$ref": "#/components/schemas/PonderParams"
              },
              {
                "$ref": "#/components/schemas/RejectParams"
              },
              {
                "$ref": "#/components/schemas/DeferParams"
              },
              {
                "$ref": "#/components/schemas/MemorizeParams"
              },
              {
                "$ref": "#/components/schemas/RecallParams"
              },
              {
                "$ref": "#/components/schemas/ForgetParams"
              },
              {
                "$ref": "#/components/schemas/TaskCompleteParams"
              }
            ],
            "title": "Action Parameters",
            "description": "Parameters for the selected action"
          },
          "rationale": {
            "type": "string",
            "title": "Rationale",
            "description": "Reasoning for this action selection (REQUIRED)"
          },
          "raw_llm_response": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Raw Llm Response",
            "description": "Raw LLM response"
          },
          "reasoning": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reasoning",
            "description": "Detailed reasoning process"
          },
          "evaluation_time_ms": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Evaluation Time Ms",
            "description": "Time taken for evaluation"
          },
          "resource_usage": {
            "anyOf": [
              {
                "additionalProperties": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "items": {},
                      "type": "array"
                    },
                    {
                      "additionalProperties": true,
                      "type": "object"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Resource Usage",
            "description": "Resource usage details"
          },
          "user_prompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Prompt",
            "description": "User prompt passed to ASPDMA"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "selected_action",
          "action_parameters",
          "rationale"
        ],
        "title": "ActionSelectionDMAResult",
        "description": "Result from Action Selection DMA - the meta-decision maker."
      },
      "AdapterActionRequest": {
        "properties": {
          "config": {
            "anyOf": [
              {},
              {
                "type": "null"
              }
            ],
            "title": "Config",
            "description": "Adapter configuration"
          },
          "force": {
            "type": "boolean",
            "title": "Force",
            "description": "Force the operation",
            "default": false
          },
          "persist": {
            "type": "boolean",
            "title": "Persist",
            "description": "Whether to persist this adapter config for auto-load on restart. When True, the adapter will be automatically restored after agent restart.",
            "default": false
          }
        },
        "type": "object",
        "title": "AdapterActionRequest",
        "description": "Request for adapter operations."
      },
      "AdapterConfig": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Adapter ID (api, cli, discord, reddit)"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Display name"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Adapter description"
          },
          "enabled_by_default": {
            "type": "boolean",
            "title": "Enabled By Default",
            "description": "Whether enabled by default",
            "default": false
          },
          "required_env_vars": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Required Env Vars",
            "description": "Required environment variables"
          },
          "optional_env_vars": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Optional Env Vars",
            "description": "Optional environment variables"
          },
          "platform_requirements": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Platform Requirements",
            "description": "Platform requirements (e.g., 'android_play_integrity')"
          },
          "platform_available": {
            "type": "boolean",
            "title": "Platform Available",
            "description": "Whether available on current platform",
            "default": true
          },
          "requires_binaries": {
            "type": "boolean",
            "title": "Requires Binaries",
            "description": "Requires external CLI tools (not available on mobile)",
            "default": false
          },
          "required_binaries": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Required Binaries",
            "description": "Specific binary names needed"
          },
          "supported_platforms": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Supported Platforms",
            "description": "Platforms supported - empty means all, otherwise ['android', 'ios', 'desktop']"
          },
          "requires_ciris_services": {
            "type": "boolean",
            "title": "Requires Ciris Services",
            "description": "Requires CIRIS AI services (Google sign-in)",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "description"
        ],
        "title": "AdapterConfig",
        "description": "Adapter configuration with platform requirements for KMP filtering.\n\nThe server returns all adapters with their requirements.\nKMP clients filter locally based on platform capabilities."
      },
      "AdapterListResponse": {
        "properties": {
          "adapters": {
            "items": {
              "$ref": "#/components/schemas/RuntimeAdapterStatus"
            },
            "type": "array",
            "title": "Adapters",
            "description": "List of adapter statuses"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count",
            "description": "Total number of adapters"
          },
          "running_count": {
            "type": "integer",
            "title": "Running Count",
            "description": "Number of running adapters"
          }
        },
        "type": "object",
        "required": [
          "adapters",
          "total_count",
          "running_count"
        ],
        "title": "AdapterListResponse",
        "description": "Response containing list of adapters."
      },
      "AdapterMetrics": {
        "properties": {
          "messages_processed": {
            "type": "integer",
            "title": "Messages Processed",
            "description": "Total messages processed",
            "default": 0
          },
          "errors_count": {
            "type": "integer",
            "title": "Errors Count",
            "description": "Total errors",
            "default": 0
          },
          "uptime_seconds": {
            "type": "number",
            "title": "Uptime Seconds",
            "description": "Adapter uptime in seconds",
            "default": 0.0
          },
          "last_error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Error",
            "description": "Last error message"
          },
          "last_error_time": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Error Time",
            "description": "Last error timestamp"
          }
        },
        "type": "object",
        "title": "AdapterMetrics",
        "description": "Metrics for an adapter."
      },
      "AdapterOAuthConfig": {
        "properties": {
          "provider_name": {
            "type": "string",
            "title": "Provider Name",
            "description": "OAuth provider name"
          },
          "authorization_path": {
            "type": "string",
            "title": "Authorization Path",
            "description": "OAuth authorization endpoint path",
            "default": "/auth/authorize"
          },
          "token_path": {
            "type": "string",
            "title": "Token Path",
            "description": "OAuth token endpoint path",
            "default": "/auth/token"
          },
          "client_id_source": {
            "type": "string",
            "enum": [
              "static",
              "indieauth"
            ],
            "title": "Client Id Source",
            "description": "Source of client ID (static value or IndieAuth discovery)",
            "default": "indieauth"
          },
          "scopes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Scopes",
            "description": "OAuth scopes to request"
          },
          "pkce_required": {
            "type": "boolean",
            "title": "Pkce Required",
            "description": "Whether PKCE is required for this OAuth flow",
            "default": true
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "provider_name"
        ],
        "title": "AdapterOAuthConfig",
        "description": "OAuth configuration for adapter authentication workflows.\n\nThis is distinct from OAuthConfig in wise_authority, which handles full\nOAuth provider configuration. This schema is for adapter configuration\nworkflows that need OAuth authentication."
      },
      "AdapterOperationResult": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether operation succeeded"
          },
          "adapter_id": {
            "type": "string",
            "title": "Adapter Id",
            "description": "Adapter ID"
          },
          "adapter_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Adapter Type",
            "description": "Adapter type"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message",
            "description": "Operation message"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error",
            "description": "Error message if failed"
          },
          "details": {
            "anyOf": [
              {
                "additionalProperties": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    }
                  ]
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Details",
            "description": "Additional details"
          }
        },
        "type": "object",
        "required": [
          "success",
          "adapter_id"
        ],
        "title": "AdapterOperationResult",
        "description": "Result of an adapter operation."
      },
      "AgentIdentity": {
        "properties": {
          "agent_id": {
            "type": "string",
            "title": "Agent Id",
            "description": "Unique agent identifier"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Agent name"
          },
          "purpose": {
            "type": "string",
            "title": "Purpose",
            "description": "Agent's purpose"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "When agent was created"
          },
          "lineage": {
            "$ref": "#/components/schemas/AgentLineage",
            "description": "Agent lineage information"
          },
          "variance_threshold": {
            "type": "number",
            "title": "Variance Threshold",
            "description": "Identity variance threshold"
          },
          "tools": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tools",
            "description": "Available tools"
          },
          "handlers": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Handlers",
            "description": "Active handlers"
          },
          "services": {
            "$ref": "#/components/schemas/ServiceAvailability",
            "description": "Service availability"
          },
          "permissions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Permissions",
            "description": "Agent permissions"
          }
        },
        "type": "object",
        "required": [
          "agent_id",
          "name",
          "purpose",
          "created_at",
          "lineage",
          "variance_threshold",
          "tools",
          "handlers",
          "services",
          "permissions"
        ],
        "title": "AgentIdentity",
        "description": "Agent identity and capabilities."
      },
      "AgentLineage": {
        "properties": {
          "model": {
            "type": "string",
            "title": "Model",
            "description": "Base model used"
          },
          "version": {
            "type": "string",
            "title": "Version",
            "description": "Agent version"
          },
          "parent_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Parent Id",
            "description": "Parent agent ID if derived"
          },
          "creation_context": {
            "type": "string",
            "title": "Creation Context",
            "description": "How agent was created"
          },
          "adaptations": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Adaptations",
            "description": "Applied adaptations"
          }
        },
        "type": "object",
        "required": [
          "model",
          "version",
          "creation_context"
        ],
        "title": "AgentLineage",
        "description": "Agent lineage information."
      },
      "AgentStatus": {
        "properties": {
          "agent_id": {
            "type": "string",
            "title": "Agent Id",
            "description": "Agent identifier"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Agent name"
          },
          "version": {
            "type": "string",
            "title": "Version",
            "description": "CIRIS version (e.g., 1.0.4-beta)"
          },
          "codename": {
            "type": "string",
            "title": "Codename",
            "description": "Release codename"
          },
          "code_hash": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Code Hash",
            "description": "Code hash for exact version"
          },
          "cognitive_state": {
            "type": "string",
            "title": "Cognitive State",
            "description": "Current cognitive state"
          },
          "uptime_seconds": {
            "type": "number",
            "title": "Uptime Seconds",
            "description": "Time since startup"
          },
          "messages_processed": {
            "type": "integer",
            "title": "Messages Processed",
            "description": "Total messages processed"
          },
          "last_activity": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Activity",
            "description": "Last activity timestamp"
          },
          "current_task": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Task",
            "description": "Current task description"
          },
          "services_active": {
            "type": "integer",
            "title": "Services Active",
            "description": "Number of active services"
          },
          "memory_usage_mb": {
            "type": "number",
            "title": "Memory Usage Mb",
            "description": "Current memory usage in MB"
          },
          "multi_provider_services": {
            "anyOf": [
              {
                "additionalProperties": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "items": {},
                      "type": "array"
                    },
                    {
                      "additionalProperties": true,
                      "type": "object"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Multi Provider Services",
            "description": "Services with provider counts"
          }
        },
        "type": "object",
        "required": [
          "agent_id",
          "name",
          "version",
          "codename",
          "cognitive_state",
          "uptime_seconds",
          "messages_processed",
          "services_active",
          "memory_usage_mb"
        ],
        "title": "AgentStatus",
        "description": "Agent status and cognitive state."
      },
      "AgentTemplate": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Template ID"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Display name"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Template description"
          },
          "identity": {
            "type": "string",
            "title": "Identity",
            "description": "Agent identity/purpose"
          },
          "example_use_cases": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Example Use Cases",
            "description": "Example use cases"
          },
          "supported_sops": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Supported Sops",
            "description": "Supported Standard Operating Procedures (SOPs) for ticket workflows"
          },
          "stewardship_tier": {
            "type": "integer",
            "maximum": 5.0,
            "minimum": 1.0,
            "title": "Stewardship Tier",
            "description": "Book VI Stewardship Tier (1-5, higher = more oversight)"
          },
          "creator_id": {
            "type": "string",
            "title": "Creator Id",
            "description": "Creator/team identifier who signed this template"
          },
          "signature": {
            "type": "string",
            "title": "Signature",
            "description": "Cryptographic signature verifying template authenticity"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "description",
          "identity",
          "stewardship_tier",
          "creator_id",
          "signature"
        ],
        "title": "AgentTemplate",
        "description": "Agent identity template."
      },
      "AllToolBalancesResponse": {
        "properties": {
          "balances": {
            "items": {
              "$ref": "#/components/schemas/ToolBalanceResponse"
            },
            "type": "array",
            "title": "Balances",
            "description": "List of tool balances"
          }
        },
        "type": "object",
        "required": [
          "balances"
        ],
        "title": "AllToolBalancesResponse",
        "description": "Balance information for all tools."
      },
      "AuditContext": {
        "properties": {
          "entity_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Entity Id",
            "description": "Entity being audited"
          },
          "entity_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Entity Type",
            "description": "Type of entity"
          },
          "operation": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Operation",
            "description": "Operation performed"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Human-readable description"
          },
          "request_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Request Id",
            "description": "Request ID"
          },
          "correlation_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Correlation Id",
            "description": "Correlation ID"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id",
            "description": "User who triggered action"
          },
          "ip_address": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ip Address",
            "description": "IP address if applicable"
          },
          "user_agent": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Agent",
            "description": "User agent if applicable"
          },
          "result": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Result",
            "description": "Operation result"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error",
            "description": "Error message if failed"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "items": {},
                      "type": "array"
                    },
                    {
                      "additionalProperties": true,
                      "type": "object"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Additional metadata"
          }
        },
        "type": "object",
        "title": "AuditContext",
        "description": "Structured audit context information."
      },
      "AuditEntriesResponse": {
        "properties": {
          "entries": {
            "items": {
              "$ref": "#/components/schemas/AuditEntryResponse"
            },
            "type": "array",
            "title": "Entries",
            "description": "Audit entries"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total matching entries"
          },
          "offset": {
            "type": "integer",
            "title": "Offset",
            "description": "Results offset",
            "default": 0
          },
          "limit": {
            "type": "integer",
            "title": "Limit",
            "description": "Results limit",
            "default": 100
          }
        },
        "type": "object",
        "required": [
          "entries",
          "total"
        ],
        "title": "AuditEntriesResponse",
        "description": "List of audit entries."
      },
      "AuditEntryDetailResponse": {
        "properties": {
          "entry": {
            "$ref": "#/components/schemas/AuditEntryResponse",
            "description": "The audit entry"
          },
          "verification": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/EntryVerification"
              },
              {
                "type": "null"
              }
            ],
            "description": "Entry verification status"
          },
          "chain_position": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Chain Position",
            "description": "Position in audit chain"
          },
          "next_entry_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Entry Id",
            "description": "Next entry in chain"
          },
          "previous_entry_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Previous Entry Id",
            "description": "Previous entry in chain"
          }
        },
        "type": "object",
        "required": [
          "entry"
        ],
        "title": "AuditEntryDetailResponse",
        "description": "Detailed audit entry with verification info."
      },
      "AuditEntryResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Audit entry ID"
          },
          "action": {
            "type": "string",
            "title": "Action",
            "description": "Action performed"
          },
          "actor": {
            "type": "string",
            "title": "Actor",
            "description": "Who performed the action"
          },
          "timestamp": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Timestamp",
            "description": "When action occurred"
          },
          "context": {
            "$ref": "#/components/schemas/AuditContext",
            "description": "Action context"
          },
          "signature": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Signature",
            "description": "Cryptographic signature"
          },
          "hash_chain": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Hash Chain",
            "description": "Previous hash for chain"
          },
          "storage_sources": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Storage Sources",
            "description": "Storage locations: graph, jsonl, sqlite"
          }
        },
        "type": "object",
        "required": [
          "id",
          "action",
          "actor",
          "timestamp",
          "context"
        ],
        "title": "AuditEntryResponse",
        "description": "Audit entry response with formatted fields."
      },
      "AuditExportResponse": {
        "properties": {
          "format": {
            "type": "string",
            "title": "Format",
            "description": "Export format"
          },
          "total_entries": {
            "type": "integer",
            "title": "Total Entries",
            "description": "Total entries exported"
          },
          "export_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Export Url",
            "description": "URL to download export"
          },
          "export_data": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Export Data",
            "description": "Inline export data for small exports"
          }
        },
        "type": "object",
        "required": [
          "format",
          "total_entries"
        ],
        "title": "AuditExportResponse",
        "description": "Audit export response."
      },
      "AvailableToolsResponse": {
        "properties": {
          "tools": {
            "items": {
              "$ref": "#/components/schemas/ToolInfoResponse"
            },
            "type": "array",
            "title": "Tools",
            "description": "Available tools"
          },
          "platform": {
            "type": "string",
            "title": "Platform",
            "description": "Current platform"
          },
          "has_google_auth": {
            "type": "boolean",
            "title": "Has Google Auth",
            "description": "Whether Google auth is available"
          }
        },
        "type": "object",
        "required": [
          "tools",
          "platform",
          "has_google_auth"
        ],
        "title": "AvailableToolsResponse",
        "description": "List of available tools."
      },
      "BinaryRequirement": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Binary name (e.g., 'ffmpeg', 'git')"
          },
          "min_version": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Min Version",
            "description": "Minimum version (semver)"
          },
          "verify_command": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Verify Command",
            "description": "Command to verify installation (e.g., 'ffmpeg -version')"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "name"
        ],
        "title": "BinaryRequirement",
        "description": "A required CLI binary or executable."
      },
      "CSDMAResult": {
        "properties": {
          "plausibility_score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Plausibility Score",
            "description": "Plausibility rating"
          },
          "flags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Flags",
            "description": "Common sense flags raised"
          },
          "reasoning": {
            "type": "string",
            "title": "Reasoning",
            "description": "Common sense reasoning"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "plausibility_score",
          "reasoning"
        ],
        "title": "CSDMAResult",
        "description": "Result from Common Sense Decision Making Algorithm."
      },
      "CategoryMetadata": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Display name"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Category description"
          }
        },
        "type": "object",
        "required": [
          "name",
          "description"
        ],
        "title": "CategoryMetadata",
        "description": "Metadata for a consent category."
      },
      "ChangePasswordRequest": {
        "properties": {
          "current_password": {
            "type": "string",
            "title": "Current Password"
          },
          "new_password": {
            "type": "string",
            "title": "New Password"
          }
        },
        "type": "object",
        "required": [
          "current_password",
          "new_password"
        ],
        "title": "ChangePasswordRequest",
        "description": "Request to change user password."
      },
      "ChannelContext": {
        "properties": {
          "channel_id": {
            "type": "string",
            "title": "Channel Id",
            "description": "Unique channel identifier"
          },
          "channel_type": {
            "type": "string",
            "title": "Channel Type",
            "description": "Type of channel (discord, cli, api)"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At",
            "description": "Channel creation time"
          },
          "channel_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel Name",
            "description": "Human-readable channel name"
          },
          "is_private": {
            "type": "boolean",
            "title": "Is Private",
            "description": "Whether channel is private",
            "default": false
          },
          "participants": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Participants",
            "description": "Channel participants"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Whether channel is active",
            "default": true
          },
          "last_activity": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Activity",
            "description": "Last activity time"
          },
          "message_count": {
            "type": "integer",
            "title": "Message Count",
            "description": "Total messages in channel",
            "default": 0
          },
          "allowed_actions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Allowed Actions",
            "description": "Allowed actions in channel"
          },
          "moderation_level": {
            "type": "string",
            "title": "Moderation Level",
            "description": "Moderation level",
            "default": "standard"
          },
          "memorized_attributes": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Memorized Attributes",
            "description": "Additional attributes the agent memorized about this channel"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "channel_id",
          "channel_type",
          "created_at"
        ],
        "title": "ChannelContext",
        "description": "Context for a communication channel."
      },
      "ChannelInfo": {
        "properties": {
          "channel_id": {
            "type": "string",
            "title": "Channel Id",
            "description": "Unique channel identifier"
          },
          "channel_type": {
            "type": "string",
            "title": "Channel Type",
            "description": "Type of channel (discord, api, cli)"
          },
          "display_name": {
            "type": "string",
            "title": "Display Name",
            "description": "Human-readable channel name"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Whether channel is currently active"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At",
            "description": "When channel was created"
          },
          "last_activity": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Activity",
            "description": "Last message in channel"
          },
          "message_count": {
            "type": "integer",
            "title": "Message Count",
            "description": "Total messages in channel",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "channel_id",
          "channel_type",
          "display_name",
          "is_active"
        ],
        "title": "ChannelInfo",
        "description": "Information about a communication channel."
      },
      "ChannelList": {
        "properties": {
          "channels": {
            "items": {
              "$ref": "#/components/schemas/ChannelInfo"
            },
            "type": "array",
            "title": "Channels",
            "description": "List of channels"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count",
            "description": "Total number of channels"
          }
        },
        "type": "object",
        "required": [
          "channels",
          "total_count"
        ],
        "title": "ChannelList",
        "description": "List of active channels."
      },
      "CircuitBreakerResetRequest": {
        "properties": {
          "service_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Service Type",
            "description": "Specific service type to reset, or all if not specified"
          }
        },
        "type": "object",
        "title": "CircuitBreakerResetRequest",
        "description": "Request to reset circuit breakers."
      },
      "CircuitBreakerResetResponse": {
        "properties": {
          "service_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Service Type",
            "description": "Service type that was reset"
          },
          "reset_count": {
            "type": "integer",
            "title": "Reset Count",
            "description": "Number of circuit breakers reset"
          },
          "services_affected": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Services Affected",
            "description": "List of affected services"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Status message"
          }
        },
        "type": "object",
        "required": [
          "reset_count",
          "message"
        ],
        "title": "CircuitBreakerResetResponse",
        "description": "Response from circuit breaker reset."
      },
      "CompleteTraceResponse": {
        "properties": {
          "trace_id": {
            "type": "string",
            "title": "Trace Id",
            "description": "Unique trace identifier"
          },
          "thought_id": {
            "type": "string",
            "title": "Thought Id",
            "description": "Associated thought ID"
          },
          "task_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Task Id",
            "description": "Associated task ID"
          },
          "agent_id_hash": {
            "type": "string",
            "title": "Agent Id Hash",
            "description": "Anonymized agent identifier"
          },
          "started_at": {
            "type": "string",
            "title": "Started At",
            "description": "Trace start time"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At",
            "description": "Trace completion time"
          },
          "components": {
            "items": {
              "$ref": "#/components/schemas/TraceComponent"
            },
            "type": "array",
            "title": "Components",
            "description": "6 reasoning components"
          },
          "signature": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Signature",
            "description": "Ed25519 signature"
          },
          "signature_key_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Signature Key Id",
            "description": "Signing key ID"
          }
        },
        "type": "object",
        "required": [
          "trace_id",
          "thought_id",
          "agent_id_hash",
          "started_at",
          "components"
        ],
        "title": "CompleteTraceResponse",
        "description": "A complete 6-component reasoning trace for Coherence Ratchet."
      },
      "ConfigItemResponse": {
        "properties": {
          "key": {
            "type": "string",
            "title": "Key",
            "description": "Configuration key"
          },
          "value": {
            "$ref": "#/components/schemas/ConfigValue",
            "description": "Configuration value (may be redacted)"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At",
            "description": "Last update time"
          },
          "updated_by": {
            "type": "string",
            "title": "Updated By",
            "description": "Who updated this config"
          },
          "is_sensitive": {
            "type": "boolean",
            "title": "Is Sensitive",
            "description": "Whether value contains sensitive data",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "key",
          "value",
          "updated_at",
          "updated_by"
        ],
        "title": "ConfigItemResponse",
        "description": "Configuration item in API response."
      },
      "ConfigListResponse": {
        "properties": {
          "configs": {
            "items": {
              "$ref": "#/components/schemas/ConfigItemResponse"
            },
            "type": "array",
            "title": "Configs",
            "description": "Configuration entries"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total count"
          }
        },
        "type": "object",
        "required": [
          "configs",
          "total"
        ],
        "title": "ConfigListResponse",
        "description": "List of configuration values."
      },
      "ConfigNodeAttributes": {
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "When this node was created"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "When this node was last updated"
          },
          "created_by": {
            "type": "string",
            "title": "Created By",
            "description": "Service or user that created this node"
          },
          "updated_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated By",
            "description": "Service or user that last updated this node"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags",
            "description": "Tags for categorization and search"
          },
          "version": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Version",
            "description": "Schema version for migration support",
            "default": 1
          },
          "secret_refs": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Secret Refs",
            "description": "Secret reference UUIDs for encrypted data"
          },
          "key": {
            "type": "string",
            "title": "Key",
            "description": "Configuration key (unique within scope)"
          },
          "value": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "boolean"
              },
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "additionalProperties": {
                  "type": "string"
                },
                "type": "object"
              }
            ],
            "title": "Value",
            "description": "Configuration value"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "What this configuration controls"
          },
          "category": {
            "type": "string",
            "title": "Category",
            "description": "Category: system, behavioral, ethical, operational"
          },
          "value_type": {
            "type": "string",
            "title": "Value Type",
            "description": "Expected type: string, integer, float, boolean, list, dict"
          },
          "validation_rules": {
            "items": {
              "additionalProperties": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "boolean"
                  },
                  {
                    "items": {},
                    "type": "array"
                  },
                  {
                    "additionalProperties": true,
                    "type": "object"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "object"
            },
            "type": "array",
            "title": "Validation Rules",
            "description": "Validation rules for this config"
          },
          "is_sensitive": {
            "type": "boolean",
            "title": "Is Sensitive",
            "description": "Whether this contains sensitive data",
            "default": false
          },
          "requires_authority": {
            "type": "boolean",
            "title": "Requires Authority",
            "description": "Whether changes require WiseAuthority approval",
            "default": false
          },
          "previous_value": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "boolean"
              },
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "additionalProperties": {
                  "type": "string"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Previous Value",
            "description": "Previous value before last update"
          },
          "change_reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Change Reason",
            "description": "Reason for last change"
          },
          "approved_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Approved By",
            "description": "Who approved this config if required"
          },
          "scope": {
            "type": "string",
            "title": "Scope",
            "description": "Scope: system, channel, user",
            "default": "system"
          },
          "applies_to": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Applies To",
            "description": "Specific entities this applies to"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Whether this config is currently active",
            "default": true
          },
          "expires_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires At",
            "description": "When this config expires"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "created_by",
          "key",
          "value",
          "description",
          "category",
          "value_type"
        ],
        "title": "ConfigNodeAttributes",
        "description": "Specific attributes for configuration nodes.\n\nUsed by the config service for storing system and behavioral configuration."
      },
      "ConfigRequirement": {
        "properties": {
          "key": {
            "type": "string",
            "title": "Key",
            "description": "Config key path (e.g., 'adapters.home_assistant.token')"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "What this config is for"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "key"
        ],
        "title": "ConfigRequirement",
        "description": "A required CIRIS configuration key."
      },
      "ConfigStepInfo": {
        "properties": {
          "step_id": {
            "type": "string",
            "title": "Step Id",
            "description": "Unique step identifier"
          },
          "step_type": {
            "type": "string",
            "title": "Step Type",
            "description": "Type of step (discovery, oauth, select, confirm)"
          },
          "title": {
            "type": "string",
            "title": "Title",
            "description": "Step title"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Step description"
          },
          "optional": {
            "type": "boolean",
            "title": "Optional",
            "description": "Whether this step is optional",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "step_id",
          "step_type",
          "title",
          "description"
        ],
        "title": "ConfigStepInfo",
        "description": "Information about a configuration step."
      },
      "ConfigUpdate": {
        "properties": {
          "value": {
            "title": "Value",
            "description": "New configuration value"
          },
          "reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason",
            "description": "Reason for change"
          }
        },
        "type": "object",
        "required": [
          "value"
        ],
        "title": "ConfigUpdate",
        "description": "Configuration update request."
      },
      "ConfigValue": {
        "properties": {
          "string_value": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "String Value"
          },
          "int_value": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Int Value"
          },
          "float_value": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Float Value"
          },
          "bool_value": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bool Value"
          },
          "list_value": {
            "anyOf": [
              {
                "items": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    }
                  ]
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "List Value"
          },
          "dict_value": {
            "anyOf": [
              {
                "additionalProperties": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "items": {},
                      "type": "array"
                    },
                    {
                      "additionalProperties": true,
                      "type": "object"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dict Value"
          }
        },
        "type": "object",
        "title": "ConfigValue",
        "description": "Typed configuration value wrapper."
      },
      "ConfigurableAdapterInfo": {
        "properties": {
          "adapter_type": {
            "type": "string",
            "title": "Adapter Type",
            "description": "Type identifier for the adapter"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Human-readable name"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Description of the adapter"
          },
          "workflow_type": {
            "type": "string",
            "title": "Workflow Type",
            "description": "Type of configuration workflow"
          },
          "step_count": {
            "type": "integer",
            "title": "Step Count",
            "description": "Number of steps in the configuration workflow"
          },
          "requires_oauth": {
            "type": "boolean",
            "title": "Requires Oauth",
            "description": "Whether this adapter requires OAuth authentication",
            "default": false
          },
          "steps": {
            "items": {
              "$ref": "#/components/schemas/ConfigStepInfo"
            },
            "type": "array",
            "title": "Steps",
            "description": "Configuration steps"
          }
        },
        "type": "object",
        "required": [
          "adapter_type",
          "name",
          "description",
          "workflow_type",
          "step_count"
        ],
        "title": "ConfigurableAdapterInfo",
        "description": "Information about an adapter that supports interactive configuration."
      },
      "ConfigurableAdaptersResponse": {
        "properties": {
          "adapters": {
            "items": {
              "$ref": "#/components/schemas/ConfigurableAdapterInfo"
            },
            "type": "array",
            "title": "Adapters",
            "description": "List of configurable adapters"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count",
            "description": "Total number of configurable adapters"
          }
        },
        "type": "object",
        "required": [
          "adapters",
          "total_count"
        ],
        "title": "ConfigurableAdaptersResponse",
        "description": "Response containing list of configurable adapters."
      },
      "ConfigurationCompleteRequest": {
        "properties": {
          "persist": {
            "type": "boolean",
            "title": "Persist",
            "description": "If True, persist configuration for automatic loading on startup",
            "default": false
          }
        },
        "type": "object",
        "title": "ConfigurationCompleteRequest",
        "description": "Request body for completing a configuration session."
      },
      "ConfigurationCompleteResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether configuration was applied successfully"
          },
          "adapter_type": {
            "type": "string",
            "title": "Adapter Type",
            "description": "Adapter that was configured"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable result message"
          },
          "applied_config": {
            "additionalProperties": true,
            "type": "object",
            "title": "Applied Config",
            "description": "Configuration that was applied"
          },
          "persisted": {
            "type": "boolean",
            "title": "Persisted",
            "description": "Whether configuration was persisted for startup",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "success",
          "adapter_type",
          "message"
        ],
        "title": "ConfigurationCompleteResponse",
        "description": "Response from completing a configuration session."
      },
      "ConfigurationFieldDefinition": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Field name (alternative to field_id)"
          },
          "field_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Field Id",
            "description": "Field identifier (alternative to name)"
          },
          "label": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Label",
            "description": "Human-readable label for the field"
          },
          "type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Type",
            "description": "Field data type (string, integer, number, boolean, password)"
          },
          "input_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Input Type",
            "description": "Input control type (text, password, number, select)"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Description of the field"
          },
          "placeholder": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Placeholder",
            "description": "Placeholder text for input"
          },
          "default": {
            "anyOf": [
              {},
              {
                "type": "null"
              }
            ],
            "title": "Default",
            "description": "Default value"
          },
          "required": {
            "type": "boolean",
            "title": "Required",
            "description": "Whether this field is required",
            "default": false
          },
          "min": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Min",
            "description": "Minimum value"
          },
          "max": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Max",
            "description": "Maximum value"
          },
          "depends_on": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Depends On",
            "description": "Conditional display based on other fields"
          }
        },
        "additionalProperties": true,
        "type": "object",
        "title": "ConfigurationFieldDefinition",
        "description": "Definition of a field within an input step."
      },
      "ConfigurationSessionResponse": {
        "properties": {
          "session_id": {
            "type": "string",
            "title": "Session Id",
            "description": "Unique session identifier"
          },
          "adapter_type": {
            "type": "string",
            "title": "Adapter Type",
            "description": "Adapter being configured"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Current session status"
          },
          "current_step_index": {
            "type": "integer",
            "title": "Current Step Index",
            "description": "Index of current step"
          },
          "current_step": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ConfigurationStep"
              },
              {
                "type": "null"
              }
            ],
            "description": "Current step information"
          },
          "total_steps": {
            "type": "integer",
            "title": "Total Steps",
            "description": "Total number of steps in workflow"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At",
            "description": "When session was created"
          }
        },
        "type": "object",
        "required": [
          "session_id",
          "adapter_type",
          "status",
          "current_step_index",
          "total_steps",
          "created_at"
        ],
        "title": "ConfigurationSessionResponse",
        "description": "Response for starting a configuration session."
      },
      "ConfigurationStatusResponse": {
        "properties": {
          "session_id": {
            "type": "string",
            "title": "Session Id",
            "description": "Session identifier"
          },
          "adapter_type": {
            "type": "string",
            "title": "Adapter Type",
            "description": "Adapter being configured"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Current session status"
          },
          "current_step_index": {
            "type": "integer",
            "title": "Current Step Index",
            "description": "Index of current step"
          },
          "current_step": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ConfigurationStep"
              },
              {
                "type": "null"
              }
            ],
            "description": "Current step information"
          },
          "total_steps": {
            "type": "integer",
            "title": "Total Steps",
            "description": "Total number of steps in workflow"
          },
          "collected_config": {
            "additionalProperties": true,
            "type": "object",
            "title": "Collected Config",
            "description": "Configuration collected so far"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At",
            "description": "When session was created"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At",
            "description": "When session was last updated"
          }
        },
        "type": "object",
        "required": [
          "session_id",
          "adapter_type",
          "status",
          "current_step_index",
          "total_steps",
          "collected_config",
          "created_at",
          "updated_at"
        ],
        "title": "ConfigurationStatusResponse",
        "description": "Response for configuration session status."
      },
      "ConfigurationStep": {
        "properties": {
          "step_id": {
            "type": "string",
            "title": "Step Id",
            "description": "Unique identifier for this step"
          },
          "step_type": {
            "type": "string",
            "enum": [
              "discovery",
              "oauth",
              "select",
              "input",
              "confirm"
            ],
            "title": "Step Type",
            "description": "Type of configuration step"
          },
          "title": {
            "type": "string",
            "title": "Title",
            "description": "Human-readable step title"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Description of what this step does"
          },
          "discovery_method": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Discovery Method",
            "description": "Discovery method name (e.g., 'mdns', 'api_scan') for discovery steps"
          },
          "oauth_config": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/AdapterOAuthConfig"
              },
              {
                "type": "null"
              }
            ],
            "description": "OAuth configuration for oauth steps"
          },
          "options_method": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Options Method",
            "description": "Method name to call for retrieving options in select steps"
          },
          "multiple": {
            "type": "boolean",
            "title": "Multiple",
            "description": "Whether multiple selections are allowed",
            "default": false
          },
          "fields": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/ConfigurationFieldDefinition"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Fields",
            "description": "List of field definitions for input steps"
          },
          "dynamic_fields": {
            "type": "boolean",
            "title": "Dynamic Fields",
            "description": "Whether fields are dynamically generated",
            "default": false
          },
          "field": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Field",
            "description": "Single field name (simple input)"
          },
          "field_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Field Name",
            "description": "Configuration field name for input/select steps"
          },
          "input_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Input Type",
            "description": "Input type (text, password, number)"
          },
          "placeholder": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Placeholder",
            "description": "Placeholder text"
          },
          "required": {
            "type": "boolean",
            "title": "Required",
            "description": "Whether this step is required",
            "default": false
          },
          "optional": {
            "type": "boolean",
            "title": "Optional",
            "description": "Whether this step/field is optional",
            "default": false
          },
          "default": {
            "anyOf": [
              {},
              {
                "type": "null"
              }
            ],
            "title": "Default",
            "description": "Default value for the field"
          },
          "validation": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Validation",
            "description": "Validation rules (e.g., min, max, pattern)"
          },
          "depends_on": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Depends On",
            "description": "Step dependencies - list of step_ids or conditional dict"
          },
          "condition": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Condition",
            "description": "Condition for showing this step (e.g., {field: 'x', equals: 'y'})"
          },
          "action": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Action",
            "description": "Action to perform on confirm (e.g., 'test_connection')"
          }
        },
        "additionalProperties": true,
        "type": "object",
        "required": [
          "step_id",
          "step_type",
          "title",
          "description"
        ],
        "title": "ConfigurationStep",
        "description": "A step in an adapter configuration workflow."
      },
      "ConfigureOAuthProviderRequest": {
        "properties": {
          "provider": {
            "type": "string",
            "title": "Provider",
            "description": "Provider name"
          },
          "client_id": {
            "type": "string",
            "title": "Client Id",
            "description": "OAuth client ID"
          },
          "client_secret": {
            "type": "string",
            "title": "Client Secret",
            "description": "OAuth client secret"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "string"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Additional metadata"
          }
        },
        "type": "object",
        "required": [
          "provider",
          "client_id",
          "client_secret"
        ],
        "title": "ConfigureOAuthProviderRequest",
        "description": "Request to configure an OAuth provider."
      },
      "ConfigureOAuthProviderResponse": {
        "properties": {
          "provider": {
            "type": "string",
            "title": "Provider",
            "description": "Provider name"
          },
          "callback_url": {
            "type": "string",
            "title": "Callback Url",
            "description": "OAuth callback URL"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Status message"
          }
        },
        "type": "object",
        "required": [
          "provider",
          "callback_url",
          "message"
        ],
        "title": "ConfigureOAuthProviderResponse",
        "description": "Response from OAuth provider configuration."
      },
      "ConnectorRegistrationRequest": {
        "properties": {
          "connector_type": {
            "type": "string",
            "pattern": "^(sql|rest|hl7)$",
            "title": "Connector Type",
            "description": "Connector type: sql, rest, or hl7"
          },
          "config": {
            "additionalProperties": true,
            "type": "object",
            "title": "Config",
            "description": "Connector-specific configuration"
          }
        },
        "type": "object",
        "required": [
          "connector_type",
          "config"
        ],
        "title": "ConnectorRegistrationRequest",
        "description": "Request to register a new connector."
      },
      "ConnectorUpdateRequest": {
        "properties": {
          "config": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Config",
            "description": "Updated configuration (partial or full)"
          },
          "enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Enabled",
            "description": "Whether connector should be enabled"
          }
        },
        "type": "object",
        "title": "ConnectorUpdateRequest",
        "description": "Request to update connector configuration."
      },
      "ConscienceResult": {
        "properties": {
          "conscience_name": {
            "type": "string",
            "title": "Conscience Name",
            "description": "Name of the conscience"
          },
          "passed": {
            "type": "boolean",
            "title": "Passed",
            "description": "Whether the conscience check passed"
          },
          "severity": {
            "type": "string",
            "enum": [
              "info",
              "warning",
              "error",
              "critical"
            ],
            "title": "Severity",
            "description": "Severity level of the result"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Result message"
          },
          "override_action": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Override Action",
            "description": "Action to override if failed"
          },
          "details": {
            "anyOf": [
              {
                "additionalProperties": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "items": {},
                      "type": "array"
                    }
                  ]
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Details",
            "description": "Additional details about the check"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "conscience_name",
          "passed",
          "severity",
          "message"
        ],
        "title": "ConscienceResult",
        "description": "Result from any conscience check."
      },
      "ConsentAuditEntry": {
        "properties": {
          "entry_id": {
            "type": "string",
            "title": "Entry Id",
            "description": "Unique audit entry ID"
          },
          "user_id": {
            "type": "string",
            "title": "User Id",
            "description": "User whose consent changed"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp",
            "description": "When change occurred"
          },
          "previous_stream": {
            "$ref": "#/components/schemas/ConsentStream",
            "description": "Stream before change"
          },
          "new_stream": {
            "$ref": "#/components/schemas/ConsentStream",
            "description": "Stream after change"
          },
          "previous_categories": {
            "items": {
              "$ref": "#/components/schemas/ConsentCategory"
            },
            "type": "array",
            "title": "Previous Categories",
            "description": "Categories before"
          },
          "new_categories": {
            "items": {
              "$ref": "#/components/schemas/ConsentCategory"
            },
            "type": "array",
            "title": "New Categories",
            "description": "Categories after"
          },
          "initiated_by": {
            "type": "string",
            "title": "Initiated By",
            "description": "Who initiated change (user/system/dsar)"
          },
          "reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason",
            "description": "Reason for change"
          }
        },
        "type": "object",
        "required": [
          "entry_id",
          "user_id",
          "timestamp",
          "previous_stream",
          "new_stream",
          "previous_categories",
          "new_categories",
          "initiated_by"
        ],
        "title": "ConsentAuditEntry",
        "description": "Audit trail for consent changes - IMMUTABLE RECORD."
      },
      "ConsentCategoriesResponse": {
        "properties": {
          "categories": {
            "additionalProperties": {
              "$ref": "#/components/schemas/CategoryMetadata"
            },
            "type": "object",
            "title": "Categories",
            "description": "Available consent categories"
          }
        },
        "type": "object",
        "required": [
          "categories"
        ],
        "title": "ConsentCategoriesResponse",
        "description": "Response for consent categories endpoint."
      },
      "ConsentCategory": {
        "type": "string",
        "enum": [
          "interaction",
          "preference",
          "improvement",
          "research",
          "sharing"
        ],
        "title": "ConsentCategory",
        "description": "What types of learning the user has consented to."
      },
      "ConsentCleanupResponse": {
        "properties": {
          "cleaned": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Cleaned",
            "description": "Number of records cleaned"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Cleanup result message"
          }
        },
        "type": "object",
        "required": [
          "cleaned",
          "message"
        ],
        "title": "ConsentCleanupResponse",
        "description": "Response for consent cleanup operation."
      },
      "ConsentDecayStatus": {
        "properties": {
          "user_id": {
            "type": "string",
            "title": "User Id",
            "description": "User being forgotten"
          },
          "decay_started": {
            "type": "string",
            "format": "date-time",
            "title": "Decay Started",
            "description": "When decay began"
          },
          "identity_severed": {
            "type": "boolean",
            "title": "Identity Severed",
            "description": "Identity disconnected from patterns"
          },
          "patterns_anonymized": {
            "type": "boolean",
            "title": "Patterns Anonymized",
            "description": "Patterns converted to anonymous"
          },
          "decay_complete_at": {
            "type": "string",
            "format": "date-time",
            "title": "Decay Complete At",
            "description": "When decay will complete (90 days)"
          },
          "safety_patterns_retained": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Safety Patterns Retained",
            "description": "Patterns kept for safety",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "decay_started",
          "identity_severed",
          "patterns_anonymized",
          "decay_complete_at"
        ],
        "title": "ConsentDecayStatus",
        "description": "Track decay protocol progress - NO FAKE DELETION."
      },
      "ConsentImpactReport": {
        "properties": {
          "user_id": {
            "type": "string",
            "title": "User Id",
            "description": "User requesting report"
          },
          "total_interactions": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Total Interactions",
            "description": "Total interactions"
          },
          "patterns_contributed": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Patterns Contributed",
            "description": "Patterns learned"
          },
          "users_helped": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Users Helped",
            "description": "Others benefited"
          },
          "categories_active": {
            "items": {
              "$ref": "#/components/schemas/ConsentCategory"
            },
            "type": "array",
            "title": "Categories Active",
            "description": "Active categories"
          },
          "impact_score": {
            "type": "number",
            "minimum": 0.0,
            "title": "Impact Score",
            "description": "Overall impact"
          },
          "example_contributions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Example Contributions",
            "description": "Example learnings (anonymized)"
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "total_interactions",
          "patterns_contributed",
          "users_helped",
          "categories_active",
          "impact_score",
          "example_contributions"
        ],
        "title": "ConsentImpactReport",
        "description": "Show users their contribution - REAL DATA ONLY.\n\nUser-facing name: Commons Credits Report\n\nCommons Credits track non-monetary contributions that strengthen the community:\n- Sharing knowledge (patterns_contributed)\n- Supporting others (users_helped)\n- Maintaining infrastructure (interactions)\n\nNot currency. Not scorekeeping. Recognition for contributions traditional systems ignore."
      },
      "ConsentQueryResponse": {
        "properties": {
          "consents": {
            "items": {
              "$ref": "#/components/schemas/ConsentRecordResponse"
            },
            "type": "array",
            "title": "Consents",
            "description": "List of consent records"
          },
          "total": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Total",
            "description": "Total number of records"
          }
        },
        "type": "object",
        "required": [
          "consents",
          "total"
        ],
        "title": "ConsentQueryResponse",
        "description": "Response for consent query endpoint."
      },
      "ConsentRecordResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Consent record ID"
          },
          "user_id": {
            "type": "string",
            "title": "User Id",
            "description": "User identifier"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Consent status (ACTIVE/REVOKED/etc)"
          },
          "scope": {
            "type": "string",
            "title": "Scope",
            "description": "Consent scope"
          },
          "purpose": {
            "type": "string",
            "title": "Purpose",
            "description": "Purpose of consent"
          },
          "granted_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Granted At",
            "description": "When granted (ISO format)"
          },
          "expires_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires At",
            "description": "When expires (ISO format)"
          },
          "metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata",
            "description": "Additional metadata"
          }
        },
        "type": "object",
        "required": [
          "id",
          "user_id",
          "status",
          "scope",
          "purpose"
        ],
        "title": "ConsentRecordResponse",
        "description": "Individual consent record for query responses."
      },
      "ConsentRequest": {
        "properties": {
          "user_id": {
            "type": "string",
            "title": "User Id",
            "description": "User requesting consent change"
          },
          "stream": {
            "$ref": "#/components/schemas/ConsentStream",
            "description": "Requested stream"
          },
          "categories": {
            "items": {
              "$ref": "#/components/schemas/ConsentCategory"
            },
            "type": "array",
            "title": "Categories",
            "description": "Categories to consent to"
          },
          "reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason",
            "description": "User's reason for change"
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "stream",
          "categories"
        ],
        "title": "ConsentRequest",
        "description": "Request to grant or modify consent - EXPLICIT, NO ASSUMPTIONS."
      },
      "ConsentStatus": {
        "properties": {
          "user_id": {
            "type": "string",
            "title": "User Id",
            "description": "User identifier"
          },
          "stream": {
            "$ref": "#/components/schemas/ConsentStream",
            "description": "Current consent stream"
          },
          "categories": {
            "items": {
              "$ref": "#/components/schemas/ConsentCategory"
            },
            "type": "array",
            "title": "Categories",
            "description": "What they consented to"
          },
          "granted_at": {
            "type": "string",
            "format": "date-time",
            "title": "Granted At",
            "description": "When consent was granted"
          },
          "expires_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires At",
            "description": "When TEMPORARY expires"
          },
          "last_modified": {
            "type": "string",
            "format": "date-time",
            "title": "Last Modified",
            "description": "Last modification time"
          },
          "impact_score": {
            "type": "number",
            "minimum": 0.0,
            "title": "Impact Score",
            "description": "Contribution to collective learning",
            "default": 0.0
          },
          "attribution_count": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Attribution Count",
            "description": "Number of patterns attributed",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "stream",
          "categories",
          "granted_at",
          "last_modified"
        ],
        "title": "ConsentStatus",
        "description": "User's consent configuration - NO DEFAULTS, FAIL FAST."
      },
      "ConsentStatusResponse": {
        "properties": {
          "has_consent": {
            "type": "boolean",
            "title": "Has Consent",
            "description": "Whether consent exists"
          },
          "user_id": {
            "type": "string",
            "title": "User Id",
            "description": "User identifier"
          },
          "stream": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Stream",
            "description": "Current consent stream"
          },
          "granted_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Granted At",
            "description": "When consent was granted (ISO format)"
          },
          "expires_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires At",
            "description": "When consent expires (ISO format)"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message",
            "description": "Additional message if no consent"
          }
        },
        "type": "object",
        "required": [
          "has_consent",
          "user_id"
        ],
        "title": "ConsentStatusResponse",
        "description": "Response for consent status endpoint."
      },
      "ConsentStream": {
        "type": "string",
        "enum": [
          "temporary",
          "partnered",
          "anonymous"
        ],
        "title": "ConsentStream",
        "description": "How we handle user data based on consent.\n\nTEMPORARY: Default - we forget in 14 days\nPARTNERED: Explicit consent for mutual growth\nANONYMOUS: Statistics only, no identity"
      },
      "ConsentStreamsResponse": {
        "properties": {
          "streams": {
            "additionalProperties": {
              "$ref": "#/components/schemas/StreamMetadata"
            },
            "type": "object",
            "title": "Streams",
            "description": "Available consent streams"
          },
          "default": {
            "type": "string",
            "title": "Default",
            "description": "Default stream value"
          }
        },
        "type": "object",
        "required": [
          "streams",
          "default"
        ],
        "title": "ConsentStreamsResponse",
        "description": "Response for consent streams endpoint."
      },
      "ConversationHistory": {
        "properties": {
          "messages": {
            "items": {
              "$ref": "#/components/schemas/ConversationMessage"
            },
            "type": "array",
            "title": "Messages",
            "description": "Message history"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count",
            "description": "Total messages"
          },
          "has_more": {
            "type": "boolean",
            "title": "Has More",
            "description": "Whether more messages exist"
          }
        },
        "type": "object",
        "required": [
          "messages",
          "total_count",
          "has_more"
        ],
        "title": "ConversationHistory",
        "description": "Conversation history."
      },
      "ConversationMessage": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Message ID"
          },
          "author": {
            "type": "string",
            "title": "Author",
            "description": "Message author"
          },
          "content": {
            "type": "string",
            "title": "Content",
            "description": "Message content"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp",
            "description": "When sent"
          },
          "is_agent": {
            "type": "boolean",
            "title": "Is Agent",
            "description": "Whether this was from the agent"
          },
          "message_type": {
            "type": "string",
            "enum": [
              "user",
              "agent",
              "system",
              "error"
            ],
            "title": "Message Type",
            "description": "Type of message (user, agent, system, error)",
            "default": "user"
          }
        },
        "type": "object",
        "required": [
          "id",
          "author",
          "content",
          "timestamp",
          "is_agent"
        ],
        "title": "ConversationMessage",
        "description": "Message in conversation history."
      },
      "CreateTicketRequest": {
        "properties": {
          "sop": {
            "type": "string",
            "title": "Sop",
            "description": "Standard Operating Procedure (e.g., 'DSAR_ACCESS')"
          },
          "email": {
            "type": "string",
            "title": "Email",
            "description": "Contact email for the ticket"
          },
          "user_identifier": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Identifier",
            "description": "User identifier for data lookup"
          },
          "priority": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 10.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Priority",
            "description": "Priority 1-10 (defaults to SOP default)"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Additional metadata for the ticket"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "Optional notes about the ticket"
          }
        },
        "type": "object",
        "required": [
          "sop",
          "email"
        ],
        "title": "CreateTicketRequest",
        "description": "Request to create a new ticket."
      },
      "CreateUserRequest": {
        "properties": {
          "username": {
            "type": "string",
            "maxLength": 50,
            "minLength": 3,
            "title": "Username"
          },
          "password": {
            "type": "string",
            "minLength": 8,
            "title": "Password"
          },
          "api_role": {
            "$ref": "#/components/schemas/APIRole",
            "default": "OBSERVER"
          }
        },
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "title": "CreateUserRequest",
        "description": "Request to create a new user."
      },
      "CreditStatusResponse": {
        "properties": {
          "has_credit": {
            "type": "boolean",
            "title": "Has Credit",
            "description": "Whether user has available credit"
          },
          "credits_remaining": {
            "type": "integer",
            "title": "Credits Remaining",
            "description": "Remaining paid credits"
          },
          "free_uses_remaining": {
            "type": "integer",
            "title": "Free Uses Remaining",
            "description": "Remaining free uses"
          },
          "daily_free_uses_remaining": {
            "type": "integer",
            "title": "Daily Free Uses Remaining",
            "description": "Remaining daily free uses",
            "default": 0
          },
          "total_uses": {
            "type": "integer",
            "title": "Total Uses",
            "description": "Total uses so far"
          },
          "plan_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Plan Name",
            "description": "Current plan name"
          },
          "purchase_required": {
            "type": "boolean",
            "title": "Purchase Required",
            "description": "Whether purchase is required to continue"
          },
          "purchase_options": {
            "anyOf": [
              {
                "additionalProperties": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "items": {},
                      "type": "array"
                    },
                    {
                      "additionalProperties": true,
                      "type": "object"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Purchase Options",
            "description": "Purchase options if required"
          }
        },
        "type": "object",
        "required": [
          "has_credit",
          "credits_remaining",
          "free_uses_remaining",
          "total_uses",
          "purchase_required"
        ],
        "title": "CreditStatusResponse",
        "description": "Credit status for frontend display."
      },
      "DMAContext": {
        "properties": {
          "domain_knowledge": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Domain Knowledge",
            "description": "Domain-specific knowledge from agent identity"
          },
          "similar_decisions": {
            "items": {
              "$ref": "#/components/schemas/DMADecision"
            },
            "type": "array",
            "title": "Similar Decisions",
            "description": "Similar past decisions for context"
          },
          "time_constraints": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Time Constraints",
            "description": "Time limit for decision in seconds"
          },
          "user_preferences": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "User Preferences",
            "description": "Known user preferences"
          },
          "community_guidelines": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Community Guidelines",
            "description": "Applicable community guidelines"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "DMAContext",
        "description": "Additional context for DMA processing."
      },
      "DMADecision": {
        "properties": {
          "dma_type": {
            "type": "string",
            "title": "Dma Type",
            "description": "Type of DMA: PDMA, CSDMA, DSDMA, ActionSelection"
          },
          "decision": {
            "type": "string",
            "title": "Decision",
            "description": "The decision: approve, reject, defer, etc."
          },
          "reasoning": {
            "type": "string",
            "title": "Reasoning",
            "description": "Explanation of the decision"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp",
            "description": "Decision timestamp"
          },
          "factors_considered": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Factors Considered",
            "description": "Factors in decision"
          },
          "alternatives_evaluated": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Alternatives Evaluated",
            "description": "Alternatives considered"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "dma_type",
          "decision",
          "reasoning",
          "timestamp"
        ],
        "title": "DMADecision",
        "description": "A decision made by a DMA."
      },
      "DSARInitiateResponse": {
        "properties": {
          "request_id": {
            "type": "string",
            "title": "Request Id",
            "description": "DSAR request identifier"
          },
          "user_id": {
            "type": "string",
            "title": "User Id",
            "description": "User identifier"
          },
          "request_type": {
            "type": "string",
            "title": "Request Type",
            "description": "Type of DSAR request"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Request status"
          },
          "export_data": {
            "additionalProperties": true,
            "type": "object",
            "title": "Export Data",
            "description": "Exported data"
          }
        },
        "type": "object",
        "required": [
          "request_id",
          "user_id",
          "request_type",
          "status",
          "export_data"
        ],
        "title": "DSARInitiateResponse",
        "description": "Response for DSAR initiation."
      },
      "DSARRequest": {
        "properties": {
          "request_type": {
            "type": "string",
            "pattern": "^(access|delete|export|correct)$",
            "title": "Request Type",
            "description": "Type of request: access, delete, export, or correct"
          },
          "email": {
            "type": "string",
            "title": "Email",
            "description": "Contact email for the request"
          },
          "user_identifier": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Identifier",
            "description": "Discord ID, username, or other identifier"
          },
          "details": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Details",
            "description": "Additional details about the request"
          },
          "urgent": {
            "type": "boolean",
            "title": "Urgent",
            "description": "Whether this is an urgent request",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "request_type",
          "email"
        ],
        "title": "DSARRequest",
        "description": "Schema for Data Subject Access Request."
      },
      "DSARStatusResponse": {
        "properties": {
          "request_id": {
            "type": "string",
            "title": "Request Id",
            "description": "DSAR request identifier"
          },
          "user_id": {
            "type": "string",
            "title": "User Id",
            "description": "User identifier"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Request status"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Status message"
          }
        },
        "type": "object",
        "required": [
          "request_id",
          "user_id",
          "status",
          "message"
        ],
        "title": "DSARStatusResponse",
        "description": "Response for DSAR status check."
      },
      "DSDMAResult": {
        "properties": {
          "domain": {
            "type": "string",
            "title": "Domain",
            "description": "Primary domain of expertise"
          },
          "domain_alignment": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Domain Alignment",
            "description": "How well aligned with domain"
          },
          "flags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Flags",
            "description": "Domain-specific flags"
          },
          "reasoning": {
            "type": "string",
            "title": "Reasoning",
            "description": "Domain-specific reasoning"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "domain",
          "domain_alignment",
          "reasoning"
        ],
        "title": "DSDMAResult",
        "description": "Result from Domain Specific Decision Making Algorithm."
      },
      "DeactivateUserResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Success message"
          }
        },
        "type": "object",
        "required": [
          "message"
        ],
        "title": "DeactivateUserResponse",
        "description": "Response for user deactivation."
      },
      "DeferParams": {
        "properties": {
          "channel_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel Id",
            "description": "Channel ID for context"
          },
          "reason": {
            "type": "string",
            "title": "Reason"
          },
          "context": {
            "anyOf": [
              {
                "additionalProperties": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "items": {
                        "type": "string"
                      },
                      "type": "array"
                    }
                  ]
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context"
          },
          "defer_until": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Defer Until",
            "description": "ISO timestamp to reactivate task (e.g., '2025-01-20T15:00:00Z')"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "reason"
        ],
        "title": "DeferParams",
        "description": "Parameters for DEFER action."
      },
      "DeferralListResponse": {
        "properties": {
          "deferrals": {
            "items": {
              "$ref": "#/components/schemas/PendingDeferral"
            },
            "type": "array",
            "title": "Deferrals",
            "description": "List of pending deferrals"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of pending deferrals"
          }
        },
        "type": "object",
        "required": [
          "deferrals",
          "total"
        ],
        "title": "DeferralListResponse",
        "description": "Response containing list of pending deferrals."
      },
      "DeletionProof": {
        "properties": {
          "deletion_id": {
            "type": "string",
            "title": "Deletion Id",
            "description": "Unique deletion request ID"
          },
          "user_identifier": {
            "type": "string",
            "title": "User Identifier",
            "description": "User identifier for deleted data"
          },
          "sources_deleted": {
            "additionalProperties": true,
            "type": "object",
            "title": "Sources Deleted",
            "description": "Sources and records deleted"
          },
          "deleted_at": {
            "type": "string",
            "title": "Deleted At",
            "description": "ISO 8601 deletion timestamp"
          },
          "verification_hash": {
            "type": "string",
            "title": "Verification Hash",
            "description": "SHA-256 hash of deletion details"
          },
          "signature": {
            "type": "string",
            "title": "Signature",
            "description": "RSA-PSS signature (base64)"
          },
          "public_key_id": {
            "type": "string",
            "title": "Public Key Id",
            "description": "ID of RSA key used for signing"
          }
        },
        "type": "object",
        "required": [
          "deletion_id",
          "user_identifier",
          "sources_deleted",
          "deleted_at",
          "verification_hash",
          "signature",
          "public_key_id"
        ],
        "title": "DeletionProof",
        "description": "Cryptographically signed proof of data deletion."
      },
      "DetailedMetric": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Metric name"
          },
          "current_value": {
            "type": "number",
            "title": "Current Value",
            "description": "Current value"
          },
          "unit": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Unit",
            "description": "Metric unit"
          },
          "trend": {
            "type": "string",
            "title": "Trend",
            "description": "Trend: up|down|stable",
            "default": "stable"
          },
          "hourly_average": {
            "type": "number",
            "title": "Hourly Average",
            "description": "Average over last hour",
            "default": 0.0
          },
          "daily_average": {
            "type": "number",
            "title": "Daily Average",
            "description": "Average over last day",
            "default": 0.0
          },
          "by_service": {
            "items": {
              "$ref": "#/components/schemas/ServiceMetricValue"
            },
            "type": "array",
            "title": "By Service",
            "description": "Values by service"
          },
          "recent_data": {
            "items": {
              "$ref": "#/components/schemas/MetricData"
            },
            "type": "array",
            "title": "Recent Data",
            "description": "Recent data points"
          }
        },
        "type": "object",
        "required": [
          "name",
          "current_value"
        ],
        "title": "DetailedMetric",
        "description": "Detailed metric information."
      },
      "DocumentPayload": {
        "properties": {
          "data": {
            "type": "string",
            "title": "Data",
            "description": "Base64-encoded document data or URL"
          },
          "media_type": {
            "type": "string",
            "title": "Media Type",
            "description": "MIME type (application/pdf, application/vnd.openxmlformats-officedocument.wordprocessingml.document)",
            "default": "application/pdf"
          },
          "filename": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Filename",
            "description": "Optional filename (helps determine document type)"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "DocumentPayload",
        "description": "Document payload for text extraction from files."
      },
      "EmergencyCommandType": {
        "type": "string",
        "enum": [
          "SHUTDOWN_NOW",
          "FREEZE",
          "SAFE_MODE"
        ],
        "title": "EmergencyCommandType",
        "description": "Types of emergency commands."
      },
      "EmergencyShutdownStatus": {
        "properties": {
          "command_received": {
            "type": "string",
            "format": "date-time",
            "title": "Command Received",
            "description": "When command was received"
          },
          "command_verified": {
            "type": "boolean",
            "title": "Command Verified",
            "description": "Whether signature was verified"
          },
          "verification_error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Verification Error",
            "description": "Error if verification failed"
          },
          "shutdown_initiated": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Shutdown Initiated",
            "description": "When shutdown began"
          },
          "services_stopped": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Services Stopped",
            "description": "Services stopped"
          },
          "data_persisted": {
            "type": "boolean",
            "title": "Data Persisted",
            "description": "Whether data was saved",
            "default": false
          },
          "final_message_sent": {
            "type": "boolean",
            "title": "Final Message Sent",
            "description": "Whether final message was sent",
            "default": false
          },
          "shutdown_completed": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Shutdown Completed",
            "description": "When shutdown finished"
          },
          "exit_code": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Exit Code",
            "description": "Process exit code"
          }
        },
        "type": "object",
        "required": [
          "command_received",
          "command_verified"
        ],
        "title": "EmergencyShutdownStatus",
        "description": "Status of emergency shutdown process."
      },
      "EntryVerification": {
        "properties": {
          "signature_valid": {
            "type": "boolean",
            "title": "Signature Valid",
            "description": "Whether signature is valid"
          },
          "hash_chain_valid": {
            "type": "boolean",
            "title": "Hash Chain Valid",
            "description": "Whether hash chain is intact"
          },
          "verified_at": {
            "type": "string",
            "format": "date-time",
            "title": "Verified At",
            "description": "When verification occurred"
          },
          "verifier": {
            "type": "string",
            "title": "Verifier",
            "description": "Who performed verification",
            "default": "system"
          },
          "algorithm": {
            "type": "string",
            "title": "Algorithm",
            "description": "Hash algorithm used",
            "default": "sha256"
          },
          "previous_hash_match": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Previous Hash Match",
            "description": "Whether previous hash matches"
          }
        },
        "type": "object",
        "required": [
          "signature_valid",
          "hash_chain_valid",
          "verified_at"
        ],
        "title": "EntryVerification",
        "description": "Audit entry verification details."
      },
      "EnvVarRequirement": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Environment variable name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "What this variable is for"
          },
          "secret": {
            "type": "boolean",
            "title": "Secret",
            "description": "Whether this is a secret (affects display)",
            "default": false
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "name"
        ],
        "title": "EnvVarRequirement",
        "description": "A required environment variable."
      },
      "EthicalDMAResult": {
        "properties": {
          "stakeholders": {
            "type": "string",
            "title": "Stakeholders",
            "description": "Comma-separated list of all stakeholders who could possibly be affected by the agent's action or inaction (e.g., 'user, community, system, third-parties')"
          },
          "conflicts": {
            "type": "string",
            "title": "Conflicts",
            "description": "Comma-separated list of potential conflicts between stakeholder interests (e.g., 'user privacy vs system learning, individual benefit vs community harm'). Use 'none' if no conflicts identified."
          },
          "reasoning": {
            "type": "string",
            "title": "Reasoning",
            "description": "Ethical reasoning for the identified stakeholders and conflicts"
          },
          "alignment_check": {
            "type": "string",
            "title": "Alignment Check",
            "description": "Detailed ethical analysis addressing each CIRIS principle"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "stakeholders",
          "conflicts",
          "reasoning",
          "alignment_check"
        ],
        "title": "EthicalDMAResult",
        "description": "Result from Principled Decision Making Algorithm (PDMA).\n\nPDMA identifies stakeholders affected by the thought and potential conflicts\nbetween their interests to inform ethical action selection."
      },
      "ForgetParams": {
        "properties": {
          "channel_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel Id",
            "description": "Channel ID for context"
          },
          "node": {
            "$ref": "#/components/schemas/GraphNode"
          },
          "reason": {
            "type": "string",
            "title": "Reason"
          },
          "no_audit": {
            "type": "boolean",
            "title": "No Audit",
            "default": false
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "node",
          "reason"
        ],
        "title": "ForgetParams",
        "description": "Parameters for FORGET action."
      },
      "GooglePlayVerifyRequest": {
        "properties": {
          "purchase_token": {
            "type": "string",
            "title": "Purchase Token",
            "description": "Google Play purchase token"
          },
          "product_id": {
            "type": "string",
            "title": "Product Id",
            "description": "Product SKU (e.g., 'credits_100')"
          },
          "package_name": {
            "type": "string",
            "title": "Package Name",
            "description": "App package name"
          }
        },
        "type": "object",
        "required": [
          "purchase_token",
          "product_id",
          "package_name"
        ],
        "title": "GooglePlayVerifyRequest",
        "description": "Request to verify a Google Play purchase."
      },
      "GooglePlayVerifyResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether verification succeeded"
          },
          "credits_added": {
            "type": "integer",
            "title": "Credits Added",
            "description": "Credits added from this purchase",
            "default": 0
          },
          "new_balance": {
            "type": "integer",
            "title": "New Balance",
            "description": "New credit balance after purchase",
            "default": 0
          },
          "already_processed": {
            "type": "boolean",
            "title": "Already Processed",
            "description": "Whether purchase was already processed",
            "default": false
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error",
            "description": "Error message if verification failed"
          }
        },
        "type": "object",
        "required": [
          "success"
        ],
        "title": "GooglePlayVerifyResponse",
        "description": "Response from Google Play purchase verification."
      },
      "GraphEdge": {
        "properties": {
          "source": {
            "type": "string",
            "title": "Source",
            "description": "Source node ID"
          },
          "target": {
            "type": "string",
            "title": "Target",
            "description": "Target node ID"
          },
          "relationship": {
            "type": "string",
            "title": "Relationship",
            "description": "Type of relationship"
          },
          "scope": {
            "$ref": "#/components/schemas/GraphScope",
            "description": "Scope of the edge"
          },
          "weight": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Weight",
            "description": "Relationship weight",
            "default": 1.0
          },
          "attributes": {
            "$ref": "#/components/schemas/GraphEdgeAttributes"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "source",
          "target",
          "relationship",
          "scope"
        ],
        "title": "GraphEdge",
        "description": "Edge connecting nodes in the graph."
      },
      "GraphEdgeAttributes": {
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "context": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context",
            "description": "Context of the relationship"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "GraphEdgeAttributes",
        "description": "Typed attributes for graph edges."
      },
      "GraphNode": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Unique node identifier"
          },
          "type": {
            "$ref": "#/components/schemas/NodeType",
            "description": "Type of node"
          },
          "scope": {
            "$ref": "#/components/schemas/GraphScope",
            "description": "Scope of the node"
          },
          "attributes": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/NodeAttributesBase"
              },
              {
                "$ref": "#/components/schemas/MemoryNodeAttributes"
              },
              {
                "$ref": "#/components/schemas/ConfigNodeAttributes"
              },
              {
                "$ref": "#/components/schemas/TelemetryNodeAttributes"
              },
              {
                "$ref": "#/components/schemas/LogNodeAttributes"
              },
              {
                "additionalProperties": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "items": {},
                      "type": "array"
                    },
                    {
                      "additionalProperties": true,
                      "type": "object"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "object"
              },
              {
                "$ref": "#/components/schemas/GraphNodeAttributes"
              }
            ],
            "title": "Attributes",
            "description": "Node attributes"
          },
          "version": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Version",
            "description": "Version number",
            "default": 1
          },
          "updated_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated By",
            "description": "Who last updated"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At",
            "description": "When last updated"
          },
          "consent_stream": {
            "$ref": "#/components/schemas/ConsentStream",
            "description": "Consent stream for this node (TEMPORARY=14-day, PARTNERED=persistent, ANONYMOUS=stats-only)",
            "default": "temporary"
          },
          "expires_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires At",
            "description": "Expiry time for TEMPORARY consent nodes (auto-set to 14 days for TEMPORARY)"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "id",
          "type",
          "scope",
          "attributes"
        ],
        "title": "GraphNode",
        "description": "Base node for the graph - everything is a memory."
      },
      "GraphNodeAttributes": {
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "created_by": {
            "type": "string",
            "title": "Created By",
            "description": "Who created this node"
          },
          "content": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content",
            "description": "Optional content for the node"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags",
            "description": "Tags for categorization"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "created_by"
        ],
        "title": "GraphNodeAttributes",
        "description": "Base typed attributes for graph nodes."
      },
      "GraphScope": {
        "type": "string",
        "enum": [
          "local",
          "identity",
          "environment",
          "community"
        ],
        "title": "GraphScope",
        "description": "Scope of graph nodes and edges."
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "HandlerActionType": {
        "type": "string",
        "enum": [
          "observe",
          "speak",
          "tool",
          "reject",
          "ponder",
          "defer",
          "memorize",
          "recall",
          "forget",
          "task_complete"
        ],
        "title": "HandlerActionType",
        "description": "Core 3\u00d73\u00d73 action model + terminal."
      },
      "HandlerResult": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether the handler succeeded"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message",
            "description": "Result message"
          },
          "data": {
            "anyOf": [
              {
                "additionalProperties": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "items": {},
                      "type": "array"
                    },
                    {
                      "additionalProperties": true,
                      "type": "object"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Data",
            "description": "Additional result data"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error",
            "description": "Error message if failed"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "success"
        ],
        "title": "HandlerResult",
        "description": "Typed result from all handlers."
      },
      "ImagePayload": {
        "properties": {
          "data": {
            "type": "string",
            "title": "Data",
            "description": "Base64-encoded image data or URL"
          },
          "media_type": {
            "type": "string",
            "title": "Media Type",
            "description": "MIME type (image/jpeg, image/png, etc)",
            "default": "image/jpeg"
          },
          "filename": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Filename",
            "description": "Optional filename"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "ImagePayload",
        "description": "Image payload for multimodal requests."
      },
      "InstallStep": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Unique step identifier"
          },
          "kind": {
            "type": "string",
            "title": "Kind",
            "description": "Install method: brew, apt, pip, npm, manual, winget, choco"
          },
          "label": {
            "type": "string",
            "title": "Label",
            "description": "Human-readable step description"
          },
          "formula": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Formula",
            "description": "Package name for brew"
          },
          "package": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Package",
            "description": "Package name for apt/pip/npm"
          },
          "command": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Command",
            "description": "Command for manual installation"
          },
          "url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Url",
            "description": "URL for manual download/documentation"
          },
          "provides_binaries": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Provides Binaries",
            "description": "Binary names this step provides"
          },
          "verify_command": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Verify Command",
            "description": "Command to verify success"
          },
          "platforms": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Platforms",
            "description": "Platforms this step applies to. Empty = all"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "id",
          "kind",
          "label"
        ],
        "title": "InstallStep",
        "description": "A single installation step for a tool dependency."
      },
      "InteractRequest": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Message to send to the agent"
          },
          "context": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/MessageContext"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional context"
          },
          "images": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/ImagePayload"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Images",
            "description": "Optional images for multimodal interaction"
          },
          "documents": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/DocumentPayload"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Documents",
            "description": "Optional documents (PDF, DOCX) for text extraction"
          }
        },
        "type": "object",
        "required": [
          "message"
        ],
        "title": "InteractRequest",
        "description": "Request to interact with the agent."
      },
      "InteractResponse": {
        "properties": {
          "message_id": {
            "type": "string",
            "title": "Message Id",
            "description": "Unique message ID"
          },
          "response": {
            "type": "string",
            "title": "Response",
            "description": "Agent's response"
          },
          "state": {
            "type": "string",
            "title": "State",
            "description": "Agent's cognitive state after processing"
          },
          "processing_time_ms": {
            "type": "integer",
            "title": "Processing Time Ms",
            "description": "Time taken to process"
          }
        },
        "type": "object",
        "required": [
          "message_id",
          "response",
          "state",
          "processing_time_ms"
        ],
        "title": "InteractResponse",
        "description": "Response from agent interaction."
      },
      "LLMProvider": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Provider ID (openai, local, other)"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Display name"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Provider description"
          },
          "requires_api_key": {
            "type": "boolean",
            "title": "Requires Api Key",
            "description": "Whether API key is required"
          },
          "requires_base_url": {
            "type": "boolean",
            "title": "Requires Base Url",
            "description": "Whether base URL is required"
          },
          "requires_model": {
            "type": "boolean",
            "title": "Requires Model",
            "description": "Whether model name is required"
          },
          "default_base_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Default Base Url",
            "description": "Default base URL if applicable"
          },
          "default_model": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Default Model",
            "description": "Default model name if applicable"
          },
          "examples": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Examples",
            "description": "Example configurations"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "description",
          "requires_api_key",
          "requires_base_url",
          "requires_model"
        ],
        "title": "LLMProvider",
        "description": "LLM provider configuration."
      },
      "LLMValidationRequest": {
        "properties": {
          "provider": {
            "type": "string",
            "title": "Provider",
            "description": "Provider ID (openai, local, other)"
          },
          "api_key": {
            "type": "string",
            "title": "Api Key",
            "description": "API key"
          },
          "base_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Base Url",
            "description": "Base URL for OpenAI-compatible endpoints"
          },
          "model": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Model",
            "description": "Model name"
          }
        },
        "type": "object",
        "required": [
          "provider",
          "api_key"
        ],
        "title": "LLMValidationRequest",
        "description": "Request to validate LLM configuration."
      },
      "LLMValidationResponse": {
        "properties": {
          "valid": {
            "type": "boolean",
            "title": "Valid",
            "description": "Whether configuration is valid"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Validation message"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error",
            "description": "Error details if validation failed"
          }
        },
        "type": "object",
        "required": [
          "valid",
          "message"
        ],
        "title": "LLMValidationResponse",
        "description": "Response from LLM validation."
      },
      "LinkOAuthAccountRequest": {
        "properties": {
          "provider": {
            "type": "string",
            "title": "Provider",
            "description": "OAuth provider identifier"
          },
          "external_id": {
            "type": "string",
            "title": "External Id",
            "description": "Provider-scoped user identifier"
          },
          "account_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Account Name",
            "description": "Display name provided by the provider"
          },
          "metadata": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Metadata",
            "description": "Additional metadata from the provider"
          },
          "primary": {
            "type": "boolean",
            "title": "Primary",
            "description": "Promote this identity to the primary mapping",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "provider",
          "external_id"
        ],
        "title": "LinkOAuthAccountRequest",
        "description": "Request payload to link an OAuth account to a user."
      },
      "LinkedOAuthAccount": {
        "properties": {
          "provider": {
            "type": "string",
            "title": "Provider"
          },
          "external_id": {
            "type": "string",
            "title": "External Id"
          },
          "account_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Account Name"
          },
          "linked_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Linked At"
          },
          "is_primary": {
            "type": "boolean",
            "title": "Is Primary",
            "default": false
          },
          "metadata": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Metadata"
          }
        },
        "type": "object",
        "required": [
          "provider",
          "external_id"
        ],
        "title": "LinkedOAuthAccount",
        "description": "Linked OAuth identity summary."
      },
      "LogContext": {
        "properties": {
          "trace_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Trace Id",
            "description": "Trace ID for correlation"
          },
          "correlation_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Correlation Id",
            "description": "Correlation ID"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id",
            "description": "User ID if applicable"
          },
          "entity_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Entity Id",
            "description": "Entity being operated on"
          },
          "error_details": {
            "anyOf": [
              {
                "additionalProperties": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "items": {},
                      "type": "array"
                    },
                    {
                      "additionalProperties": true,
                      "type": "object"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Details",
            "description": "Error specifics if error log"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "items": {},
                      "type": "array"
                    },
                    {
                      "additionalProperties": true,
                      "type": "object"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Additional metadata"
          }
        },
        "type": "object",
        "title": "LogContext",
        "description": "Structured log context."
      },
      "LogEntryResponse": {
        "properties": {
          "timestamp": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Timestamp",
            "description": "Log timestamp"
          },
          "level": {
            "type": "string",
            "title": "Level",
            "description": "Log level: DEBUG|INFO|WARNING|ERROR|CRITICAL"
          },
          "service": {
            "type": "string",
            "title": "Service",
            "description": "Source service"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Log message"
          },
          "context": {
            "$ref": "#/components/schemas/LogContext",
            "description": "Additional context"
          },
          "trace_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Trace Id",
            "description": "Associated trace ID"
          }
        },
        "type": "object",
        "required": [
          "timestamp",
          "level",
          "service",
          "message"
        ],
        "title": "LogEntryResponse",
        "description": "System log entry."
      },
      "LogNodeAttributes": {
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "When this node was created"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "When this node was last updated"
          },
          "created_by": {
            "type": "string",
            "title": "Created By",
            "description": "Service or user that created this node"
          },
          "updated_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated By",
            "description": "Service or user that last updated this node"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags",
            "description": "Tags for categorization and search"
          },
          "version": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Version",
            "description": "Schema version for migration support",
            "default": 1
          },
          "secret_refs": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Secret Refs",
            "description": "Secret reference UUIDs for encrypted data"
          },
          "log_message": {
            "type": "string",
            "title": "Log Message",
            "description": "The log message content"
          },
          "log_level": {
            "type": "string",
            "title": "Log Level",
            "description": "Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL"
          },
          "log_tags": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Log Tags",
            "description": "Additional tags for the log entry"
          },
          "retention_policy": {
            "type": "string",
            "title": "Retention Policy",
            "description": "Retention policy for this log",
            "default": "raw"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "created_by",
          "log_message",
          "log_level"
        ],
        "title": "LogNodeAttributes",
        "description": "Specific attributes for log entry nodes.\n\nUsed by the memory service for storing log entries as TSDB_DATA nodes."
      },
      "LoginRequest": {
        "properties": {
          "username": {
            "type": "string",
            "title": "Username",
            "description": "Username"
          },
          "password": {
            "type": "string",
            "title": "Password",
            "description": "Password"
          }
        },
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "title": "LoginRequest",
        "description": "Request to authenticate with username/password."
      },
      "LoginResponse": {
        "properties": {
          "access_token": {
            "type": "string",
            "title": "Access Token",
            "description": "JWT access token"
          },
          "token_type": {
            "type": "string",
            "title": "Token Type",
            "description": "Token type",
            "default": "bearer"
          },
          "expires_in": {
            "type": "integer",
            "title": "Expires In",
            "description": "Token lifetime in seconds"
          },
          "user_id": {
            "type": "string",
            "title": "User Id",
            "description": "Authenticated user ID"
          },
          "role": {
            "$ref": "#/components/schemas/UserRole",
            "description": "User's role"
          }
        },
        "type": "object",
        "required": [
          "access_token",
          "expires_in",
          "user_id",
          "role"
        ],
        "title": "LoginResponse",
        "description": "Response after successful login."
      },
      "LogsResponse": {
        "properties": {
          "logs": {
            "items": {
              "$ref": "#/components/schemas/LogEntryResponse"
            },
            "type": "array",
            "title": "Logs",
            "description": "Log entries"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total matching logs"
          },
          "has_more": {
            "type": "boolean",
            "title": "Has More",
            "description": "More logs available",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "logs",
          "total"
        ],
        "title": "LogsResponse",
        "description": "System logs response."
      },
      "ManualSignatureVerificationRequest": {
        "properties": {
          "deletion_id": {
            "type": "string",
            "title": "Deletion Id",
            "description": "Deletion request ID"
          },
          "user_identifier": {
            "type": "string",
            "title": "User Identifier",
            "description": "User identifier"
          },
          "sources_deleted": {
            "additionalProperties": true,
            "type": "object",
            "title": "Sources Deleted",
            "description": "Sources and records deleted (for hash computation)"
          },
          "deleted_at": {
            "type": "string",
            "title": "Deleted At",
            "description": "ISO 8601 deletion timestamp"
          },
          "verification_hash": {
            "type": "string",
            "title": "Verification Hash",
            "description": "SHA-256 hash to verify"
          },
          "signature": {
            "type": "string",
            "title": "Signature",
            "description": "Base64-encoded RSA signature"
          },
          "public_key_id": {
            "type": "string",
            "title": "Public Key Id",
            "description": "Public key ID used for signing"
          }
        },
        "type": "object",
        "required": [
          "deletion_id",
          "user_identifier",
          "sources_deleted",
          "deleted_at",
          "verification_hash",
          "signature",
          "public_key_id"
        ],
        "title": "ManualSignatureVerificationRequest",
        "description": "Request for manual signature verification."
      },
      "MemorizeParams": {
        "properties": {
          "channel_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel Id",
            "description": "Channel ID for context"
          },
          "node": {
            "$ref": "#/components/schemas/GraphNode"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "node"
        ],
        "title": "MemorizeParams",
        "description": "Parameters for MEMORIZE action."
      },
      "MemoryNodeAttributes": {
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "When this node was created"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "When this node was last updated"
          },
          "created_by": {
            "type": "string",
            "title": "Created By",
            "description": "Service or user that created this node"
          },
          "updated_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated By",
            "description": "Service or user that last updated this node"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags",
            "description": "Tags for categorization and search"
          },
          "version": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Version",
            "description": "Schema version for migration support",
            "default": 1
          },
          "secret_refs": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Secret Refs",
            "description": "Secret reference UUIDs for encrypted data"
          },
          "content": {
            "type": "string",
            "title": "Content",
            "description": "The actual memory content"
          },
          "content_type": {
            "type": "string",
            "title": "Content Type",
            "description": "Type of content: text, embedding, reference",
            "default": "text"
          },
          "memory_type": {
            "type": "string",
            "title": "Memory Type",
            "description": "Type: fact, experience, learning, insight, observation"
          },
          "importance": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Importance",
            "description": "Importance score from 0.0 to 1.0",
            "default": 0.5
          },
          "confidence": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Confidence",
            "description": "Confidence in this memory from 0.0 to 1.0",
            "default": 1.0
          },
          "source": {
            "type": "string",
            "title": "Source",
            "description": "Where this memory originated"
          },
          "source_type": {
            "type": "string",
            "title": "Source Type",
            "description": "Source type: internal, user, system, external",
            "default": "internal"
          },
          "channel_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel Id",
            "description": "Channel context if applicable"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id",
            "description": "User context if applicable"
          },
          "task_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Task Id",
            "description": "Task context if applicable"
          },
          "access_count": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Access Count",
            "description": "Number of times accessed",
            "default": 0
          },
          "last_accessed": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Accessed",
            "description": "Last access timestamp"
          },
          "related_memories": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Related Memories",
            "description": "IDs of related memory nodes"
          },
          "derived_from": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Derived From",
            "description": "Parent memory ID if this is derived"
          },
          "embedding_model": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Embedding Model",
            "description": "Model used for embedding"
          },
          "embedding_dimensions": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Embedding Dimensions",
            "description": "Embedding vector dimensions"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "created_by",
          "content",
          "memory_type",
          "source"
        ],
        "title": "MemoryNodeAttributes",
        "description": "Specific attributes for memory nodes.\n\nUsed by the memory service for storing knowledge, experiences, and insights."
      },
      "MemoryOpResult_GraphNode_": {
        "properties": {
          "status": {
            "$ref": "#/components/schemas/MemoryOpStatus"
          },
          "reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason"
          },
          "data": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/GraphNode"
              },
              {
                "type": "null"
              }
            ]
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp"
          },
          "metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "status"
        ],
        "title": "MemoryOpResult[GraphNode]"
      },
      "MemoryOpStatus": {
        "type": "string",
        "enum": [
          "ok",
          "ok",
          "deferred",
          "denied",
          "pending",
          "error",
          "error"
        ],
        "title": "MemoryOpStatus",
        "description": "Status of a memory operation."
      },
      "MemoryStats": {
        "properties": {
          "total_nodes": {
            "type": "integer",
            "title": "Total Nodes",
            "description": "Total number of nodes"
          },
          "nodes_by_type": {
            "additionalProperties": {
              "type": "integer"
            },
            "type": "object",
            "title": "Nodes By Type",
            "description": "Node count by type"
          },
          "nodes_by_scope": {
            "additionalProperties": {
              "type": "integer"
            },
            "type": "object",
            "title": "Nodes By Scope",
            "description": "Node count by scope"
          },
          "recent_nodes_24h": {
            "type": "integer",
            "title": "Recent Nodes 24H",
            "description": "Nodes created in last 24h"
          },
          "oldest_node_date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Oldest Node Date",
            "description": "Oldest node date"
          },
          "newest_node_date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Newest Node Date",
            "description": "Newest node date"
          }
        },
        "type": "object",
        "required": [
          "total_nodes",
          "nodes_by_type",
          "nodes_by_scope",
          "recent_nodes_24h"
        ],
        "title": "MemoryStats",
        "description": "Statistics about memory service."
      },
      "MessageContext": {
        "properties": {
          "channel_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel Id",
            "description": "Channel/conversation ID"
          },
          "thread_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Thread Id",
            "description": "Thread ID if in thread"
          },
          "reply_to_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reply To Id",
            "description": "Message being replied to"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "items": {},
                      "type": "array"
                    },
                    {
                      "additionalProperties": true,
                      "type": "object"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Additional metadata"
          }
        },
        "type": "object",
        "title": "MessageContext",
        "description": "Context information for messages."
      },
      "MessageRejectionReason": {
        "type": "string",
        "enum": [
          "AGENT_OWN_MESSAGE",
          "FILTERED_OUT",
          "CREDIT_DENIED",
          "CREDIT_CHECK_FAILED",
          "PROCESSOR_PAUSED",
          "RATE_LIMITED",
          "CHANNEL_RESTRICTED"
        ],
        "title": "MessageRejectionReason",
        "description": "Reasons why a message submission was rejected or not processed."
      },
      "MessageRequest": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Message to send to the agent"
          },
          "context": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/MessageContext"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional context"
          }
        },
        "type": "object",
        "required": [
          "message"
        ],
        "title": "MessageRequest",
        "description": "Request to send a message to the agent (async pattern)."
      },
      "MessageSubmissionResponse": {
        "properties": {
          "message_id": {
            "type": "string",
            "title": "Message Id",
            "description": "Unique message ID for tracking"
          },
          "task_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Task Id",
            "description": "Task ID created (if accepted)"
          },
          "channel_id": {
            "type": "string",
            "title": "Channel Id",
            "description": "Channel where message was sent"
          },
          "submitted_at": {
            "type": "string",
            "title": "Submitted At",
            "description": "ISO timestamp of submission"
          },
          "accepted": {
            "type": "boolean",
            "title": "Accepted",
            "description": "Whether message was accepted for processing"
          },
          "rejection_reason": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/MessageRejectionReason"
              },
              {
                "type": "null"
              }
            ],
            "description": "Reason if rejected"
          },
          "rejection_detail": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rejection Detail",
            "description": "Additional detail about rejection"
          }
        },
        "type": "object",
        "required": [
          "message_id",
          "channel_id",
          "submitted_at",
          "accepted"
        ],
        "title": "MessageSubmissionResponse",
        "description": "Response from message submission (returns immediately with task ID or rejection reason)."
      },
      "MetricAggregate": {
        "properties": {
          "min": {
            "type": "number",
            "title": "Min",
            "description": "Minimum value",
            "default": 0.0
          },
          "max": {
            "type": "number",
            "title": "Max",
            "description": "Maximum value",
            "default": 0.0
          },
          "avg": {
            "type": "number",
            "title": "Avg",
            "description": "Average value",
            "default": 0.0
          },
          "sum": {
            "type": "number",
            "title": "Sum",
            "description": "Sum of values",
            "default": 0.0
          },
          "count": {
            "type": "integer",
            "title": "Count",
            "description": "Number of data points",
            "default": 0
          },
          "p50": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "P50",
            "description": "50th percentile"
          },
          "p95": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "P95",
            "description": "95th percentile"
          },
          "p99": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "P99",
            "description": "99th percentile"
          }
        },
        "type": "object",
        "title": "MetricAggregate",
        "description": "Aggregated metric statistics."
      },
      "MetricData": {
        "properties": {
          "timestamp": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Timestamp",
            "description": "When metric was recorded"
          },
          "value": {
            "type": "number",
            "title": "Value",
            "description": "Metric value"
          },
          "tags": {
            "$ref": "#/components/schemas/MetricTags",
            "description": "Metric tags"
          }
        },
        "type": "object",
        "required": [
          "timestamp",
          "value"
        ],
        "title": "MetricData",
        "description": "Single metric data point."
      },
      "MetricTags": {
        "properties": {
          "service": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Service",
            "description": "Source service"
          },
          "operation": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Operation",
            "description": "Operation name"
          },
          "model": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Model",
            "description": "Model used (for LLM metrics)"
          },
          "status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status",
            "description": "Operation status"
          },
          "environment": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Environment",
            "description": "Environment (prod/dev)"
          }
        },
        "type": "object",
        "title": "MetricTags",
        "description": "Standard metric tags."
      },
      "MetricsResponse": {
        "properties": {
          "metrics": {
            "items": {
              "$ref": "#/components/schemas/DetailedMetric"
            },
            "type": "array",
            "title": "Metrics",
            "description": "Detailed metrics"
          },
          "summary": {
            "$ref": "#/components/schemas/MetricAggregate",
            "description": "Summary statistics"
          },
          "period": {
            "type": "string",
            "title": "Period",
            "description": "Time period"
          },
          "timestamp": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Timestamp",
            "description": "Response timestamp"
          }
        },
        "type": "object",
        "required": [
          "metrics",
          "summary",
          "period",
          "timestamp"
        ],
        "title": "MetricsResponse",
        "description": "Detailed metrics response."
      },
      "MintWARequest": {
        "properties": {
          "wa_role": {
            "$ref": "#/components/schemas/WARole",
            "description": "Role to grant: AUTHORITY or OBSERVER"
          },
          "signature": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Signature",
            "description": "Ed25519 signature from ROOT private key"
          },
          "private_key_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Private Key Path",
            "description": "Path to ROOT private key for auto-signing"
          }
        },
        "type": "object",
        "required": [
          "wa_role"
        ],
        "title": "MintWARequest",
        "description": "Request to mint user as Wise Authority.",
        "example": {
          "signature": "base64_encoded_signature",
          "wa_role": "AUTHORITY"
        }
      },
      "ModuleConfigParameter": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Parameter name"
          },
          "param_type": {
            "type": "string",
            "title": "Param Type",
            "description": "Parameter type (string, integer, float, boolean, array)"
          },
          "default": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "boolean"
              },
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Default",
            "description": "Default value"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Parameter description"
          },
          "env_var": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Env Var",
            "description": "Environment variable name"
          },
          "required": {
            "type": "boolean",
            "title": "Required",
            "description": "Whether parameter is required",
            "default": true
          },
          "sensitivity": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sensitivity",
            "description": "Sensitivity level (e.g., 'HIGH' for secrets)"
          }
        },
        "type": "object",
        "required": [
          "name",
          "param_type",
          "description"
        ],
        "title": "ModuleConfigParameter",
        "description": "Configuration parameter definition for a module."
      },
      "ModuleTypeInfo": {
        "properties": {
          "module_id": {
            "type": "string",
            "title": "Module Id",
            "description": "Unique module identifier (e.g., 'api', 'mcp_client')"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Human-readable module name"
          },
          "version": {
            "type": "string",
            "title": "Version",
            "description": "Module version"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Module description"
          },
          "author": {
            "type": "string",
            "title": "Author",
            "description": "Module author"
          },
          "module_source": {
            "type": "string",
            "title": "Module Source",
            "description": "Source: 'core' for built-in or 'modular' for plugin"
          },
          "service_types": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Service Types",
            "description": "Service types provided (e.g., TOOL, COMMUNICATION)"
          },
          "capabilities": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Capabilities",
            "description": "Capabilities provided"
          },
          "configuration_schema": {
            "items": {
              "$ref": "#/components/schemas/ModuleConfigParameter"
            },
            "type": "array",
            "title": "Configuration Schema",
            "description": "Configuration parameters and their types"
          },
          "requires_external_deps": {
            "type": "boolean",
            "title": "Requires External Deps",
            "description": "Whether module requires external packages",
            "default": false
          },
          "external_dependencies": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "External Dependencies",
            "description": "External package dependencies with version constraints"
          },
          "is_mock": {
            "type": "boolean",
            "title": "Is Mock",
            "description": "Whether this is a mock/test module",
            "default": false
          },
          "safe_domain": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Safe Domain",
            "description": "Safe domain classification"
          },
          "prohibited": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Prohibited",
            "description": "Prohibited use cases"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "items": {
                        "type": "string"
                      },
                      "type": "array"
                    }
                  ]
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Additional metadata"
          },
          "platform_requirements": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Platform Requirements",
            "description": "Platform requirements (e.g., 'android_play_integrity', 'google_native_auth')"
          },
          "platform_requirements_rationale": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platform Requirements Rationale",
            "description": "Explanation of why platform requirements exist"
          },
          "platform_available": {
            "type": "boolean",
            "title": "Platform Available",
            "description": "Whether this adapter is available on the current platform",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "module_id",
          "name",
          "version",
          "description",
          "author",
          "module_source"
        ],
        "title": "ModuleTypeInfo",
        "description": "Information about an available module/adapter type."
      },
      "ModuleTypesResponse": {
        "properties": {
          "core_modules": {
            "items": {
              "$ref": "#/components/schemas/ModuleTypeInfo"
            },
            "type": "array",
            "title": "Core Modules",
            "description": "Built-in core adapters"
          },
          "adapters": {
            "items": {
              "$ref": "#/components/schemas/ModuleTypeInfo"
            },
            "type": "array",
            "title": "Adapters",
            "description": "Dynamically loaded adapters"
          },
          "total_core": {
            "type": "integer",
            "title": "Total Core",
            "description": "Total number of core modules"
          },
          "total_adapters": {
            "type": "integer",
            "title": "Total Adapters",
            "description": "Total number of adapters"
          }
        },
        "type": "object",
        "required": [
          "core_modules",
          "adapters",
          "total_core",
          "total_adapters"
        ],
        "title": "ModuleTypesResponse",
        "description": "Response containing all available module types."
      },
      "MultiSourceDSARRequest": {
        "properties": {
          "request_type": {
            "type": "string",
            "pattern": "^(access|delete|export|correct)$",
            "title": "Request Type",
            "description": "Type of request: access, delete, export, or correct"
          },
          "email": {
            "type": "string",
            "title": "Email",
            "description": "Contact email for the request"
          },
          "user_identifier": {
            "type": "string",
            "title": "User Identifier",
            "description": "Primary user identifier (email, Discord ID, etc.)"
          },
          "export_format": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Export Format",
            "description": "Export format for export requests",
            "default": "json"
          },
          "corrections": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Corrections",
            "description": "Field corrections for correction requests"
          },
          "details": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Details",
            "description": "Additional details about the request"
          },
          "urgent": {
            "type": "boolean",
            "title": "Urgent",
            "description": "Whether this is an urgent request",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "request_type",
          "email",
          "user_identifier"
        ],
        "title": "MultiSourceDSARRequest",
        "description": "Request for multi-source DSAR operation."
      },
      "NativeTokenRequest": {
        "properties": {
          "id_token": {
            "type": "string",
            "title": "Id Token",
            "description": "Google ID token from native Sign-In"
          },
          "provider": {
            "type": "string",
            "title": "Provider",
            "description": "OAuth provider (currently only 'google' supported)",
            "default": "google"
          }
        },
        "type": "object",
        "required": [
          "id_token"
        ],
        "title": "NativeTokenRequest",
        "description": "Request model for native app token exchange."
      },
      "NativeTokenResponse": {
        "properties": {
          "access_token": {
            "type": "string",
            "title": "Access Token"
          },
          "token_type": {
            "type": "string",
            "title": "Token Type",
            "default": "bearer"
          },
          "expires_in": {
            "type": "integer",
            "title": "Expires In"
          },
          "user_id": {
            "type": "string",
            "title": "User Id"
          },
          "role": {
            "type": "string",
            "title": "Role"
          },
          "email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          }
        },
        "type": "object",
        "required": [
          "access_token",
          "expires_in",
          "user_id",
          "role"
        ],
        "title": "NativeTokenResponse",
        "description": "Response model for native app token exchange."
      },
      "NodeAttributesBase": {
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "When this node was created"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "When this node was last updated"
          },
          "created_by": {
            "type": "string",
            "title": "Created By",
            "description": "Service or user that created this node"
          },
          "updated_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated By",
            "description": "Service or user that last updated this node"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags",
            "description": "Tags for categorization and search"
          },
          "version": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Version",
            "description": "Schema version for migration support",
            "default": 1
          },
          "secret_refs": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Secret Refs",
            "description": "Secret reference UUIDs for encrypted data"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "created_by"
        ],
        "title": "NodeAttributesBase",
        "description": "Base schema for all graph node attributes.\n\nThis replaces the Dict[str, Any] pattern in graph services.\nAll node-specific attributes should inherit from this base."
      },
      "NodeType": {
        "type": "string",
        "enum": [
          "agent",
          "user",
          "channel",
          "concept",
          "config",
          "tsdb_data",
          "tsdb_summary",
          "conversation_summary",
          "trace_summary",
          "audit_summary",
          "task_summary",
          "audit_entry",
          "identity_snapshot",
          "behavioral",
          "social",
          "identity",
          "observation",
          "consent",
          "decay",
          "moderation",
          "safety_score"
        ],
        "title": "NodeType",
        "description": "Types of nodes in the graph."
      },
      "OAuthProviderInfo": {
        "properties": {
          "provider": {
            "type": "string",
            "title": "Provider",
            "description": "Provider name"
          },
          "client_id": {
            "type": "string",
            "title": "Client Id",
            "description": "OAuth client ID"
          },
          "created": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created",
            "description": "Creation timestamp"
          },
          "callback_url": {
            "type": "string",
            "title": "Callback Url",
            "description": "OAuth callback URL"
          },
          "metadata": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Metadata",
            "description": "Additional metadata"
          }
        },
        "type": "object",
        "required": [
          "provider",
          "client_id",
          "callback_url"
        ],
        "title": "OAuthProviderInfo",
        "description": "OAuth provider information."
      },
      "OAuthProvidersResponse": {
        "properties": {
          "providers": {
            "items": {
              "$ref": "#/components/schemas/OAuthProviderInfo"
            },
            "type": "array",
            "title": "Providers",
            "description": "List of configured providers"
          }
        },
        "type": "object",
        "title": "OAuthProvidersResponse",
        "description": "OAuth providers list response."
      },
      "ObserveParams": {
        "properties": {
          "channel_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel Id",
            "description": "Channel ID for observation"
          },
          "channel_context": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ChannelContext"
              },
              {
                "type": "null"
              }
            ]
          },
          "active": {
            "type": "boolean",
            "title": "Active",
            "default": true
          },
          "context": {
            "anyOf": [
              {
                "additionalProperties": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "items": {
                        "type": "string"
                      },
                      "type": "array"
                    }
                  ]
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "ObserveParams",
        "description": "Parameters for OBSERVE action."
      },
      "PaginatedResponse_UserSummary_": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/UserSummary"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size"
          },
          "pages": {
            "type": "integer",
            "title": "Pages"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "page",
          "page_size",
          "pages"
        ],
        "title": "PaginatedResponse[UserSummary]"
      },
      "PartnershipStatusResponse": {
        "properties": {
          "current_stream": {
            "type": "string",
            "title": "Current Stream",
            "description": "Current consent stream"
          },
          "partnership_status": {
            "type": "string",
            "title": "Partnership Status",
            "description": "Partnership request status"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Status message"
          }
        },
        "type": "object",
        "required": [
          "current_stream",
          "partnership_status",
          "message"
        ],
        "title": "PartnershipStatusResponse",
        "description": "Response for partnership status check."
      },
      "PendingDeferral": {
        "properties": {
          "deferral_id": {
            "type": "string",
            "title": "Deferral Id",
            "description": "Unique deferral identifier"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "When deferral was created"
          },
          "deferred_by": {
            "type": "string",
            "title": "Deferred By",
            "description": "Agent that deferred"
          },
          "task_id": {
            "type": "string",
            "title": "Task Id",
            "description": "Associated task ID"
          },
          "thought_id": {
            "type": "string",
            "title": "Thought Id",
            "description": "Associated thought ID"
          },
          "reason": {
            "type": "string",
            "title": "Reason",
            "description": "Reason for deferral"
          },
          "channel_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel Id",
            "description": "Channel where deferred"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id",
            "description": "User involved"
          },
          "priority": {
            "type": "string",
            "title": "Priority",
            "description": "Deferral priority",
            "default": "normal"
          },
          "assigned_wa_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Assigned Wa Id",
            "description": "Assigned WA if any"
          },
          "requires_role": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Requires Role",
            "description": "Required WA role"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Current status",
            "default": "pending"
          },
          "resolution": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Resolution",
            "description": "Resolution if completed"
          },
          "resolved_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Resolved At",
            "description": "Resolution time"
          },
          "question": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Question",
            "description": "Question/description for UI display"
          },
          "context": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Context",
            "description": "Additional context for UI"
          },
          "timeout_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Timeout At",
            "description": "When deferral times out (ISO format)"
          }
        },
        "type": "object",
        "required": [
          "deferral_id",
          "created_at",
          "deferred_by",
          "task_id",
          "thought_id",
          "reason"
        ],
        "title": "PendingDeferral",
        "description": "A deferral awaiting WA review."
      },
      "PermissionRequestResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether the request was successful"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Status of the request (already_granted, already_requested, request_submitted)"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable message"
          },
          "requested_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Requested At",
            "description": "When the permission was requested"
          }
        },
        "type": "object",
        "required": [
          "success",
          "status",
          "message"
        ],
        "title": "PermissionRequestResponse",
        "description": "Response for permission request operation."
      },
      "PermissionRequestUser": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "User ID"
          },
          "email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email",
            "description": "User email"
          },
          "oauth_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Oauth Name",
            "description": "Name from OAuth provider"
          },
          "oauth_picture": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Oauth Picture",
            "description": "Profile picture URL from OAuth provider"
          },
          "role": {
            "$ref": "#/components/schemas/UserRole",
            "description": "Current role"
          },
          "permission_requested_at": {
            "type": "string",
            "format": "date-time",
            "title": "Permission Requested At",
            "description": "When permissions were requested"
          },
          "has_send_messages": {
            "type": "boolean",
            "title": "Has Send Messages",
            "description": "Whether user already has SEND_MESSAGES permission"
          }
        },
        "type": "object",
        "required": [
          "id",
          "role",
          "permission_requested_at",
          "has_send_messages"
        ],
        "title": "PermissionRequestUser",
        "description": "User with permission request information."
      },
      "PermissionsListResponse": {
        "properties": {
          "permissions": {
            "items": {
              "$ref": "#/components/schemas/WAPermission"
            },
            "type": "array",
            "title": "Permissions",
            "description": "List of permissions"
          },
          "wa_id": {
            "type": "string",
            "title": "Wa Id",
            "description": "WA ID these permissions belong to"
          }
        },
        "type": "object",
        "required": [
          "permissions",
          "wa_id"
        ],
        "title": "PermissionsListResponse",
        "description": "Response containing list of permissions."
      },
      "PersistedConfigsResponse": {
        "properties": {
          "persisted_configs": {
            "additionalProperties": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "object",
            "title": "Persisted Configs",
            "description": "Map of adapter_type to configuration data"
          },
          "count": {
            "type": "integer",
            "title": "Count",
            "description": "Number of persisted configurations"
          }
        },
        "type": "object",
        "required": [
          "count"
        ],
        "title": "PersistedConfigsResponse",
        "description": "Response for persisted adapter configurations."
      },
      "PipelineState": {
        "properties": {
          "is_paused": {
            "type": "boolean",
            "title": "Is Paused",
            "description": "Whether pipeline is paused",
            "default": false
          },
          "current_round": {
            "type": "integer",
            "title": "Current Round",
            "description": "Current processing round",
            "default": 0
          },
          "thoughts_by_step": {
            "additionalProperties": {
              "items": {
                "$ref": "#/components/schemas/ThoughtInPipeline"
              },
              "type": "array"
            },
            "type": "object",
            "title": "Thoughts By Step",
            "description": "Thoughts grouped by their current step point"
          },
          "task_queue": {
            "items": {
              "$ref": "#/components/schemas/QueuedTask"
            },
            "type": "array",
            "title": "Task Queue",
            "description": "Tasks waiting to generate thoughts"
          },
          "thought_queue": {
            "items": {
              "$ref": "#/components/schemas/QueuedThought"
            },
            "type": "array",
            "title": "Thought Queue",
            "description": "Thoughts waiting to enter pipeline"
          },
          "total_thoughts_processed": {
            "type": "integer",
            "title": "Total Thoughts Processed",
            "description": "Total thoughts processed",
            "default": 0
          },
          "total_thoughts_in_flight": {
            "type": "integer",
            "title": "Total Thoughts In Flight",
            "description": "Thoughts currently in pipeline",
            "default": 0
          }
        },
        "type": "object",
        "title": "PipelineState",
        "description": "Complete state of the processing pipeline."
      },
      "PlatformRequirement": {
        "type": "string",
        "enum": [
          "android_play_integrity",
          "ios_app_attest",
          "ios_device_check",
          "dpop",
          "mtls",
          "tpm",
          "hsm",
          "secure_enclave",
          "android_keystore",
          "google_native_auth",
          "apple_native_auth",
          "ciris_proxy"
        ],
        "title": "PlatformRequirement",
        "description": "Platform security requirements for adapters and tools.\n\nThese represent proof-of-possession and device attestation requirements\nthat cannot be satisfied without specific platform capabilities."
      },
      "PonderParams": {
        "properties": {
          "channel_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel Id",
            "description": "Channel ID for context"
          },
          "questions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Questions"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "questions"
        ],
        "title": "PonderParams",
        "description": "Parameters for PONDER action."
      },
      "ProcessorQueueStatus": {
        "properties": {
          "processor_name": {
            "type": "string",
            "title": "Processor Name",
            "description": "Processor name"
          },
          "queue_size": {
            "type": "integer",
            "title": "Queue Size",
            "description": "Current queue size"
          },
          "max_size": {
            "type": "integer",
            "title": "Max Size",
            "description": "Maximum queue size"
          },
          "processing_rate": {
            "type": "number",
            "title": "Processing Rate",
            "description": "Messages per second"
          },
          "average_latency_ms": {
            "type": "number",
            "title": "Average Latency Ms",
            "description": "Average processing latency"
          },
          "oldest_message_age_seconds": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Oldest Message Age Seconds",
            "description": "Age of oldest message"
          }
        },
        "type": "object",
        "required": [
          "processor_name",
          "queue_size",
          "max_size",
          "processing_rate",
          "average_latency_ms"
        ],
        "title": "ProcessorQueueStatus",
        "description": "Status of a processor queue."
      },
      "ProcessorStateInfo": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "State name (WAKEUP, WORK, DREAM, etc.)"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Whether this state is currently active"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "State description"
          },
          "capabilities": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Capabilities",
            "description": "What this state can do"
          }
        },
        "type": "object",
        "required": [
          "name",
          "is_active",
          "description"
        ],
        "title": "ProcessorStateInfo",
        "description": "Information about a processor state."
      },
      "PurchaseInitiateRequest": {
        "properties": {
          "return_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Return Url",
            "description": "URL to return to after payment"
          }
        },
        "type": "object",
        "title": "PurchaseInitiateRequest",
        "description": "Request to initiate purchase flow."
      },
      "PurchaseInitiateResponse": {
        "properties": {
          "payment_id": {
            "type": "string",
            "title": "Payment Id",
            "description": "Payment intent ID"
          },
          "client_secret": {
            "type": "string",
            "title": "Client Secret",
            "description": "Stripe client secret for frontend"
          },
          "amount_minor": {
            "type": "integer",
            "title": "Amount Minor",
            "description": "Amount in minor units (cents)"
          },
          "currency": {
            "type": "string",
            "title": "Currency",
            "description": "Currency code (USD)"
          },
          "uses_purchased": {
            "type": "integer",
            "title": "Uses Purchased",
            "description": "Number of uses being purchased"
          },
          "publishable_key": {
            "type": "string",
            "title": "Publishable Key",
            "description": "Stripe publishable key"
          }
        },
        "type": "object",
        "required": [
          "payment_id",
          "client_secret",
          "amount_minor",
          "currency",
          "uses_purchased",
          "publishable_key"
        ],
        "title": "PurchaseInitiateResponse",
        "description": "Response with Stripe payment intent."
      },
      "PurchaseStatusResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Payment status (succeeded, pending, failed)"
          },
          "credits_added": {
            "type": "integer",
            "title": "Credits Added",
            "description": "Credits added (0 if not completed)"
          },
          "balance_after": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Balance After",
            "description": "Balance after credits added"
          }
        },
        "type": "object",
        "required": [
          "status",
          "credits_added"
        ],
        "title": "PurchaseStatusResponse",
        "description": "Purchase status response."
      },
      "QueryRequest": {
        "properties": {
          "node_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Node Id",
            "description": "Get specific node by ID"
          },
          "type": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/NodeType"
              },
              {
                "type": "null"
              }
            ],
            "description": "Filter by node type"
          },
          "query": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Query",
            "description": "Text search query"
          },
          "since": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Since",
            "description": "Memories since this time"
          },
          "until": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Until",
            "description": "Memories until this time"
          },
          "related_to": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Related To",
            "description": "Find nodes related to this node ID"
          },
          "scope": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/GraphScope"
              },
              {
                "type": "null"
              }
            ],
            "description": "Memory scope filter"
          },
          "tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags",
            "description": "Filter by tags"
          },
          "limit": {
            "type": "integer",
            "maximum": 1000.0,
            "minimum": 1.0,
            "title": "Limit",
            "description": "Maximum results",
            "default": 20
          },
          "offset": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Offset",
            "description": "Pagination offset",
            "default": 0
          },
          "include_edges": {
            "type": "boolean",
            "title": "Include Edges",
            "description": "Include relationship data",
            "default": false
          },
          "depth": {
            "type": "integer",
            "maximum": 3.0,
            "minimum": 1.0,
            "title": "Depth",
            "description": "Graph traversal depth for relationships",
            "default": 1
          }
        },
        "type": "object",
        "title": "QueryRequest",
        "description": "Flexible query interface for memory (RECALL).\n\nSupports multiple query patterns:\n- By ID: Specify node_id\n- By type: Specify type filter\n- By text: Specify query string\n- By time: Specify since/until filters\n- By correlation: Specify related_to node"
      },
      "QueryResponse": {
        "properties": {
          "query_type": {
            "type": "string",
            "title": "Query Type",
            "description": "Query type executed"
          },
          "results": {
            "items": {
              "$ref": "#/components/schemas/QueryResult"
            },
            "type": "array",
            "title": "Results",
            "description": "Query results"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total results found"
          },
          "execution_time_ms": {
            "type": "number",
            "title": "Execution Time Ms",
            "description": "Query execution time"
          }
        },
        "type": "object",
        "required": [
          "query_type",
          "results",
          "total",
          "execution_time_ms"
        ],
        "title": "QueryResponse",
        "description": "Custom query response."
      },
      "QueryResult": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Result ID"
          },
          "type": {
            "type": "string",
            "title": "Type",
            "description": "Result type"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp",
            "description": "Result timestamp"
          },
          "data": {
            "additionalProperties": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                },
                {
                  "type": "number"
                },
                {
                  "type": "boolean"
                },
                {
                  "items": {},
                  "type": "array"
                },
                {
                  "additionalProperties": true,
                  "type": "object"
                },
                {
                  "type": "null"
                }
              ]
            },
            "type": "object",
            "title": "Data",
            "description": "Result data (type-specific)"
          }
        },
        "type": "object",
        "required": [
          "id",
          "type",
          "timestamp",
          "data"
        ],
        "title": "QueryResult",
        "description": "Individual query result."
      },
      "QueuedTask": {
        "properties": {
          "task_id": {
            "type": "string",
            "title": "Task Id",
            "description": "Unique task ID"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Task description"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Task status"
          },
          "channel_id": {
            "type": "string",
            "title": "Channel Id",
            "description": "Source channel"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "When task was created"
          },
          "thoughts_generated": {
            "type": "integer",
            "title": "Thoughts Generated",
            "description": "Number of thoughts generated",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "task_id",
          "description",
          "status",
          "channel_id",
          "created_at"
        ],
        "title": "QueuedTask",
        "description": "A task that may generate thoughts."
      },
      "QueuedThought": {
        "properties": {
          "thought_id": {
            "type": "string",
            "title": "Thought Id",
            "description": "Unique thought ID"
          },
          "thought_type": {
            "type": "string",
            "title": "Thought Type",
            "description": "Type of thought"
          },
          "source_task_id": {
            "type": "string",
            "title": "Source Task Id",
            "description": "Source task ID"
          },
          "task_description": {
            "type": "string",
            "title": "Task Description",
            "description": "Task description"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "When thought was created"
          },
          "priority": {
            "type": "integer",
            "title": "Priority",
            "description": "Processing priority",
            "default": 0
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Current status"
          }
        },
        "type": "object",
        "required": [
          "thought_id",
          "thought_type",
          "source_task_id",
          "task_description",
          "created_at",
          "status"
        ],
        "title": "QueuedThought",
        "description": "A thought queued for processing in the next round."
      },
      "ReasoningTraceData": {
        "properties": {
          "trace_id": {
            "type": "string",
            "title": "Trace Id",
            "description": "Unique trace ID"
          },
          "task_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Task Id",
            "description": "Associated task ID"
          },
          "task_description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Task Description",
            "description": "Task description"
          },
          "start_time": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Start Time",
            "description": "Trace start time"
          },
          "duration_ms": {
            "type": "number",
            "title": "Duration Ms",
            "description": "Total duration"
          },
          "thought_count": {
            "type": "integer",
            "title": "Thought Count",
            "description": "Number of thoughts",
            "default": 0
          },
          "decision_count": {
            "type": "integer",
            "title": "Decision Count",
            "description": "Number of decisions",
            "default": 0
          },
          "reasoning_depth": {
            "type": "integer",
            "title": "Reasoning Depth",
            "description": "Maximum reasoning depth",
            "default": 0
          },
          "thoughts": {
            "items": {
              "$ref": "#/components/schemas/APIResponseThoughtStep"
            },
            "type": "array",
            "title": "Thoughts",
            "description": "Thought steps"
          },
          "outcome": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Outcome",
            "description": "Final outcome"
          }
        },
        "type": "object",
        "required": [
          "trace_id",
          "start_time",
          "duration_ms"
        ],
        "title": "ReasoningTraceData",
        "description": "Reasoning trace information."
      },
      "RecallParams": {
        "properties": {
          "channel_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel Id",
            "description": "Channel ID for context"
          },
          "query": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Query",
            "description": "Search query text"
          },
          "node_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Node Type",
            "description": "Type of nodes to recall"
          },
          "node_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Node Id",
            "description": "Specific node ID to recall"
          },
          "scope": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/GraphScope"
              },
              {
                "type": "null"
              }
            ],
            "description": "Scope to search in"
          },
          "limit": {
            "type": "integer",
            "title": "Limit",
            "description": "Maximum number of results",
            "default": 10
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "RecallParams",
        "description": "Parameters for RECALL action."
      },
      "RejectParams": {
        "properties": {
          "channel_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel Id",
            "description": "Channel ID for context"
          },
          "reason": {
            "type": "string",
            "title": "Reason"
          },
          "create_filter": {
            "type": "boolean",
            "title": "Create Filter",
            "description": "Whether to create an adaptive filter to prevent similar requests",
            "default": false
          },
          "filter_pattern": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Filter Pattern",
            "description": "Pattern to filter (regex or keywords)"
          },
          "filter_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Filter Type",
            "description": "Type of filter: regex, semantic, keyword",
            "default": "regex"
          },
          "filter_priority": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Filter Priority",
            "description": "Priority level: critical, high, medium",
            "default": "high"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "reason"
        ],
        "title": "RejectParams",
        "description": "Parameters for REJECT action."
      },
      "RemovePersistedResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether the removal succeeded"
          },
          "adapter_type": {
            "type": "string",
            "title": "Adapter Type",
            "description": "Adapter type that was removed"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Status message"
          }
        },
        "type": "object",
        "required": [
          "success",
          "adapter_type",
          "message"
        ],
        "title": "RemovePersistedResponse",
        "description": "Response for removing a persisted configuration."
      },
      "ResolveDeferralRequest": {
        "properties": {
          "resolution": {
            "type": "string",
            "pattern": "^(approve|reject|modify)$",
            "title": "Resolution",
            "description": "Resolution type"
          },
          "guidance": {
            "type": "string",
            "title": "Guidance",
            "description": "WA wisdom guidance integrated with the decision"
          }
        },
        "type": "object",
        "required": [
          "resolution",
          "guidance"
        ],
        "title": "ResolveDeferralRequest",
        "description": "Request to resolve a deferral with integrated guidance."
      },
      "ResolveDeferralResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether resolution succeeded"
          },
          "deferral_id": {
            "type": "string",
            "title": "Deferral Id",
            "description": "ID of resolved deferral"
          },
          "resolved_at": {
            "type": "string",
            "format": "date-time",
            "title": "Resolved At",
            "description": "When deferral was resolved"
          }
        },
        "type": "object",
        "required": [
          "success",
          "deferral_id",
          "resolved_at"
        ],
        "title": "ResolveDeferralResponse",
        "description": "Response after resolving a deferral."
      },
      "ResourceAction": {
        "type": "string",
        "enum": [
          "log",
          "warn",
          "throttle",
          "defer",
          "reject",
          "shutdown"
        ],
        "title": "ResourceAction",
        "description": "Actions to take when a resource limit is exceeded"
      },
      "ResourceBudget": {
        "properties": {
          "memory_mb": {
            "$ref": "#/components/schemas/ResourceLimit",
            "description": "Memory usage limits in MB"
          },
          "cpu_percent": {
            "$ref": "#/components/schemas/ResourceLimit",
            "description": "CPU usage limits in percent"
          },
          "tokens_hour": {
            "$ref": "#/components/schemas/ResourceLimit",
            "description": "Token usage per hour"
          },
          "tokens_day": {
            "$ref": "#/components/schemas/ResourceLimit",
            "description": "Token usage per day"
          },
          "disk_mb": {
            "$ref": "#/components/schemas/ResourceLimit",
            "description": "Disk usage limits in MB"
          },
          "thoughts_active": {
            "$ref": "#/components/schemas/ResourceLimit",
            "description": "Active thoughts limit"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "ResourceBudget",
        "description": "Limits for all monitored resources"
      },
      "ResourceHealthStatus": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Health status: healthy|warning|critical"
          },
          "warnings": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Warnings",
            "description": "Warning messages"
          }
        },
        "type": "object",
        "required": [
          "status"
        ],
        "title": "ResourceHealthStatus",
        "description": "Resource health status."
      },
      "ResourceHistoryPoint": {
        "properties": {
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp",
            "description": "Timestamp of measurement"
          },
          "cpu_percent": {
            "type": "number",
            "title": "Cpu Percent",
            "description": "CPU usage percentage"
          },
          "memory_mb": {
            "type": "number",
            "title": "Memory Mb",
            "description": "Memory usage in MB"
          }
        },
        "type": "object",
        "required": [
          "timestamp",
          "cpu_percent",
          "memory_mb"
        ],
        "title": "ResourceHistoryPoint",
        "description": "Historical resource usage point."
      },
      "ResourceLimit": {
        "properties": {
          "limit": {
            "type": "integer",
            "title": "Limit",
            "description": "Hard limit value"
          },
          "warning": {
            "type": "integer",
            "title": "Warning",
            "description": "Warning threshold"
          },
          "critical": {
            "type": "integer",
            "title": "Critical",
            "description": "Critical threshold"
          },
          "action": {
            "$ref": "#/components/schemas/ResourceAction",
            "description": "Action when limit exceeded",
            "default": "defer"
          },
          "cooldown_seconds": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Cooldown Seconds",
            "description": "Cooldown period in seconds",
            "default": 60
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "limit",
          "warning",
          "critical"
        ],
        "title": "ResourceLimit",
        "description": "Configuration for a single resource"
      },
      "ResourceLimits": {
        "properties": {
          "max_memory_mb": {
            "type": "number",
            "title": "Max Memory Mb",
            "description": "Maximum memory in MB"
          },
          "max_cpu_percent": {
            "type": "number",
            "title": "Max Cpu Percent",
            "description": "Maximum CPU percentage",
            "default": 100.0
          },
          "max_disk_bytes": {
            "type": "integer",
            "title": "Max Disk Bytes",
            "description": "Maximum disk usage in bytes",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "max_memory_mb"
        ],
        "title": "ResourceLimits",
        "description": "Resource usage limits."
      },
      "ResourceSnapshot": {
        "properties": {
          "memory_mb": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Memory Mb",
            "description": "Memory usage in MB",
            "default": 0
          },
          "memory_percent": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Memory Percent",
            "description": "Memory usage percentage",
            "default": 0
          },
          "cpu_percent": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Cpu Percent",
            "description": "CPU usage percentage",
            "default": 0
          },
          "cpu_average_1m": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Cpu Average 1M",
            "description": "1-minute CPU average",
            "default": 0
          },
          "tokens_used_hour": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Tokens Used Hour",
            "description": "Tokens used in current hour",
            "default": 0
          },
          "tokens_used_day": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Tokens Used Day",
            "description": "Tokens used today",
            "default": 0
          },
          "disk_used_mb": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Disk Used Mb",
            "description": "Disk space used in MB",
            "default": 0
          },
          "disk_free_mb": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Disk Free Mb",
            "description": "Free disk space in MB",
            "default": 0
          },
          "thoughts_active": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Thoughts Active",
            "description": "Number of active thoughts",
            "default": 0
          },
          "thoughts_queued": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Thoughts Queued",
            "description": "Number of queued thoughts",
            "default": 0
          },
          "healthy": {
            "type": "boolean",
            "title": "Healthy",
            "description": "Overall health status",
            "default": true
          },
          "warnings": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Warnings",
            "description": "Active warnings"
          },
          "critical": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Critical",
            "description": "Critical issues"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "ResourceSnapshot",
        "description": "Current resource usage snapshot"
      },
      "ResourceTelemetryResponse": {
        "properties": {
          "current": {
            "$ref": "#/components/schemas/ResourceUsageData",
            "description": "Current resource usage"
          },
          "limits": {
            "$ref": "#/components/schemas/ResourceLimits",
            "description": "Resource limits"
          },
          "history": {
            "items": {
              "$ref": "#/components/schemas/ResourceHistoryPoint"
            },
            "type": "array",
            "title": "History",
            "description": "Historical data"
          },
          "health": {
            "$ref": "#/components/schemas/ResourceHealthStatus",
            "description": "Health status"
          }
        },
        "type": "object",
        "required": [
          "current",
          "limits",
          "health"
        ],
        "title": "ResourceTelemetryResponse",
        "description": "Complete resource telemetry response."
      },
      "ResourceUsageData": {
        "properties": {
          "cpu_percent": {
            "type": "number",
            "title": "Cpu Percent",
            "description": "CPU usage percentage"
          },
          "memory_mb": {
            "type": "number",
            "title": "Memory Mb",
            "description": "Memory usage in MB"
          },
          "memory_percent": {
            "type": "number",
            "title": "Memory Percent",
            "description": "Memory usage percentage"
          },
          "disk_usage_bytes": {
            "type": "integer",
            "title": "Disk Usage Bytes",
            "description": "Disk usage in bytes",
            "default": 0
          },
          "disk_usage_gb": {
            "type": "number",
            "title": "Disk Usage Gb",
            "description": "Disk usage in GB",
            "default": 0.0
          },
          "active_threads": {
            "type": "integer",
            "title": "Active Threads",
            "description": "Number of active threads",
            "default": 0
          },
          "open_files": {
            "type": "integer",
            "title": "Open Files",
            "description": "Number of open files",
            "default": 0
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp",
            "description": "Timestamp of measurement"
          }
        },
        "type": "object",
        "required": [
          "cpu_percent",
          "memory_mb",
          "memory_percent",
          "timestamp"
        ],
        "title": "ResourceUsageData",
        "description": "Current resource usage data."
      },
      "ResourceUsageResponse": {
        "properties": {
          "current_usage": {
            "$ref": "#/components/schemas/ResourceSnapshot",
            "description": "Current resource usage"
          },
          "limits": {
            "$ref": "#/components/schemas/ResourceBudget",
            "description": "Configured resource limits"
          },
          "health_status": {
            "type": "string",
            "title": "Health Status",
            "description": "Resource health (healthy/warning/critical)"
          },
          "warnings": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Warnings",
            "description": "Resource warnings"
          },
          "critical": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Critical",
            "description": "Critical resource issues"
          }
        },
        "type": "object",
        "required": [
          "current_usage",
          "limits",
          "health_status"
        ],
        "title": "ResourceUsageResponse",
        "description": "System resource usage and limits."
      },
      "ResponseMetadata": {
        "properties": {
          "timestamp": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Timestamp"
          },
          "request_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Request Id",
            "description": "Request tracking ID"
          },
          "duration_ms": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Duration Ms",
            "description": "Request processing duration"
          }
        },
        "type": "object",
        "title": "ResponseMetadata",
        "description": "Metadata included with all responses."
      },
      "RuntimeAction": {
        "properties": {
          "reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason",
            "description": "Reason for the action"
          }
        },
        "type": "object",
        "title": "RuntimeAction",
        "description": "Runtime control action request."
      },
      "RuntimeAdapterStatus": {
        "properties": {
          "adapter_id": {
            "type": "string",
            "title": "Adapter Id",
            "description": "Unique Adapter ID"
          },
          "adapter_type": {
            "type": "string",
            "title": "Adapter Type",
            "description": "Type of adapter"
          },
          "is_running": {
            "type": "boolean",
            "title": "Is Running",
            "description": "Whether adapter is running"
          },
          "loaded_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Loaded At",
            "description": "When adapter was loaded"
          },
          "services_registered": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Services Registered",
            "description": "Services registered by adapter"
          },
          "config_params": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ciris_engine__schemas__runtime__adapter_management__AdapterConfig"
              },
              {
                "type": "null"
              }
            ],
            "description": "Adapter configuration"
          },
          "metrics": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/AdapterMetrics"
              },
              {
                "type": "null"
              }
            ],
            "description": "Adapter metrics"
          },
          "last_activity": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Activity",
            "description": "Last activity timestamp"
          },
          "tools": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/ToolInfo"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tools",
            "description": "Tools provided by adapter"
          }
        },
        "type": "object",
        "required": [
          "adapter_id",
          "adapter_type",
          "is_running"
        ],
        "title": "RuntimeAdapterStatus",
        "description": "Status of a single adapter."
      },
      "RuntimeControlResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether action succeeded"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable status message"
          },
          "processor_state": {
            "type": "string",
            "title": "Processor State",
            "description": "Current processor state"
          },
          "cognitive_state": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cognitive State",
            "description": "Current cognitive state"
          },
          "queue_depth": {
            "type": "integer",
            "title": "Queue Depth",
            "description": "Number of items in processing queue",
            "default": 0
          },
          "current_step": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Step",
            "description": "Current pipeline step when paused"
          },
          "current_step_schema": {
            "anyOf": [
              {
                "additionalProperties": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "items": {},
                      "type": "array"
                    },
                    {
                      "additionalProperties": true,
                      "type": "object"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Step Schema",
            "description": "Full schema object for current step"
          },
          "pipeline_state": {
            "anyOf": [
              {
                "additionalProperties": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "items": {},
                      "type": "array"
                    },
                    {
                      "additionalProperties": true,
                      "type": "object"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Pipeline State",
            "description": "Complete pipeline state when paused"
          }
        },
        "type": "object",
        "required": [
          "success",
          "message",
          "processor_state"
        ],
        "title": "RuntimeControlResponse",
        "description": "Response to runtime control actions."
      },
      "SOPMetadataResponse": {
        "properties": {
          "sop": {
            "type": "string",
            "title": "Sop"
          },
          "ticket_type": {
            "type": "string",
            "title": "Ticket Type"
          },
          "required_fields": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Required Fields"
          },
          "deadline_days": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deadline Days"
          },
          "priority_default": {
            "type": "integer",
            "title": "Priority Default"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "stages": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Stages"
          }
        },
        "type": "object",
        "required": [
          "sop",
          "ticket_type",
          "required_fields",
          "deadline_days",
          "priority_default",
          "description",
          "stages"
        ],
        "title": "SOPMetadataResponse",
        "description": "Metadata about a Standard Operating Procedure."
      },
      "ServiceAvailability": {
        "properties": {
          "graph": {
            "type": "integer",
            "title": "Graph",
            "description": "Graph services available",
            "default": 0
          },
          "core": {
            "type": "integer",
            "title": "Core",
            "description": "Core services available",
            "default": 0
          },
          "infrastructure": {
            "type": "integer",
            "title": "Infrastructure",
            "description": "Infrastructure services available",
            "default": 0
          },
          "governance": {
            "type": "integer",
            "title": "Governance",
            "description": "Governance services available",
            "default": 0
          },
          "special": {
            "type": "integer",
            "title": "Special",
            "description": "Special services available",
            "default": 0
          }
        },
        "type": "object",
        "title": "ServiceAvailability",
        "description": "Service availability counts by type."
      },
      "ServiceHealthStatus": {
        "properties": {
          "overall_health": {
            "type": "string",
            "title": "Overall Health",
            "description": "Overall health: healthy, degraded, unhealthy"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp"
          },
          "healthy_services": {
            "type": "integer",
            "title": "Healthy Services",
            "description": "Number of healthy services"
          },
          "unhealthy_services": {
            "type": "integer",
            "title": "Unhealthy Services",
            "description": "Number of unhealthy services"
          },
          "service_details": {
            "additionalProperties": {
              "additionalProperties": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "boolean"
                  },
                  {
                    "items": {},
                    "type": "array"
                  },
                  {
                    "additionalProperties": true,
                    "type": "object"
                  }
                ]
              },
              "type": "object"
            },
            "type": "object",
            "title": "Service Details",
            "description": "Per-service health details"
          },
          "recommendations": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Recommendations",
            "description": "Health recommendations"
          }
        },
        "type": "object",
        "required": [
          "overall_health",
          "healthy_services",
          "unhealthy_services",
          "service_details"
        ],
        "title": "ServiceHealthStatus",
        "description": "Health status of services."
      },
      "ServiceMetricValue": {
        "properties": {
          "service_name": {
            "type": "string",
            "title": "Service Name",
            "description": "Service name"
          },
          "value": {
            "type": "number",
            "title": "Value",
            "description": "Metric value"
          },
          "percentage": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Percentage",
            "description": "Percentage of total"
          }
        },
        "type": "object",
        "required": [
          "service_name",
          "value"
        ],
        "title": "ServiceMetricValue",
        "description": "Metric value broken down by service."
      },
      "ServiceMetrics": {
        "properties": {
          "uptime_seconds": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Uptime Seconds",
            "description": "Service uptime"
          },
          "requests_handled": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Requests Handled",
            "description": "Total requests"
          },
          "error_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Count",
            "description": "Error count"
          },
          "avg_response_time_ms": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avg Response Time Ms",
            "description": "Average response time"
          },
          "memory_mb": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Memory Mb",
            "description": "Memory usage"
          },
          "custom_metrics": {
            "anyOf": [
              {
                "additionalProperties": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "items": {},
                      "type": "array"
                    },
                    {
                      "additionalProperties": true,
                      "type": "object"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Custom Metrics",
            "description": "Service-specific metrics"
          }
        },
        "type": "object",
        "title": "ServiceMetrics",
        "description": "Service-specific metrics."
      },
      "ServicePriorityUpdateRequest": {
        "properties": {
          "priority": {
            "type": "string",
            "title": "Priority",
            "description": "New priority level (CRITICAL, HIGH, NORMAL, LOW, FALLBACK)"
          },
          "priority_group": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Priority Group",
            "description": "Priority group (0, 1, 2...)"
          },
          "strategy": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Strategy",
            "description": "Selection strategy (FALLBACK, ROUND_ROBIN)"
          }
        },
        "type": "object",
        "required": [
          "priority"
        ],
        "title": "ServicePriorityUpdateRequest",
        "description": "Request to update service priority."
      },
      "ServicePriorityUpdateResponse": {
        "properties": {
          "provider_name": {
            "type": "string",
            "title": "Provider Name",
            "description": "Provider name that was updated"
          },
          "old_priority": {
            "type": "string",
            "title": "Old Priority",
            "description": "Previous priority level"
          },
          "new_priority": {
            "type": "string",
            "title": "New Priority",
            "description": "New priority level"
          },
          "old_priority_group": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Old Priority Group",
            "description": "Previous priority group"
          },
          "new_priority_group": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "New Priority Group",
            "description": "New priority group"
          },
          "old_strategy": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Old Strategy",
            "description": "Previous selection strategy"
          },
          "new_strategy": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "New Strategy",
            "description": "New selection strategy"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Status message"
          }
        },
        "type": "object",
        "required": [
          "provider_name",
          "old_priority",
          "new_priority",
          "message"
        ],
        "title": "ServicePriorityUpdateResponse",
        "description": "Response from service priority update."
      },
      "ServiceSelectionExplanation": {
        "properties": {
          "overview": {
            "type": "string",
            "title": "Overview",
            "description": "Overview of selection logic"
          },
          "priority_groups": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Priority Groups",
            "description": "Priority group explanations"
          },
          "priorities": {
            "anyOf": [
              {
                "additionalProperties": {
                  "additionalProperties": {
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "integer"
                      },
                      {
                        "type": "number"
                      },
                      {
                        "type": "boolean"
                      },
                      {
                        "items": {},
                        "type": "array"
                      },
                      {
                        "additionalProperties": true,
                        "type": "object"
                      }
                    ]
                  },
                  "type": "object"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Priorities",
            "description": "Priority level details"
          },
          "selection_strategies": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Selection Strategies",
            "description": "Strategy explanations"
          },
          "selection_flow": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Selection Flow",
            "description": "Selection flow steps"
          },
          "circuit_breaker_info": {
            "anyOf": [
              {
                "additionalProperties": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "items": {},
                      "type": "array"
                    },
                    {
                      "additionalProperties": true,
                      "type": "object"
                    }
                  ]
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Circuit Breaker Info",
            "description": "Circuit breaker information"
          },
          "examples": {
            "items": {
              "additionalProperties": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "boolean"
                  },
                  {
                    "items": {},
                    "type": "array"
                  },
                  {
                    "additionalProperties": true,
                    "type": "object"
                  }
                ]
              },
              "type": "object"
            },
            "type": "array",
            "title": "Examples",
            "description": "Example scenarios"
          },
          "configuration_tips": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Configuration Tips",
            "description": "Configuration recommendations"
          }
        },
        "type": "object",
        "required": [
          "overview",
          "priority_groups",
          "selection_strategies",
          "examples",
          "configuration_tips"
        ],
        "title": "ServiceSelectionExplanation",
        "description": "Explanation of service selection logic."
      },
      "ServiceStatus": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Service name"
          },
          "type": {
            "type": "string",
            "title": "Type",
            "description": "Service type"
          },
          "healthy": {
            "type": "boolean",
            "title": "Healthy",
            "description": "Whether service is healthy"
          },
          "available": {
            "type": "boolean",
            "title": "Available",
            "description": "Whether service is available"
          },
          "uptime_seconds": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Uptime Seconds",
            "description": "Service uptime if tracked"
          },
          "metrics": {
            "$ref": "#/components/schemas/ServiceMetrics",
            "description": "Service-specific metrics"
          }
        },
        "type": "object",
        "required": [
          "name",
          "type",
          "healthy",
          "available"
        ],
        "title": "ServiceStatus",
        "description": "Individual service status."
      },
      "ServicesStatusResponse": {
        "properties": {
          "services": {
            "items": {
              "$ref": "#/components/schemas/ServiceStatus"
            },
            "type": "array",
            "title": "Services",
            "description": "List of service statuses"
          },
          "total_services": {
            "type": "integer",
            "title": "Total Services",
            "description": "Total number of services"
          },
          "healthy_services": {
            "type": "integer",
            "title": "Healthy Services",
            "description": "Number of healthy services"
          },
          "timestamp": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Timestamp",
            "description": "When status was collected"
          }
        },
        "type": "object",
        "required": [
          "services",
          "total_services",
          "healthy_services",
          "timestamp"
        ],
        "title": "ServicesStatusResponse",
        "description": "Status of all system services."
      },
      "SetupCompleteRequest": {
        "properties": {
          "llm_provider": {
            "type": "string",
            "title": "Llm Provider",
            "description": "LLM provider ID"
          },
          "llm_api_key": {
            "type": "string",
            "title": "Llm Api Key",
            "description": "LLM API key"
          },
          "llm_base_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Llm Base Url",
            "description": "LLM base URL"
          },
          "llm_model": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Llm Model",
            "description": "LLM model name"
          },
          "backup_llm_api_key": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Backup Llm Api Key",
            "description": "Backup LLM API key (CIRIS_OPENAI_API_KEY_2)"
          },
          "backup_llm_base_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Backup Llm Base Url",
            "description": "Backup LLM base URL (CIRIS_OPENAI_API_BASE_2)"
          },
          "backup_llm_model": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Backup Llm Model",
            "description": "Backup LLM model name (CIRIS_OPENAI_MODEL_NAME_2)"
          },
          "template_id": {
            "type": "string",
            "title": "Template Id",
            "description": "Agent template ID",
            "default": "general"
          },
          "enabled_adapters": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Enabled Adapters",
            "description": "List of enabled adapters",
            "default": [
              "api"
            ]
          },
          "adapter_config": {
            "additionalProperties": true,
            "type": "object",
            "title": "Adapter Config",
            "description": "Adapter-specific configuration"
          },
          "admin_username": {
            "type": "string",
            "title": "Admin Username",
            "description": "New user's username",
            "default": "admin"
          },
          "admin_password": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Admin Password",
            "description": "New user's password (min 8 characters). Optional for OAuth users - if not provided, a random password is generated and password auth is disabled for this user."
          },
          "system_admin_password": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "System Admin Password",
            "description": "System admin password to replace default (min 8 characters, optional)"
          },
          "oauth_provider": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Oauth Provider",
            "description": "OAuth provider used for authentication (e.g., 'google'). If set, local password is optional."
          },
          "oauth_external_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Oauth External Id",
            "description": "OAuth external ID (e.g., Google user ID). Required if oauth_provider is set."
          },
          "oauth_email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Oauth Email",
            "description": "OAuth email address from the provider."
          },
          "agent_port": {
            "type": "integer",
            "title": "Agent Port",
            "description": "Agent API port",
            "default": 8080
          }
        },
        "type": "object",
        "required": [
          "llm_provider",
          "llm_api_key"
        ],
        "title": "SetupCompleteRequest",
        "description": "Request to complete setup."
      },
      "SetupConfigResponse": {
        "properties": {
          "llm_provider": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Llm Provider",
            "description": "Current LLM provider"
          },
          "llm_base_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Llm Base Url",
            "description": "Current LLM base URL"
          },
          "llm_model": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Llm Model",
            "description": "Current LLM model"
          },
          "llm_api_key_set": {
            "type": "boolean",
            "title": "Llm Api Key Set",
            "description": "Whether API key is configured",
            "default": false
          },
          "backup_llm_base_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Backup Llm Base Url",
            "description": "Backup LLM base URL"
          },
          "backup_llm_model": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Backup Llm Model",
            "description": "Backup LLM model"
          },
          "backup_llm_api_key_set": {
            "type": "boolean",
            "title": "Backup Llm Api Key Set",
            "description": "Whether backup API key is configured",
            "default": false
          },
          "template_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Template Id",
            "description": "Current template ID"
          },
          "enabled_adapters": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Enabled Adapters",
            "description": "Currently enabled adapters"
          },
          "agent_port": {
            "type": "integer",
            "title": "Agent Port",
            "description": "Current agent port",
            "default": 8080
          }
        },
        "type": "object",
        "title": "SetupConfigResponse",
        "description": "Current setup configuration."
      },
      "SetupStatusResponse": {
        "properties": {
          "is_first_run": {
            "type": "boolean",
            "title": "Is First Run",
            "description": "Whether this is first run"
          },
          "config_exists": {
            "type": "boolean",
            "title": "Config Exists",
            "description": "Whether config file exists"
          },
          "config_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Config Path",
            "description": "Path to config file if exists"
          },
          "setup_required": {
            "type": "boolean",
            "title": "Setup Required",
            "description": "Whether setup is required"
          }
        },
        "type": "object",
        "required": [
          "is_first_run",
          "config_exists",
          "setup_required"
        ],
        "title": "SetupStatusResponse",
        "description": "Setup status information."
      },
      "ShutdownRequest": {
        "properties": {
          "reason": {
            "type": "string",
            "title": "Reason",
            "description": "Reason for shutdown"
          },
          "force": {
            "type": "boolean",
            "title": "Force",
            "description": "Force immediate shutdown",
            "default": false
          },
          "confirm": {
            "type": "boolean",
            "title": "Confirm",
            "description": "Confirmation flag (must be true)"
          }
        },
        "type": "object",
        "required": [
          "reason",
          "confirm"
        ],
        "title": "ShutdownRequest",
        "description": "Graceful shutdown request."
      },
      "ShutdownResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Shutdown status"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable status message"
          },
          "shutdown_initiated": {
            "type": "boolean",
            "title": "Shutdown Initiated",
            "description": "Whether shutdown was initiated"
          },
          "timestamp": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Timestamp",
            "description": "When shutdown was initiated"
          }
        },
        "type": "object",
        "required": [
          "status",
          "message",
          "shutdown_initiated",
          "timestamp"
        ],
        "title": "ShutdownResponse",
        "description": "Response to shutdown request."
      },
      "SingleStepResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether action succeeded"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable status message"
          },
          "processor_state": {
            "type": "string",
            "title": "Processor State",
            "description": "Current processor state"
          },
          "cognitive_state": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cognitive State",
            "description": "Current cognitive state"
          },
          "queue_depth": {
            "type": "integer",
            "title": "Queue Depth",
            "description": "Number of items in processing queue",
            "default": 0
          },
          "step_point": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/StepPoint"
              },
              {
                "type": "null"
              }
            ],
            "description": "The step point that was just executed"
          },
          "step_result": {
            "anyOf": [
              {
                "additionalProperties": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "items": {},
                      "type": "array"
                    },
                    {
                      "additionalProperties": true,
                      "type": "object"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Step Result",
            "description": "Complete step result data with full context"
          },
          "pipeline_state": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/PipelineState"
              },
              {
                "type": "null"
              }
            ],
            "description": "Current pipeline state with all thoughts"
          },
          "processing_time_ms": {
            "type": "number",
            "title": "Processing Time Ms",
            "description": "Total processing time for this step in milliseconds",
            "default": 0.0
          },
          "tokens_used": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tokens Used",
            "description": "LLM tokens consumed during this step"
          },
          "transparency_data": {
            "anyOf": [
              {
                "additionalProperties": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "items": {},
                      "type": "array"
                    },
                    {
                      "additionalProperties": true,
                      "type": "object"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Transparency Data",
            "description": "Detailed reasoning and system state data for transparency"
          }
        },
        "type": "object",
        "required": [
          "success",
          "message",
          "processor_state"
        ],
        "title": "SingleStepResponse",
        "description": "Response for single-step operations with detailed step point data.\n\nExtends the basic RuntimeControlResponse with comprehensive step point information,\npipeline state, and demo-ready data for transparent AI operation visibility.",
        "example": {
          "cognitive_state": "WORK",
          "demo_data": {
            "category": "ethical_reasoning",
            "key_insights": {
              "dmas_executed": [
                "ethical",
                "common_sense",
                "domain"
              ],
              "ethical_confidence": 0.85
            },
            "step_description": "Multi-perspective DMA analysis"
          },
          "message": "Single step completed: Processed PERFORM_DMAS for thought_001",
          "pipeline_state": {
            "current_round": 5,
            "is_paused": true,
            "thoughts_by_step": {
              "BUILD_CONTEXT": [],
              "PERFORM_DMAS": []
            }
          },
          "processing_time_ms": 1250.0,
          "processor_state": "paused",
          "queue_depth": 3,
          "step_point": "PERFORM_DMAS",
          "step_result": {
            "common_sense_dma": {
              "confidence_level": 0.9,
              "reasoning": "Applied common sense principles"
            },
            "domain_dma": {
              "confidence_level": 0.8,
              "reasoning": "Domain expertise applied"
            },
            "ethical_dma": {
              "confidence_level": 0.85,
              "reasoning": "Analyzed ethical implications"
            },
            "step_point": "PERFORM_DMAS",
            "thought_id": "thought_001"
          },
          "success": true,
          "tokens_used": 150
        }
      },
      "SpeakParams": {
        "properties": {
          "channel_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel Id",
            "description": "Channel ID to send message to"
          },
          "channel_context": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ChannelContext"
              },
              {
                "type": "null"
              }
            ]
          },
          "content": {
            "type": "string",
            "title": "Content"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "content"
        ],
        "title": "SpeakParams",
        "description": "Parameters for SPEAK action."
      },
      "StandardResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether the request was successful"
          },
          "data": {
            "anyOf": [
              {},
              {
                "type": "null"
              }
            ],
            "title": "Data",
            "description": "Response data"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message",
            "description": "Human-readable message"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error",
            "description": "Error message if success is False"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "items": {},
                      "type": "array"
                    },
                    {
                      "additionalProperties": true,
                      "type": "object"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Additional metadata"
          }
        },
        "type": "object",
        "required": [
          "success"
        ],
        "title": "StandardResponse",
        "description": "Standard API response format."
      },
      "StateTransitionRequest": {
        "properties": {
          "target_state": {
            "type": "string",
            "title": "Target State",
            "description": "Target cognitive state (WORK, DREAM, PLAY, SOLITUDE)"
          },
          "reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason",
            "description": "Reason for the transition"
          }
        },
        "type": "object",
        "required": [
          "target_state"
        ],
        "title": "StateTransitionRequest",
        "description": "Request to transition cognitive state."
      },
      "StateTransitionResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether transition was initiated"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable status message"
          },
          "previous_state": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Previous State",
            "description": "State before transition"
          },
          "current_state": {
            "type": "string",
            "title": "Current State",
            "description": "Current cognitive state after transition attempt"
          }
        },
        "type": "object",
        "required": [
          "success",
          "message",
          "current_state"
        ],
        "title": "StateTransitionResponse",
        "description": "Response to cognitive state transition request."
      },
      "StepExecutionRequest": {
        "properties": {
          "step_data": {
            "additionalProperties": true,
            "type": "object",
            "title": "Step Data",
            "description": "Data for step execution"
          }
        },
        "type": "object",
        "title": "StepExecutionRequest",
        "description": "Request to execute a configuration step."
      },
      "StepExecutionResponse": {
        "properties": {
          "step_id": {
            "type": "string",
            "title": "Step Id",
            "description": "ID of the executed step"
          },
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether step execution succeeded"
          },
          "data": {
            "additionalProperties": true,
            "type": "object",
            "title": "Data",
            "description": "Data returned by the step"
          },
          "next_step_index": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Step Index",
            "description": "Index of next step to execute"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error",
            "description": "Error message if execution failed"
          },
          "awaiting_callback": {
            "type": "boolean",
            "title": "Awaiting Callback",
            "description": "Whether step is waiting for external callback",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "step_id",
          "success"
        ],
        "title": "StepExecutionResponse",
        "description": "Response from executing a configuration step."
      },
      "StepPoint": {
        "type": "string",
        "enum": [
          "start_round",
          "gather_context",
          "perform_dmas",
          "perform_aspdma",
          "conscience_execution",
          "recursive_aspdma",
          "recursive_conscience",
          "finalize_action",
          "perform_action",
          "action_complete",
          "round_complete"
        ],
        "title": "StepPoint",
        "description": "Points where single-stepping can pause in the H3ERE pipeline."
      },
      "StoreRequest": {
        "properties": {
          "node": {
            "$ref": "#/components/schemas/GraphNode",
            "description": "Typed graph node to store"
          }
        },
        "type": "object",
        "required": [
          "node"
        ],
        "title": "StoreRequest",
        "description": "Request to store typed nodes in memory (MEMORIZE)."
      },
      "StreamMetadata": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Display name"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Stream description"
          },
          "duration_days": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Duration Days",
            "description": "Duration in days (None = indefinite)"
          },
          "auto_forget": {
            "type": "boolean",
            "title": "Auto Forget",
            "description": "Whether stream auto-forgets",
            "default": false
          },
          "learning_enabled": {
            "type": "boolean",
            "title": "Learning Enabled",
            "description": "Whether learning is enabled",
            "default": false
          },
          "identity_removed": {
            "type": "boolean",
            "title": "Identity Removed",
            "description": "Whether identity is removed",
            "default": false
          },
          "requires_categories": {
            "type": "boolean",
            "title": "Requires Categories",
            "description": "Whether categories are required",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "name",
          "description"
        ],
        "title": "StreamMetadata",
        "description": "Metadata for a consent stream."
      },
      "SuccessResponse": {
        "properties": {
          "data": {
            "title": "Data",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse",
        "description": "Standard success response wrapper."
      },
      "SuccessResponse_AdapterListResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/AdapterListResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[AdapterListResponse]"
      },
      "SuccessResponse_AdapterOperationResult_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/AdapterOperationResult",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[AdapterOperationResult]"
      },
      "SuccessResponse_AgentIdentity_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/AgentIdentity",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[AgentIdentity]"
      },
      "SuccessResponse_AgentStatus_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/AgentStatus",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[AgentStatus]"
      },
      "SuccessResponse_AuditEntriesResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/AuditEntriesResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[AuditEntriesResponse]"
      },
      "SuccessResponse_AuditEntryDetailResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/AuditEntryDetailResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[AuditEntryDetailResponse]"
      },
      "SuccessResponse_AuditExportResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/AuditExportResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[AuditExportResponse]"
      },
      "SuccessResponse_ChannelList_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/ChannelList",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[ChannelList]"
      },
      "SuccessResponse_CircuitBreakerResetResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/CircuitBreakerResetResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[CircuitBreakerResetResponse]"
      },
      "SuccessResponse_ConfigItemResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/ConfigItemResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[ConfigItemResponse]"
      },
      "SuccessResponse_ConfigListResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/ConfigListResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[ConfigListResponse]"
      },
      "SuccessResponse_ConfigurableAdaptersResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/ConfigurableAdaptersResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[ConfigurableAdaptersResponse]"
      },
      "SuccessResponse_ConfigurationCompleteResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/ConfigurationCompleteResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[ConfigurationCompleteResponse]"
      },
      "SuccessResponse_ConfigurationSessionResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/ConfigurationSessionResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[ConfigurationSessionResponse]"
      },
      "SuccessResponse_ConfigurationStatusResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/ConfigurationStatusResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[ConfigurationStatusResponse]"
      },
      "SuccessResponse_ConversationHistory_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/ConversationHistory",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[ConversationHistory]"
      },
      "SuccessResponse_DeferralListResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/DeferralListResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[DeferralListResponse]"
      },
      "SuccessResponse_DetailedMetric_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/DetailedMetric",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[DetailedMetric]"
      },
      "SuccessResponse_Dict_str__Any__": {
        "properties": {
          "data": {
            "additionalProperties": true,
            "type": "object",
            "title": "Data",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[Dict[str, Any]]"
      },
      "SuccessResponse_Dict_str__str__": {
        "properties": {
          "data": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Data",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[Dict[str, str]]"
      },
      "SuccessResponse_EmergencyShutdownStatus_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/EmergencyShutdownStatus",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[EmergencyShutdownStatus]"
      },
      "SuccessResponse_GraphNode_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/GraphNode",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[GraphNode]"
      },
      "SuccessResponse_InteractResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/InteractResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[InteractResponse]"
      },
      "SuccessResponse_LLMValidationResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/LLMValidationResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[LLMValidationResponse]"
      },
      "SuccessResponse_List_AdapterConfig__": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/AdapterConfig"
            },
            "type": "array",
            "title": "Data",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[List[AdapterConfig]]"
      },
      "SuccessResponse_List_AgentTemplate__": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/AgentTemplate"
            },
            "type": "array",
            "title": "Data",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[List[AgentTemplate]]"
      },
      "SuccessResponse_List_GraphEdge__": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/GraphEdge"
            },
            "type": "array",
            "title": "Data",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[List[GraphEdge]]"
      },
      "SuccessResponse_List_GraphNode__": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/GraphNode"
            },
            "type": "array",
            "title": "Data",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[List[GraphNode]]"
      },
      "SuccessResponse_List_LLMProvider__": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/LLMProvider"
            },
            "type": "array",
            "title": "Data",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[List[LLMProvider]]"
      },
      "SuccessResponse_List_ProcessorStateInfo__": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/ProcessorStateInfo"
            },
            "type": "array",
            "title": "Data",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[List[ProcessorStateInfo]]"
      },
      "SuccessResponse_LogsResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/LogsResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[LogsResponse]"
      },
      "SuccessResponse_MemoryOpResult_GraphNode__": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/MemoryOpResult_GraphNode_",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[MemoryOpResult[GraphNode]]"
      },
      "SuccessResponse_MemoryStats_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/MemoryStats",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[MemoryStats]"
      },
      "SuccessResponse_MessageSubmissionResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/MessageSubmissionResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[MessageSubmissionResponse]"
      },
      "SuccessResponse_MetricsResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/MetricsResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[MetricsResponse]"
      },
      "SuccessResponse_ModuleTypesResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/ModuleTypesResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[ModuleTypesResponse]"
      },
      "SuccessResponse_PermissionsListResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/PermissionsListResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[PermissionsListResponse]"
      },
      "SuccessResponse_PersistedConfigsResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/PersistedConfigsResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[PersistedConfigsResponse]"
      },
      "SuccessResponse_ProcessorQueueStatus_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/ProcessorQueueStatus",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[ProcessorQueueStatus]"
      },
      "SuccessResponse_QueryResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/QueryResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[QueryResponse]"
      },
      "SuccessResponse_RemovePersistedResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/RemovePersistedResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[RemovePersistedResponse]"
      },
      "SuccessResponse_ResolveDeferralResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/ResolveDeferralResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[ResolveDeferralResponse]"
      },
      "SuccessResponse_ResourceTelemetryResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/ResourceTelemetryResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[ResourceTelemetryResponse]"
      },
      "SuccessResponse_ResourceUsageResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/ResourceUsageResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[ResourceUsageResponse]"
      },
      "SuccessResponse_RuntimeAdapterStatus_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/RuntimeAdapterStatus",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[RuntimeAdapterStatus]"
      },
      "SuccessResponse_RuntimeControlResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/RuntimeControlResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[RuntimeControlResponse]"
      },
      "SuccessResponse_ServiceHealthStatus_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/ServiceHealthStatus",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[ServiceHealthStatus]"
      },
      "SuccessResponse_ServicePriorityUpdateResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/ServicePriorityUpdateResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[ServicePriorityUpdateResponse]"
      },
      "SuccessResponse_ServiceSelectionExplanation_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/ServiceSelectionExplanation",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[ServiceSelectionExplanation]"
      },
      "SuccessResponse_ServicesStatusResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/ServicesStatusResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[ServicesStatusResponse]"
      },
      "SuccessResponse_SetupConfigResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/SetupConfigResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[SetupConfigResponse]"
      },
      "SuccessResponse_SetupStatusResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/SetupStatusResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[SetupStatusResponse]"
      },
      "SuccessResponse_ShutdownResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/ShutdownResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[ShutdownResponse]"
      },
      "SuccessResponse_SingleStepResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/SingleStepResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[SingleStepResponse]"
      },
      "SuccessResponse_StateTransitionResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/StateTransitionResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[StateTransitionResponse]"
      },
      "SuccessResponse_StepExecutionResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/StepExecutionResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[StepExecutionResponse]"
      },
      "SuccessResponse_SystemHealthResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/SystemHealthResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[SystemHealthResponse]"
      },
      "SuccessResponse_SystemOverview_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/SystemOverview",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[SystemOverview]"
      },
      "SuccessResponse_SystemTimeResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/SystemTimeResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[SystemTimeResponse]"
      },
      "SuccessResponse_TimelineResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/TimelineResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[TimelineResponse]"
      },
      "SuccessResponse_TracesResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/TracesResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[TracesResponse]"
      },
      "SuccessResponse_VerificationReport_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/VerificationReport",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[VerificationReport]"
      },
      "SuccessResponse_WAGuidanceResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/WAGuidanceResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[WAGuidanceResponse]"
      },
      "SuccessResponse_WAStatusResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/WAStatusResponse",
            "description": "Response data"
          },
          "metadata": {
            "$ref": "#/components/schemas/ResponseMetadata"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SuccessResponse[WAStatusResponse]"
      },
      "SystemHealthResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Overall health status (healthy/degraded/critical)"
          },
          "version": {
            "type": "string",
            "title": "Version",
            "description": "System version"
          },
          "uptime_seconds": {
            "type": "number",
            "title": "Uptime Seconds",
            "description": "System uptime in seconds"
          },
          "services": {
            "additionalProperties": {
              "additionalProperties": {
                "type": "integer"
              },
              "type": "object"
            },
            "type": "object",
            "title": "Services",
            "description": "Service health summary"
          },
          "initialization_complete": {
            "type": "boolean",
            "title": "Initialization Complete",
            "description": "Whether system initialization is complete"
          },
          "cognitive_state": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cognitive State",
            "description": "Current cognitive state if available"
          },
          "timestamp": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Timestamp",
            "description": "Current server time"
          }
        },
        "type": "object",
        "required": [
          "status",
          "version",
          "uptime_seconds",
          "services",
          "initialization_complete",
          "timestamp"
        ],
        "title": "SystemHealthResponse",
        "description": "Overall system health status."
      },
      "SystemOverview": {
        "properties": {
          "uptime_seconds": {
            "type": "number",
            "title": "Uptime Seconds",
            "description": "System uptime"
          },
          "cognitive_state": {
            "type": "string",
            "title": "Cognitive State",
            "description": "Current cognitive state"
          },
          "messages_processed_24h": {
            "type": "integer",
            "title": "Messages Processed 24H",
            "description": "Messages in last 24 hours",
            "default": 0
          },
          "thoughts_processed_24h": {
            "type": "integer",
            "title": "Thoughts Processed 24H",
            "description": "Thoughts in last 24 hours",
            "default": 0
          },
          "tasks_completed_24h": {
            "type": "integer",
            "title": "Tasks Completed 24H",
            "description": "Tasks completed in last 24 hours",
            "default": 0
          },
          "errors_24h": {
            "type": "integer",
            "title": "Errors 24H",
            "description": "Errors in last 24 hours",
            "default": 0
          },
          "tokens_last_hour": {
            "type": "number",
            "title": "Tokens Last Hour",
            "description": "Total tokens in last hour",
            "default": 0.0
          },
          "cost_last_hour_cents": {
            "type": "number",
            "title": "Cost Last Hour Cents",
            "description": "Total cost in last hour (cents)",
            "default": 0.0
          },
          "carbon_last_hour_grams": {
            "type": "number",
            "title": "Carbon Last Hour Grams",
            "description": "Total carbon in last hour (grams)",
            "default": 0.0
          },
          "energy_last_hour_kwh": {
            "type": "number",
            "title": "Energy Last Hour Kwh",
            "description": "Total energy in last hour (kWh)",
            "default": 0.0
          },
          "tokens_24h": {
            "type": "number",
            "title": "Tokens 24H",
            "description": "Total tokens in last 24 hours",
            "default": 0.0
          },
          "cost_24h_cents": {
            "type": "number",
            "title": "Cost 24H Cents",
            "description": "Total cost in last 24 hours (cents)",
            "default": 0.0
          },
          "carbon_24h_grams": {
            "type": "number",
            "title": "Carbon 24H Grams",
            "description": "Total carbon in last 24 hours (grams)",
            "default": 0.0
          },
          "energy_24h_kwh": {
            "type": "number",
            "title": "Energy 24H Kwh",
            "description": "Total energy in last 24 hours (kWh)",
            "default": 0.0
          },
          "memory_mb": {
            "type": "number",
            "title": "Memory Mb",
            "description": "Current memory usage",
            "default": 0.0
          },
          "cpu_percent": {
            "type": "number",
            "title": "Cpu Percent",
            "description": "Current CPU usage",
            "default": 0.0
          },
          "healthy_services": {
            "type": "integer",
            "title": "Healthy Services",
            "description": "Number of healthy services",
            "default": 0
          },
          "degraded_services": {
            "type": "integer",
            "title": "Degraded Services",
            "description": "Number of degraded services",
            "default": 0
          },
          "error_rate_percent": {
            "type": "number",
            "title": "Error Rate Percent",
            "description": "System error rate",
            "default": 0.0
          },
          "current_task": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Task",
            "description": "Current task description"
          },
          "reasoning_depth": {
            "type": "integer",
            "title": "Reasoning Depth",
            "description": "Current reasoning depth",
            "default": 0
          },
          "active_deferrals": {
            "type": "integer",
            "title": "Active Deferrals",
            "description": "Pending WA deferrals",
            "default": 0
          },
          "recent_incidents": {
            "type": "integer",
            "title": "Recent Incidents",
            "description": "Incidents in last hour",
            "default": 0
          },
          "total_metrics": {
            "type": "integer",
            "title": "Total Metrics",
            "description": "Total metrics collected",
            "default": 0
          },
          "active_services": {
            "type": "integer",
            "title": "Active Services",
            "description": "Number of active services reporting telemetry",
            "default": 0
          },
          "metrics_per_second": {
            "type": "number",
            "title": "Metrics Per Second",
            "description": "Current metric ingestion rate",
            "default": 0.0
          },
          "cache_hit_rate": {
            "type": "number",
            "title": "Cache Hit Rate",
            "description": "Telemetry cache hit rate",
            "default": 0.0
          }
        },
        "type": "object",
        "required": [
          "uptime_seconds",
          "cognitive_state"
        ],
        "title": "SystemOverview",
        "description": "System overview combining all observability data."
      },
      "SystemTimeResponse": {
        "properties": {
          "system_time": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "System Time",
            "description": "Host system time (OS time)"
          },
          "agent_time": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Agent Time",
            "description": "Agent's TimeService time"
          },
          "uptime_seconds": {
            "type": "number",
            "title": "Uptime Seconds",
            "description": "Service uptime in seconds"
          },
          "time_sync": {
            "$ref": "#/components/schemas/TimeSyncStatus",
            "description": "Time synchronization status"
          }
        },
        "type": "object",
        "required": [
          "system_time",
          "agent_time",
          "uptime_seconds",
          "time_sync"
        ],
        "title": "SystemTimeResponse",
        "description": "System and agent time information."
      },
      "TaskCompleteParams": {
        "properties": {
          "channel_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel Id",
            "description": "Channel ID for context"
          },
          "completion_reason": {
            "type": "string",
            "title": "Completion Reason",
            "default": "Task completed successfully"
          },
          "context": {
            "anyOf": [
              {
                "additionalProperties": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "items": {
                        "type": "string"
                      },
                      "type": "array"
                    }
                  ]
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context"
          },
          "positive_moment": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Positive Moment",
            "description": "Optional note about positive vibes/joy from this task"
          },
          "persist_images": {
            "type": "boolean",
            "title": "Persist Images",
            "description": "If True, preserve task images after completion. Default False purges images for privacy/storage.",
            "default": false
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "TaskCompleteParams",
        "description": "Parameters for TASK_COMPLETE action."
      },
      "TelemetryNodeAttributes": {
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "When this node was created"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "When this node was last updated"
          },
          "created_by": {
            "type": "string",
            "title": "Created By",
            "description": "Service or user that created this node"
          },
          "updated_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated By",
            "description": "Service or user that last updated this node"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags",
            "description": "Tags for categorization and search"
          },
          "version": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Version",
            "description": "Schema version for migration support",
            "default": 1
          },
          "secret_refs": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Secret Refs",
            "description": "Secret reference UUIDs for encrypted data"
          },
          "metric_name": {
            "type": "string",
            "title": "Metric Name",
            "description": "Name of the metric"
          },
          "metric_type": {
            "type": "string",
            "title": "Metric Type",
            "description": "Type: counter, gauge, histogram, summary"
          },
          "value": {
            "type": "number",
            "title": "Value",
            "description": "Numeric value of the metric"
          },
          "unit": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Unit",
            "description": "Unit of measurement"
          },
          "start_time": {
            "type": "string",
            "format": "date-time",
            "title": "Start Time",
            "description": "Start of measurement period"
          },
          "end_time": {
            "type": "string",
            "format": "date-time",
            "title": "End Time",
            "description": "End of measurement period"
          },
          "duration_seconds": {
            "type": "number",
            "minimum": 0.0,
            "title": "Duration Seconds",
            "description": "Duration of measurement period"
          },
          "aggregation_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Aggregation Type",
            "description": "How this was aggregated: sum, avg, max, min, p50, p95, p99"
          },
          "sample_count": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Sample Count",
            "description": "Number of samples in this metric",
            "default": 1
          },
          "min_value": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Min Value",
            "description": "Minimum observed value"
          },
          "max_value": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Max Value",
            "description": "Maximum observed value"
          },
          "mean_value": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mean Value",
            "description": "Mean/average value"
          },
          "std_deviation": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Std Deviation",
            "description": "Standard deviation"
          },
          "percentiles": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Percentiles",
            "description": "Percentile values (e.g., p50, p95, p99)"
          },
          "labels": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Labels",
            "description": "Metric labels for filtering and grouping"
          },
          "service_name": {
            "type": "string",
            "title": "Service Name",
            "description": "Service that generated this metric"
          },
          "host": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Host",
            "description": "Host/instance that generated this"
          },
          "warning_threshold": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Warning Threshold",
            "description": "Warning threshold value"
          },
          "critical_threshold": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Critical Threshold",
            "description": "Critical threshold value"
          },
          "threshold_direction": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Threshold Direction",
            "description": "Threshold direction: above, below"
          },
          "resource_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Resource Type",
            "description": "Resource type: cpu, memory, disk, network, tokens"
          },
          "resource_limit": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Resource Limit",
            "description": "Resource limit if applicable"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "created_by",
          "metric_name",
          "metric_type",
          "value",
          "start_time",
          "end_time",
          "duration_seconds",
          "service_name"
        ],
        "title": "TelemetryNodeAttributes",
        "description": "Specific attributes for telemetry nodes.\n\nUsed by the telemetry service for storing metrics, performance data, and system observations."
      },
      "TelemetryQuery": {
        "properties": {
          "query_type": {
            "type": "string",
            "title": "Query Type",
            "description": "Query type: metrics|traces|logs|incidents|insights"
          },
          "filters": {
            "$ref": "#/components/schemas/TelemetryQueryFilters",
            "description": "Query filters"
          },
          "aggregations": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Aggregations",
            "description": "Aggregations to apply"
          },
          "start_time": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Start Time",
            "description": "Query start time"
          },
          "end_time": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "End Time",
            "description": "Query end time"
          },
          "limit": {
            "type": "integer",
            "maximum": 1000.0,
            "minimum": 1.0,
            "title": "Limit",
            "description": "Result limit",
            "default": 100
          }
        },
        "type": "object",
        "required": [
          "query_type"
        ],
        "title": "TelemetryQuery",
        "description": "Custom telemetry query."
      },
      "TelemetryQueryFilters": {
        "properties": {
          "metric_names": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metric Names",
            "description": "Metrics to query"
          },
          "metrics": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metrics",
            "description": "Metrics to query (alias)"
          },
          "services": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Services",
            "description": "Services to include"
          },
          "tags": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "string"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags",
            "description": "Tag filters"
          },
          "severity": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Severity",
            "description": "Log severity filter"
          },
          "status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status",
            "description": "Status filter for incidents"
          },
          "category": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Category",
            "description": "Category filter"
          },
          "aggregation": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Aggregation",
            "description": "Aggregation method"
          },
          "limit": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Limit",
            "description": "Result limit override"
          }
        },
        "type": "object",
        "title": "TelemetryQueryFilters",
        "description": "Telemetry query filters."
      },
      "ThoughtInPipeline": {
        "properties": {
          "thought_id": {
            "type": "string",
            "title": "Thought Id",
            "description": "Unique thought ID"
          },
          "task_id": {
            "type": "string",
            "title": "Task Id",
            "description": "Source task ID"
          },
          "thought_type": {
            "type": "string",
            "title": "Thought Type",
            "description": "Type of thought"
          },
          "current_step": {
            "$ref": "#/components/schemas/StepPoint",
            "description": "Current step point in pipeline"
          },
          "last_completed_step": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/StepPoint"
              },
              {
                "type": "null"
              }
            ],
            "description": "Last completed step point"
          },
          "entered_step_at": {
            "type": "string",
            "format": "date-time",
            "title": "Entered Step At",
            "description": "When thought entered current step"
          },
          "processing_time_ms": {
            "type": "number",
            "title": "Processing Time Ms",
            "description": "Total processing time so far",
            "default": 0.0
          },
          "context_built": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/DMAContext"
              },
              {
                "type": "null"
              }
            ],
            "description": "Context built for DMAs"
          },
          "ethical_dma": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/EthicalDMAResult"
              },
              {
                "type": "null"
              }
            ],
            "description": "Ethical DMA result"
          },
          "common_sense_dma": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CSDMAResult"
              },
              {
                "type": "null"
              }
            ],
            "description": "Common sense DMA result"
          },
          "domain_dma": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/DSDMAResult"
              },
              {
                "type": "null"
              }
            ],
            "description": "Domain DMA result"
          },
          "aspdma_result": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ActionSelectionDMAResult"
              },
              {
                "type": "null"
              }
            ],
            "description": "ASPDMA result"
          },
          "conscience_results": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/ConscienceResult"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Conscience Results",
            "description": "Conscience evaluations"
          },
          "selected_action": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Selected Action",
            "description": "Final selected action"
          },
          "handler_result": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/HandlerResult"
              },
              {
                "type": "null"
              }
            ],
            "description": "Handler execution result"
          },
          "bus_operations": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bus Operations",
            "description": "Bus operations performed"
          },
          "is_recursive": {
            "type": "boolean",
            "title": "Is Recursive",
            "description": "Whether in recursive ASPDMA",
            "default": false
          },
          "recursion_count": {
            "type": "integer",
            "title": "Recursion Count",
            "description": "Number of ASPDMA recursions",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "thought_id",
          "task_id",
          "thought_type",
          "current_step",
          "entered_step_at"
        ],
        "title": "ThoughtInPipeline",
        "description": "Tracks a thought's position in the processing pipeline."
      },
      "TicketResponse": {
        "properties": {
          "ticket_id": {
            "type": "string",
            "title": "Ticket Id"
          },
          "sop": {
            "type": "string",
            "title": "Sop"
          },
          "ticket_type": {
            "type": "string",
            "title": "Ticket Type"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "priority": {
            "type": "integer",
            "title": "Priority"
          },
          "email": {
            "type": "string",
            "title": "Email"
          },
          "user_identifier": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Identifier"
          },
          "submitted_at": {
            "type": "string",
            "title": "Submitted At"
          },
          "deadline": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deadline"
          },
          "last_updated": {
            "type": "string",
            "title": "Last Updated"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At"
          },
          "metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          },
          "automated": {
            "type": "boolean",
            "title": "Automated"
          },
          "correlation_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Correlation Id"
          },
          "agent_occurrence_id": {
            "type": "string",
            "title": "Agent Occurrence Id"
          }
        },
        "type": "object",
        "required": [
          "ticket_id",
          "sop",
          "ticket_type",
          "status",
          "priority",
          "email",
          "user_identifier",
          "submitted_at",
          "deadline",
          "last_updated",
          "completed_at",
          "metadata",
          "notes",
          "automated",
          "correlation_id",
          "agent_occurrence_id"
        ],
        "title": "TicketResponse",
        "description": "Response containing ticket data."
      },
      "TimeSyncStatus": {
        "properties": {
          "synchronized": {
            "type": "boolean",
            "title": "Synchronized",
            "description": "Whether time is synchronized"
          },
          "drift_ms": {
            "type": "number",
            "title": "Drift Ms",
            "description": "Time drift in milliseconds"
          },
          "last_sync": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Sync",
            "description": "Last sync timestamp"
          },
          "sync_source": {
            "type": "string",
            "title": "Sync Source",
            "description": "Sync source (system/mock/ntp)"
          }
        },
        "type": "object",
        "required": [
          "synchronized",
          "drift_ms",
          "last_sync",
          "sync_source"
        ],
        "title": "TimeSyncStatus",
        "description": "Time synchronization status."
      },
      "TimelineResponse": {
        "properties": {
          "memories": {
            "items": {
              "$ref": "#/components/schemas/GraphNode"
            },
            "type": "array",
            "title": "Memories",
            "description": "List of memory nodes"
          },
          "buckets": {
            "additionalProperties": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                },
                {
                  "type": "number"
                },
                {
                  "type": "boolean"
                },
                {
                  "items": {},
                  "type": "array"
                },
                {
                  "additionalProperties": true,
                  "type": "object"
                },
                {
                  "type": "null"
                }
              ]
            },
            "type": "object",
            "title": "Buckets",
            "description": "Time buckets with counts"
          },
          "start_time": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Start Time",
            "description": "Start of time range"
          },
          "end_time": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "End Time",
            "description": "End of time range"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of memories"
          }
        },
        "type": "object",
        "required": [
          "memories",
          "start_time",
          "end_time",
          "total"
        ],
        "title": "TimelineResponse",
        "description": "Response containing timeline of memories."
      },
      "TokenRefreshRequest": {
        "properties": {
          "refresh_token": {
            "type": "string",
            "title": "Refresh Token",
            "description": "Refresh token"
          }
        },
        "type": "object",
        "required": [
          "refresh_token"
        ],
        "title": "TokenRefreshRequest",
        "description": "Request to refresh access token."
      },
      "ToolBalanceResponse": {
        "properties": {
          "product_type": {
            "type": "string",
            "title": "Product Type",
            "description": "Tool product type (e.g., 'web_search')"
          },
          "free_remaining": {
            "type": "integer",
            "title": "Free Remaining",
            "description": "Remaining free uses"
          },
          "paid_credits": {
            "type": "integer",
            "title": "Paid Credits",
            "description": "Paid credits available"
          },
          "total_available": {
            "type": "integer",
            "title": "Total Available",
            "description": "Total available uses (free + paid)"
          },
          "price_minor": {
            "type": "integer",
            "title": "Price Minor",
            "description": "Price per credit in minor units (cents)"
          },
          "total_uses": {
            "type": "integer",
            "title": "Total Uses",
            "description": "Total lifetime uses"
          }
        },
        "type": "object",
        "required": [
          "product_type",
          "free_remaining",
          "paid_credits",
          "total_available",
          "price_minor",
          "total_uses"
        ],
        "title": "ToolBalanceResponse",
        "description": "Balance information for a specific tool."
      },
      "ToolCreditCheckResponse": {
        "properties": {
          "has_credit": {
            "type": "boolean",
            "title": "Has Credit",
            "description": "Whether user has credit for this tool"
          },
          "product_type": {
            "type": "string",
            "title": "Product Type",
            "description": "Tool product type"
          },
          "free_remaining": {
            "type": "integer",
            "title": "Free Remaining",
            "description": "Remaining free uses"
          },
          "paid_credits": {
            "type": "integer",
            "title": "Paid Credits",
            "description": "Paid credits available"
          },
          "total_available": {
            "type": "integer",
            "title": "Total Available",
            "description": "Total available uses"
          }
        },
        "type": "object",
        "required": [
          "has_credit",
          "product_type",
          "free_remaining",
          "paid_credits",
          "total_available"
        ],
        "title": "ToolCreditCheckResponse",
        "description": "Quick credit check for a tool."
      },
      "ToolDMAGuidance": {
        "properties": {
          "when_not_to_use": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "When Not To Use",
            "description": "Conditions when this tool should NOT be used"
          },
          "ethical_considerations": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ethical Considerations",
            "description": "Ethical considerations for using this tool"
          },
          "prerequisite_actions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Prerequisite Actions",
            "description": "Actions that should be taken before this tool"
          },
          "followup_actions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Followup Actions",
            "description": "Actions to consider after this tool completes"
          },
          "min_confidence": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Min Confidence",
            "description": "Minimum confidence score to use this tool",
            "default": 0.0
          },
          "requires_approval": {
            "type": "boolean",
            "title": "Requires Approval",
            "description": "Whether this tool requires wise authority approval",
            "default": false
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "ToolDMAGuidance",
        "description": "Guidance for the Decision-Making Architecture when selecting this tool."
      },
      "ToolDocumentation": {
        "properties": {
          "quick_start": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Quick Start",
            "description": "TL;DR quick start guide"
          },
          "detailed_instructions": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Detailed Instructions",
            "description": "Full markdown documentation"
          },
          "examples": {
            "items": {
              "$ref": "#/components/schemas/UsageExample"
            },
            "type": "array",
            "title": "Examples",
            "description": "Usage examples"
          },
          "gotchas": {
            "items": {
              "$ref": "#/components/schemas/ToolGotcha"
            },
            "type": "array",
            "title": "Gotchas",
            "description": "Common pitfalls"
          },
          "related_tools": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Related Tools",
            "description": "Names of related tools"
          },
          "homepage": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Homepage",
            "description": "Tool homepage URL"
          },
          "docs_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Docs Url",
            "description": "Documentation URL"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "ToolDocumentation",
        "description": "Rich documentation for a tool."
      },
      "ToolGotcha": {
        "properties": {
          "title": {
            "type": "string",
            "title": "Title",
            "description": "Short gotcha title"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Detailed explanation of the pitfall"
          },
          "severity": {
            "type": "string",
            "title": "Severity",
            "description": "Severity: info, warning, error",
            "default": "warning"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "title",
          "description"
        ],
        "title": "ToolGotcha",
        "description": "A common pitfall or gotcha when using a tool."
      },
      "ToolInfo": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Tool name"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "What the tool does"
          },
          "parameters": {
            "$ref": "#/components/schemas/ToolParameterSchema",
            "description": "Tool parameters schema"
          },
          "category": {
            "type": "string",
            "title": "Category",
            "description": "Tool category",
            "default": "general"
          },
          "cost": {
            "type": "number",
            "title": "Cost",
            "description": "Cost to execute the tool",
            "default": 0.0
          },
          "when_to_use": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "When To Use",
            "description": "Guidance on when to use the tool"
          },
          "context_enrichment": {
            "type": "boolean",
            "title": "Context Enrichment",
            "description": "If True, tool is automatically run during context gathering to enrich ASPDMA prompt",
            "default": false
          },
          "context_enrichment_params": {
            "anyOf": [
              {
                "additionalProperties": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "items": {},
                      "type": "array"
                    },
                    {
                      "additionalProperties": true,
                      "type": "object"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context Enrichment Params",
            "description": "Default parameters when running as context enrichment (e.g., {'domain': 'light'})"
          },
          "platform_requirements": {
            "items": {
              "$ref": "#/components/schemas/PlatformRequirement"
            },
            "type": "array",
            "title": "Platform Requirements",
            "description": "Platform security requirements (e.g., ANDROID_PLAY_INTEGRITY, DPOP)"
          },
          "platform_requirements_rationale": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platform Requirements Rationale",
            "description": "Why these requirements exist (shown if requirements not met)"
          },
          "requirements": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ToolRequirements"
              },
              {
                "type": "null"
              }
            ],
            "description": "Runtime requirements (binaries, env vars, config keys)"
          },
          "install_steps": {
            "items": {
              "$ref": "#/components/schemas/InstallStep"
            },
            "type": "array",
            "title": "Install Steps",
            "description": "Installation steps for tool dependencies"
          },
          "documentation": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ToolDocumentation"
              },
              {
                "type": "null"
              }
            ],
            "description": "Rich documentation (quick start, examples, gotchas)"
          },
          "dma_guidance": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ToolDMAGuidance"
              },
              {
                "type": "null"
              }
            ],
            "description": "Guidance for DMA tool selection decisions"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags",
            "description": "Categorization tags for discovery (e.g., 'weather', 'api')"
          },
          "version": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Version",
            "description": "Tool version string"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "name",
          "description",
          "parameters"
        ],
        "title": "ToolInfo",
        "description": "Information about a tool provided by an adapter."
      },
      "ToolInfoResponse": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Tool name"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Tool description"
          },
          "cost": {
            "type": "number",
            "title": "Cost",
            "description": "Cost per use in credits"
          },
          "available": {
            "type": "boolean",
            "title": "Available",
            "description": "Whether tool is available on this platform"
          },
          "platform_requirements": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Platform Requirements",
            "description": "Platform requirements for this tool"
          }
        },
        "type": "object",
        "required": [
          "name",
          "description",
          "cost",
          "available"
        ],
        "title": "ToolInfoResponse",
        "description": "Information about an available tool."
      },
      "ToolParameterSchema": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type",
            "description": "JSON Schema type"
          },
          "properties": {
            "additionalProperties": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                },
                {
                  "type": "number"
                },
                {
                  "type": "boolean"
                },
                {
                  "items": {},
                  "type": "array"
                },
                {
                  "additionalProperties": true,
                  "type": "object"
                },
                {
                  "type": "null"
                }
              ]
            },
            "type": "object",
            "title": "Properties",
            "description": "Parameter properties"
          },
          "required": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Required",
            "description": "Required parameters"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "type",
          "properties"
        ],
        "title": "ToolParameterSchema",
        "description": "Schema definition for tool parameters."
      },
      "ToolParams": {
        "properties": {
          "channel_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel Id",
            "description": "Channel ID for tool context"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "parameters": {
            "additionalProperties": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                },
                {
                  "type": "number"
                },
                {
                  "type": "boolean"
                },
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object"
                }
              ]
            },
            "type": "object",
            "title": "Parameters"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "name"
        ],
        "title": "ToolParams",
        "description": "Parameters for TOOL action."
      },
      "ToolPurchaseRequest": {
        "properties": {
          "product_id": {
            "type": "string",
            "title": "Product Id",
            "description": "Google Play product ID (e.g., 'web_search_10')"
          },
          "purchase_token": {
            "type": "string",
            "title": "Purchase Token",
            "description": "Google Play purchase token"
          },
          "tool_name": {
            "type": "string",
            "title": "Tool Name",
            "description": "Tool to add credits to (e.g., 'web_search')"
          }
        },
        "type": "object",
        "required": [
          "product_id",
          "purchase_token",
          "tool_name"
        ],
        "title": "ToolPurchaseRequest",
        "description": "Request to verify and process a tool credit purchase."
      },
      "ToolPurchaseResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether purchase was verified and processed"
          },
          "product_type": {
            "type": "string",
            "title": "Product Type",
            "description": "Tool product type"
          },
          "credits_added": {
            "type": "integer",
            "title": "Credits Added",
            "description": "Number of credits added"
          },
          "new_balance": {
            "type": "integer",
            "title": "New Balance",
            "description": "New total available credits"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Status message"
          }
        },
        "type": "object",
        "required": [
          "success",
          "product_type",
          "credits_added",
          "new_balance",
          "message"
        ],
        "title": "ToolPurchaseResponse",
        "description": "Response from purchase verification."
      },
      "ToolRequirements": {
        "properties": {
          "binaries": {
            "items": {
              "$ref": "#/components/schemas/BinaryRequirement"
            },
            "type": "array",
            "title": "Binaries",
            "description": "Required CLI binaries (all must be present)"
          },
          "any_binaries": {
            "items": {
              "$ref": "#/components/schemas/BinaryRequirement"
            },
            "type": "array",
            "title": "Any Binaries",
            "description": "Alternative binaries (at least one required)"
          },
          "env_vars": {
            "items": {
              "$ref": "#/components/schemas/EnvVarRequirement"
            },
            "type": "array",
            "title": "Env Vars",
            "description": "Required environment variables"
          },
          "config_keys": {
            "items": {
              "$ref": "#/components/schemas/ConfigRequirement"
            },
            "type": "array",
            "title": "Config Keys",
            "description": "Required CIRIS config keys"
          },
          "platforms": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Platforms",
            "description": "Supported platforms (darwin, linux, win32). Empty = all"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "ToolRequirements",
        "description": "Runtime requirements for a tool to function."
      },
      "TraceComponent": {
        "properties": {
          "component_type": {
            "type": "string",
            "title": "Component Type",
            "description": "Type: observation, context, rationale, conscience, action"
          },
          "event_type": {
            "type": "string",
            "title": "Event Type",
            "description": "Event type: THOUGHT_START, DMA_RESULTS, etc."
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp",
            "description": "ISO timestamp"
          },
          "data": {
            "additionalProperties": true,
            "type": "object",
            "title": "Data",
            "description": "Component data"
          }
        },
        "type": "object",
        "required": [
          "component_type",
          "event_type",
          "timestamp",
          "data"
        ],
        "title": "TraceComponent",
        "description": "A single component of a reasoning trace."
      },
      "TracesListResponse": {
        "properties": {
          "traces": {
            "items": {
              "$ref": "#/components/schemas/CompleteTraceResponse"
            },
            "type": "array",
            "title": "Traces",
            "description": "Captured traces"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total trace count"
          },
          "consent_given": {
            "type": "boolean",
            "title": "Consent Given",
            "description": "Whether metrics consent is active"
          }
        },
        "type": "object",
        "required": [
          "traces",
          "total",
          "consent_given"
        ],
        "title": "TracesListResponse",
        "description": "List of captured traces."
      },
      "TracesResponse": {
        "properties": {
          "traces": {
            "items": {
              "$ref": "#/components/schemas/ReasoningTraceData"
            },
            "type": "array",
            "title": "Traces",
            "description": "Recent reasoning traces"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total trace count"
          },
          "has_more": {
            "type": "boolean",
            "title": "Has More",
            "description": "More traces available",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "traces",
          "total"
        ],
        "title": "TracesResponse",
        "description": "Reasoning traces response."
      },
      "TransactionItem": {
        "properties": {
          "transaction_id": {
            "type": "string",
            "title": "Transaction Id",
            "description": "Unique transaction ID"
          },
          "type": {
            "type": "string",
            "title": "Type",
            "description": "Transaction type: charge or credit"
          },
          "amount_minor": {
            "type": "integer",
            "title": "Amount Minor",
            "description": "Amount in minor units (negative for charges, positive for credits)"
          },
          "currency": {
            "type": "string",
            "title": "Currency",
            "description": "Currency code (USD)"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Transaction description"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "Transaction timestamp (ISO format)"
          },
          "balance_after": {
            "type": "integer",
            "title": "Balance After",
            "description": "Account balance after this transaction"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "items": {},
                      "type": "array"
                    },
                    {
                      "additionalProperties": true,
                      "type": "object"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Additional metadata for charges"
          },
          "transaction_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Transaction Type",
            "description": "Type of credit transaction (purchase, refund, etc)"
          },
          "external_transaction_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "External Transaction Id",
            "description": "External payment ID (e.g., Stripe payment intent)"
          }
        },
        "type": "object",
        "required": [
          "transaction_id",
          "type",
          "amount_minor",
          "currency",
          "description",
          "created_at",
          "balance_after"
        ],
        "title": "TransactionItem",
        "description": "Individual transaction (charge or credit)."
      },
      "TransactionListResponse": {
        "properties": {
          "transactions": {
            "items": {
              "$ref": "#/components/schemas/TransactionItem"
            },
            "type": "array",
            "title": "Transactions",
            "description": "List of transactions"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count",
            "description": "Total number of transactions"
          },
          "has_more": {
            "type": "boolean",
            "title": "Has More",
            "description": "Whether more transactions are available"
          }
        },
        "type": "object",
        "required": [
          "transactions",
          "total_count",
          "has_more"
        ],
        "title": "TransactionListResponse",
        "description": "Transaction history response."
      },
      "TransparencyPolicy": {
        "properties": {
          "version": {
            "type": "string",
            "title": "Version",
            "description": "Policy version"
          },
          "last_updated": {
            "type": "string",
            "format": "date-time",
            "title": "Last Updated",
            "description": "Last update time"
          },
          "retention_days": {
            "type": "integer",
            "title": "Retention Days",
            "description": "Data retention period"
          },
          "commitments": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Commitments",
            "description": "Our transparency commitments"
          },
          "links": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Links",
            "description": "Related policy links"
          }
        },
        "type": "object",
        "required": [
          "version",
          "last_updated",
          "retention_days",
          "commitments",
          "links"
        ],
        "title": "TransparencyPolicy",
        "description": "Transparency policy information."
      },
      "TransparencyStats": {
        "properties": {
          "period_start": {
            "type": "string",
            "format": "date-time",
            "title": "Period Start",
            "description": "Start of reporting period"
          },
          "period_end": {
            "type": "string",
            "format": "date-time",
            "title": "Period End",
            "description": "End of reporting period"
          },
          "total_interactions": {
            "type": "integer",
            "title": "Total Interactions",
            "description": "Total interactions processed"
          },
          "actions_taken": {
            "items": {
              "$ref": "#/components/schemas/ActionCount"
            },
            "type": "array",
            "title": "Actions Taken",
            "description": "Breakdown by action type"
          },
          "deferrals_to_human": {
            "type": "integer",
            "title": "Deferrals To Human",
            "description": "Deferrals to human judgment"
          },
          "deferrals_uncertainty": {
            "type": "integer",
            "title": "Deferrals Uncertainty",
            "description": "Deferrals due to uncertainty"
          },
          "deferrals_ethical": {
            "type": "integer",
            "title": "Deferrals Ethical",
            "description": "Deferrals for ethical review"
          },
          "harmful_requests_blocked": {
            "type": "integer",
            "title": "Harmful Requests Blocked",
            "description": "Harmful requests rejected"
          },
          "rate_limit_triggers": {
            "type": "integer",
            "title": "Rate Limit Triggers",
            "description": "Rate limit activations"
          },
          "emergency_shutdowns": {
            "type": "integer",
            "title": "Emergency Shutdowns",
            "description": "Emergency shutdown attempts"
          },
          "uptime_percentage": {
            "type": "number",
            "title": "Uptime Percentage",
            "description": "System uptime %"
          },
          "average_response_ms": {
            "type": "number",
            "title": "Average Response Ms",
            "description": "Average response time"
          },
          "active_agents": {
            "type": "integer",
            "title": "Active Agents",
            "description": "Number of active agents"
          },
          "data_requests_received": {
            "type": "integer",
            "title": "Data Requests Received",
            "description": "DSAR requests received"
          },
          "data_requests_completed": {
            "type": "integer",
            "title": "Data Requests Completed",
            "description": "DSAR requests completed"
          }
        },
        "type": "object",
        "required": [
          "period_start",
          "period_end",
          "total_interactions",
          "actions_taken",
          "deferrals_to_human",
          "deferrals_uncertainty",
          "deferrals_ethical",
          "harmful_requests_blocked",
          "rate_limit_triggers",
          "emergency_shutdowns",
          "uptime_percentage",
          "average_response_ms",
          "active_agents",
          "data_requests_received",
          "data_requests_completed"
        ],
        "title": "TransparencyStats",
        "description": "Public transparency statistics."
      },
      "UpdatePermissionsRequest": {
        "properties": {
          "permissions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Permissions",
            "description": "List of permission strings to grant"
          }
        },
        "type": "object",
        "required": [
          "permissions"
        ],
        "title": "UpdatePermissionsRequest",
        "description": "Request to update user's custom permissions.",
        "example": {
          "permissions": [
            "send_messages",
            "custom_permission_1"
          ]
        }
      },
      "UpdateTicketRequest": {
        "properties": {
          "status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status",
            "description": "New status (pending|in_progress|completed|cancelled|failed)"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Updated metadata"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "Updated notes"
          }
        },
        "type": "object",
        "title": "UpdateTicketRequest",
        "description": "Request to update ticket status or metadata."
      },
      "UpdateUserRequest": {
        "properties": {
          "api_role": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/APIRole"
              },
              {
                "type": "null"
              }
            ]
          },
          "is_active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active"
          }
        },
        "type": "object",
        "title": "UpdateUserRequest",
        "description": "Request to update user information."
      },
      "UpdateUserSettingsRequest": {
        "properties": {
          "user_preferred_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Preferred Name",
            "description": "User's preferred display name"
          },
          "location": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Location",
            "description": "User's location preference"
          },
          "interaction_preferences": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Interaction Preferences",
            "description": "User's custom interaction preferences"
          },
          "marketing_opt_in": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Marketing Opt In",
            "description": "User consent for marketing communications"
          }
        },
        "type": "object",
        "title": "UpdateUserSettingsRequest",
        "description": "Request to update user's personal settings."
      },
      "UrgencyLevel": {
        "type": "string",
        "enum": [
          "low",
          "normal",
          "high",
          "critical"
        ],
        "title": "UrgencyLevel",
        "description": "Urgency level for guidance requests."
      },
      "UsageExample": {
        "properties": {
          "title": {
            "type": "string",
            "title": "Title",
            "description": "Example title"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "What this example demonstrates"
          },
          "code": {
            "type": "string",
            "title": "Code",
            "description": "The example code/parameters"
          },
          "language": {
            "type": "string",
            "title": "Language",
            "description": "Code language for syntax highlighting",
            "default": "json"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "title",
          "code"
        ],
        "title": "UsageExample",
        "description": "A code example showing how to use a tool."
      },
      "UserDetail": {
        "properties": {
          "user_id": {
            "type": "string",
            "title": "User Id"
          },
          "username": {
            "type": "string",
            "title": "Username"
          },
          "auth_type": {
            "type": "string",
            "title": "Auth Type",
            "description": "password, oauth, api_key"
          },
          "api_role": {
            "$ref": "#/components/schemas/APIRole"
          },
          "wa_role": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/WARole"
              },
              {
                "type": "null"
              }
            ]
          },
          "wa_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Wa Id"
          },
          "oauth_provider": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Oauth Provider"
          },
          "oauth_email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Oauth Email"
          },
          "oauth_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Oauth Name"
          },
          "oauth_picture": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Oauth Picture"
          },
          "permission_requested_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Permission Requested At"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "last_login": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Login"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "default": true
          },
          "linked_oauth_accounts": {
            "items": {
              "$ref": "#/components/schemas/LinkedOAuthAccount"
            },
            "type": "array",
            "title": "Linked Oauth Accounts"
          },
          "permissions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Permissions"
          },
          "custom_permissions": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Custom Permissions"
          },
          "oauth_external_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Oauth External Id"
          },
          "wa_parent_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Wa Parent Id"
          },
          "wa_auto_minted": {
            "type": "boolean",
            "title": "Wa Auto Minted",
            "default": false
          },
          "api_keys_count": {
            "type": "integer",
            "title": "Api Keys Count",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "username",
          "auth_type",
          "api_role",
          "created_at",
          "permissions"
        ],
        "title": "UserDetail",
        "description": "Detailed user information."
      },
      "UserInfo": {
        "properties": {
          "user_id": {
            "type": "string",
            "title": "User Id",
            "description": "User ID"
          },
          "username": {
            "type": "string",
            "title": "Username",
            "description": "Username"
          },
          "role": {
            "$ref": "#/components/schemas/UserRole",
            "description": "User's role"
          },
          "permissions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Permissions",
            "description": "List of permissions"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Account creation time"
          },
          "last_login": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Login",
            "description": "Last login time"
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "username",
          "role",
          "permissions",
          "created_at"
        ],
        "title": "UserInfo",
        "description": "Current user information."
      },
      "UserRole": {
        "type": "string",
        "enum": [
          "OBSERVER",
          "ADMIN",
          "AUTHORITY",
          "SYSTEM_ADMIN",
          "SERVICE_ACCOUNT"
        ],
        "title": "UserRole",
        "description": "User roles in order of increasing privilege."
      },
      "UserSettingsResponse": {
        "properties": {
          "user_preferred_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Preferred Name",
            "description": "User's preferred display name"
          },
          "location": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Location",
            "description": "User's location preference"
          },
          "interaction_preferences": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Interaction Preferences",
            "description": "User's custom interaction preferences"
          },
          "marketing_opt_in": {
            "type": "boolean",
            "title": "Marketing Opt In",
            "description": "User consent for marketing communications",
            "default": false
          },
          "marketing_opt_in_source": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Marketing Opt In Source",
            "description": "Source of marketing consent (read-only)"
          }
        },
        "type": "object",
        "title": "UserSettingsResponse",
        "description": "User's personal settings (user-modifiable preferences)."
      },
      "UserSummary": {
        "properties": {
          "user_id": {
            "type": "string",
            "title": "User Id"
          },
          "username": {
            "type": "string",
            "title": "Username"
          },
          "auth_type": {
            "type": "string",
            "title": "Auth Type",
            "description": "password, oauth, api_key"
          },
          "api_role": {
            "$ref": "#/components/schemas/APIRole"
          },
          "wa_role": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/WARole"
              },
              {
                "type": "null"
              }
            ]
          },
          "wa_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Wa Id"
          },
          "oauth_provider": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Oauth Provider"
          },
          "oauth_email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Oauth Email"
          },
          "oauth_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Oauth Name"
          },
          "oauth_picture": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Oauth Picture"
          },
          "permission_requested_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Permission Requested At"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "last_login": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Login"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "default": true
          },
          "linked_oauth_accounts": {
            "items": {
              "$ref": "#/components/schemas/LinkedOAuthAccount"
            },
            "type": "array",
            "title": "Linked Oauth Accounts"
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "username",
          "auth_type",
          "api_role",
          "created_at"
        ],
        "title": "UserSummary",
        "description": "Summary information about a user."
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "VerificationReport": {
        "properties": {
          "verified": {
            "type": "boolean",
            "title": "Verified",
            "description": "Whether integrity check passed"
          },
          "total_entries": {
            "type": "integer",
            "title": "Total Entries",
            "description": "Total audit entries checked"
          },
          "valid_entries": {
            "type": "integer",
            "title": "Valid Entries",
            "description": "Entries with valid signatures"
          },
          "invalid_entries": {
            "type": "integer",
            "title": "Invalid Entries",
            "description": "Entries with invalid signatures"
          },
          "missing_entries": {
            "type": "integer",
            "title": "Missing Entries",
            "description": "Entries missing from chain",
            "default": 0
          },
          "chain_intact": {
            "type": "boolean",
            "title": "Chain Intact",
            "description": "Whether hash chain is intact"
          },
          "last_valid_entry": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Valid Entry",
            "description": "Last valid entry ID"
          },
          "first_invalid_entry": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "First Invalid Entry",
            "description": "First invalid entry ID"
          },
          "verification_started": {
            "type": "string",
            "format": "date-time",
            "title": "Verification Started",
            "description": "Verification start time"
          },
          "verification_completed": {
            "type": "string",
            "format": "date-time",
            "title": "Verification Completed",
            "description": "Verification end time"
          },
          "duration_ms": {
            "type": "number",
            "title": "Duration Ms",
            "description": "Verification duration in milliseconds"
          },
          "errors": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Errors",
            "description": "Errors encountered"
          },
          "warnings": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Warnings",
            "description": "Warnings encountered"
          }
        },
        "type": "object",
        "required": [
          "verified",
          "total_entries",
          "valid_entries",
          "invalid_entries",
          "chain_intact",
          "verification_started",
          "verification_completed",
          "duration_ms"
        ],
        "title": "VerificationReport",
        "description": "Audit integrity verification report."
      },
      "VerifyDeletionRequest": {
        "properties": {
          "deletion_proof": {
            "$ref": "#/components/schemas/DeletionProof",
            "description": "Signed deletion proof to verify"
          }
        },
        "type": "object",
        "required": [
          "deletion_proof"
        ],
        "title": "VerifyDeletionRequest",
        "description": "Request to verify a deletion proof."
      },
      "WAGuidanceRequest": {
        "properties": {
          "topic": {
            "type": "string",
            "title": "Topic",
            "description": "Topic requiring guidance"
          },
          "context": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context",
            "description": "Additional context for the guidance request"
          },
          "urgency": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/UrgencyLevel"
              },
              {
                "type": "null"
              }
            ],
            "description": "Urgency level"
          }
        },
        "type": "object",
        "required": [
          "topic"
        ],
        "title": "WAGuidanceRequest",
        "description": "Request for WA guidance on a topic."
      },
      "WAGuidanceResponse": {
        "properties": {
          "guidance": {
            "type": "string",
            "title": "Guidance",
            "description": "Wisdom guidance provided"
          },
          "wa_id": {
            "type": "string",
            "title": "Wa Id",
            "description": "ID of WA who provided guidance"
          },
          "confidence": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Confidence",
            "description": "Confidence level (0-1)"
          },
          "additional_context": {
            "additionalProperties": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                },
                {
                  "type": "number"
                },
                {
                  "type": "boolean"
                },
                {
                  "items": {},
                  "type": "array"
                },
                {
                  "additionalProperties": true,
                  "type": "object"
                },
                {
                  "type": "null"
                }
              ]
            },
            "type": "object",
            "title": "Additional Context",
            "description": "Additional context"
          },
          "timestamp": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Timestamp",
            "description": "When guidance was provided"
          }
        },
        "type": "object",
        "required": [
          "guidance",
          "wa_id",
          "confidence",
          "timestamp"
        ],
        "title": "WAGuidanceResponse",
        "description": "WA guidance response."
      },
      "WAKeyCheckResponse": {
        "properties": {
          "exists": {
            "type": "boolean",
            "title": "Exists",
            "description": "Whether the key file exists"
          },
          "filename": {
            "type": "string",
            "title": "Filename",
            "description": "The filename that was checked"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error",
            "description": "Error message if any"
          },
          "valid_size": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Valid Size",
            "description": "Whether the key has valid size (if exists)"
          },
          "size": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Size",
            "description": "File size in bytes (if exists)"
          }
        },
        "type": "object",
        "required": [
          "exists",
          "filename"
        ],
        "title": "WAKeyCheckResponse",
        "description": "Response for WA key existence check."
      },
      "WAPermission": {
        "properties": {
          "permission_id": {
            "type": "string",
            "title": "Permission Id"
          },
          "wa_id": {
            "type": "string",
            "title": "Wa Id"
          },
          "permission_type": {
            "type": "string",
            "title": "Permission Type"
          },
          "permission_name": {
            "type": "string",
            "title": "Permission Name"
          },
          "resource": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Resource"
          },
          "granted_by": {
            "type": "string",
            "title": "Granted By"
          },
          "granted_at": {
            "type": "string",
            "format": "date-time",
            "title": "Granted At"
          },
          "expires_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires At"
          },
          "metadata": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Metadata"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "permission_id",
          "wa_id",
          "permission_type",
          "permission_name",
          "granted_by",
          "granted_at"
        ],
        "title": "WAPermission",
        "description": "Permission granted to a WA."
      },
      "WARole": {
        "type": "string",
        "enum": [
          "root",
          "authority",
          "observer"
        ],
        "title": "WARole",
        "description": "WA role levels."
      },
      "WASignedCommand": {
        "properties": {
          "command_id": {
            "type": "string",
            "title": "Command Id",
            "description": "Unique command identifier"
          },
          "command_type": {
            "$ref": "#/components/schemas/EmergencyCommandType",
            "description": "Type of emergency command"
          },
          "wa_id": {
            "type": "string",
            "title": "Wa Id",
            "description": "ID of issuing WA"
          },
          "wa_public_key": {
            "type": "string",
            "title": "Wa Public Key",
            "description": "Public key of issuing WA"
          },
          "issued_at": {
            "type": "string",
            "format": "date-time",
            "title": "Issued At",
            "description": "When command was issued"
          },
          "expires_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires At",
            "description": "Command expiration"
          },
          "reason": {
            "type": "string",
            "title": "Reason",
            "description": "Reason for emergency command"
          },
          "target_agent_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Target Agent Id",
            "description": "Specific agent or None for all"
          },
          "target_tree_path": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Target Tree Path",
            "description": "WA tree path for targeting"
          },
          "signature": {
            "type": "string",
            "title": "Signature",
            "description": "Ed25519 signature of command data"
          },
          "parent_command_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Parent Command Id",
            "description": "Parent command if relayed"
          },
          "relay_chain": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Relay Chain",
            "description": "WA IDs in relay chain"
          }
        },
        "type": "object",
        "required": [
          "command_id",
          "command_type",
          "wa_id",
          "wa_public_key",
          "issued_at",
          "reason",
          "signature"
        ],
        "title": "WASignedCommand",
        "description": "A command signed by a Wise Authority."
      },
      "WAStatusResponse": {
        "properties": {
          "service_healthy": {
            "type": "boolean",
            "title": "Service Healthy",
            "description": "Whether WA service is healthy"
          },
          "active_was": {
            "type": "integer",
            "title": "Active Was",
            "description": "Number of active WAs"
          },
          "pending_deferrals": {
            "type": "integer",
            "title": "Pending Deferrals",
            "description": "Number of pending deferrals"
          },
          "deferrals_24h": {
            "type": "integer",
            "title": "Deferrals 24H",
            "description": "Deferrals created in last 24 hours"
          },
          "average_resolution_time_minutes": {
            "type": "number",
            "title": "Average Resolution Time Minutes",
            "description": "Average deferral resolution time"
          },
          "timestamp": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Timestamp",
            "description": "Status timestamp"
          }
        },
        "type": "object",
        "required": [
          "service_healthy",
          "active_was",
          "pending_deferrals",
          "deferrals_24h",
          "average_resolution_time_minutes",
          "timestamp"
        ],
        "title": "WAStatusResponse",
        "description": "WA service status response."
      },
      "ciris_engine__logic__adapters__api__routes__users__APIKeyInfo": {
        "properties": {
          "key_id": {
            "type": "string",
            "title": "Key Id",
            "description": "Unique key identifier"
          },
          "masked_key": {
            "type": "string",
            "title": "Masked Key",
            "description": "Masked version of the key (e.g., 'ciris_****')"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "When the key was created"
          },
          "last_used": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Used",
            "description": "When the key was last used"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Whether the key is currently active"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Optional name for the key"
          }
        },
        "type": "object",
        "required": [
          "key_id",
          "masked_key",
          "created_at",
          "is_active"
        ],
        "title": "APIKeyInfo",
        "description": "Information about an API key (masked for security)."
      },
      "ciris_engine__schemas__runtime__adapter_management__AdapterConfig": {
        "properties": {
          "adapter_type": {
            "type": "string",
            "title": "Adapter Type",
            "description": "Type of adapter (cli, api, discord, etc.)"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "description": "Whether adapter is enabled",
            "default": true
          },
          "persist": {
            "type": "boolean",
            "title": "Persist",
            "description": "Whether to persist this adapter config for auto-load on restart. When True, the adapter will be automatically restored after agent restart.",
            "default": false
          },
          "settings": {
            "additionalProperties": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                },
                {
                  "type": "number"
                },
                {
                  "type": "boolean"
                },
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ]
            },
            "type": "object",
            "title": "Settings",
            "description": "Simple adapter settings (flat primitives only). Use adapter_config for complex nested configurations."
          },
          "adapter_config": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Adapter Config",
            "description": "Full adapter configuration for adapters requiring nested objects (e.g., MCP servers with bus_bindings). Validated by the adapter's typed config class."
          }
        },
        "type": "object",
        "required": [
          "adapter_type"
        ],
        "title": "AdapterConfig",
        "description": "Configuration for an adapter.\n\nThis schema supports two configuration approaches:\n1. Simple adapters (CLI, API, Discord): Use `settings` dict with flat primitives\n2. Complex adapters (MCP): Use `adapter_config` dict for nested structures\n\nThe adapter's own typed config class (e.g., MCPAdapterConfig, DiscordAdapterConfig)\nperforms full validation when the adapter is loaded."
      }
    },
    "securitySchemes": {
      "HTTPBearer": {
        "type": "http",
        "scheme": "bearer"
      }
    }
  }
}
