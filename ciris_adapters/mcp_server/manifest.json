{
  "module": {
    "name": "mcp_server",
    "version": "1.0.0",
    "description": "MCP server adapter that exposes CIRIS capabilities to external AI agents via Model Context Protocol",
    "author": "CIRIS Team",
    "safe_domain": true
  },
  "services": [
    {
      "type": "RUNTIME_CONTROL",
      "priority": "NORMAL",
      "class": "mcp_server.adapter.Adapter",
      "capabilities": [
        "mcp:server",
        "mcp:expose_tools",
        "mcp:expose_resources",
        "mcp:expose_prompts"
      ]
    }
  ],
  "capabilities": [
    "mcp:server",
    "mcp:expose_tools",
    "mcp:expose_resources",
    "mcp:expose_prompts"
  ],
  "dependencies": {
    "protocols": [
      "ciris_engine.protocols.services.RuntimeControlService"
    ],
    "schemas": [
      "ciris_engine.schemas.adapters.tools",
      "ciris_engine.schemas.runtime.enums"
    ],
    "internal": [
      "ciris_adapters.mcp_common"
    ],
    "external": {
      "mcp": ">=1.0.0"
    }
  },
  "exports": {
    "adapter": "mcp_server.adapter.Adapter",
    "config": "mcp_server.config.MCPServerAdapterConfig",
    "security": "mcp_server.security.MCPServerSecurityManager",
    "handlers": "mcp_server.handlers"
  },
  "configuration": {
    "transport_type": {
      "type": "string",
      "enum": ["stdio", "sse", "http"],
      "default": "stdio",
      "description": "Transport type for the MCP server"
    },
    "host": {
      "type": "string",
      "default": "localhost",
      "description": "Host to bind for HTTP transports"
    },
    "port": {
      "type": "integer",
      "default": 8765,
      "description": "Port to bind for HTTP transports"
    },
    "require_auth": {
      "type": "boolean",
      "default": true,
      "description": "Require authentication for MCP clients"
    },
    "expose_tools": {
      "type": "boolean",
      "default": true,
      "description": "Expose CIRIS tools as MCP tools"
    },
    "expose_resources": {
      "type": "boolean",
      "default": true,
      "description": "Expose CIRIS data as MCP resources"
    },
    "expose_prompts": {
      "type": "boolean",
      "default": true,
      "description": "Expose guidance prompts as MCP prompts"
    }
  },
  "metadata": {
    "api": "Model Context Protocol (MCP) Server",
    "requires_api_key": false,
    "safe_domain": "external_integration",
    "prohibited": ["medical"],
    "transport_types": ["stdio", "sse", "http"],
    "security_features": [
      "client_authentication",
      "request_validation",
      "rate_limiting",
      "session_management"
    ]
  }
}
