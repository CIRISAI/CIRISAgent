(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9652],{589:(e,t,s)=>{"use strict";s.d(t,{$:()=>o,s:()=>r});var n=s(494),i=s(6759),a=s(1279),r=class extends i.k{#e;#t;#s;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||o(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||("pending"===this.state.status?this.scheduleGc():this.#t.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){let t=()=>{this.#n({type:"continue"})};this.#s=(0,a.II)({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(Error("No mutationFn found")),onFail:(e,t)=>{this.#n({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});let s="pending"===this.state.status,n=!this.#s.canStart();try{if(s)t();else{this.#n({type:"pending",variables:e,isPaused:n}),await this.#t.config.onMutate?.(e,this);let t=await this.options.onMutate?.(e);t!==this.state.context&&this.#n({type:"pending",context:t,variables:e,isPaused:n})}let i=await this.#s.start();return await this.#t.config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await this.#t.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),this.#n({type:"success",data:i}),i}catch(t){try{throw await this.#t.config.onError?.(t,e,this.state.context,this),await this.options.onError?.(t,e,this.state.context),await this.#t.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,t,e,this.state.context),t}finally{this.#n({type:"error",error:t})}}finally{this.#t.runNext(this)}}#n(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),n.jG.batch(()=>{this.#e.forEach(t=>{t.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function o(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}},3389:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var n=s(4568),i=s(7620),a=s(7606),r=s(3297),o=s(6258),l=s(704),c=s(3237),d=s(4893),u=s(9484),h=s(3835),m=s(7261),g=s.n(m);function x(){return(0,n.jsx)("div",{className:"min-h-[400px] flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})})}),(0,n.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Agents Available"}),(0,n.jsx)("p",{className:"text-sm text-gray-500 mb-6 max-w-md mx-auto",children:"No CIRIS agents are currently running. Please create an agent using the Manager interface to get started."}),(0,n.jsx)(g(),{href:"/manager",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Go to Manager"})]})})}var f=s(7192),p=s(8924);function b(){let{user:e}=(0,u.A)(),{currentAgent:t,isLoadingAgent:s}=(0,h.f)(),[m,g]=(0,i.useState)(""),[b,y]=(0,i.useState)(!1),[v,w]=(0,i.useState)(!1),[N,j]=(0,i.useState)("User requested graceful shutdown"),[C,S]=(0,i.useState)("EMERGENCY: Immediate shutdown required"),[I,E]=(0,i.useState)({isOpen:!1,message:"",details:void 0}),A=(0,i.useRef)(null),_=(0,a.jE)(),{data:R,isLoading:M}=(0,r.I)({queryKey:["conversation-history"],queryFn:async()=>await l.AQ.agent.getHistory({channel_id:"api_0.0.0.0_8080",limit:20}),refetchInterval:2e3,enabled:!!t}),{data:k,isError:O}=(0,r.I)({queryKey:["agent-status"],queryFn:()=>l.AQ.agent.getStatus(),refetchInterval:5e3,enabled:!!t}),T=(0,o.n)({mutationFn:async e=>await l.AQ.agent.interact(e,{channel_id:"api_0.0.0.0_8080"}),onSuccess:e=>{g(""),_.invalidateQueries({queryKey:["conversation-history"]}),e.response&&c.Ay.success("Agent: ".concat(e.response),{duration:5e3})},onError:e=>{var t;console.error("Send message error:",e),E({isOpen:!0,message:(0,f.PE)(e),details:(null==(t=e.response)?void 0:t.data)||e.details})}}),P=(0,o.n)({mutationFn:async()=>await l.AQ.system.shutdown(N,!0,!1),onSuccess:e=>{c.Ay.success("Shutdown initiated: ".concat(e.message),{duration:1e4}),y(!1),_.invalidateQueries({queryKey:["agent-status"]})},onError:e=>{console.error("Shutdown error:",e);let t=(0,f.PE)(e);c.Ay.error(t)}}),U=(0,o.n)({mutationFn:async()=>await l.AQ.system.shutdown(C,!0,!0),onSuccess:e=>{c.Ay.success("EMERGENCY SHUTDOWN INITIATED: ".concat(e.message),{duration:1e4,style:{background:"#dc2626",color:"white"}}),w(!1)},onError:e=>{console.error("Emergency shutdown error:",e);let t=(0,f.PE)(e);c.Ay.error(t)}});(0,i.useEffect)(()=>{var e;null==(e=A.current)||e.scrollIntoView({behavior:"smooth"})},[R]);let D=(0,i.useMemo)(()=>(null==R?void 0:R.messages)?[...R.messages].sort((e,t)=>new Date(e.timestamp).getTime()-new Date(t.timestamp).getTime()).slice(-20):[],[R]);return s||t?(0,n.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,n.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,n.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,n.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Agent Communications"}),(0,n.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,n.jsxs)("span",{className:"flex items-center ".concat(!O&&k?"text-green-600":"text-red-600"),children:[(0,n.jsx)(d.md,{status:!O&&k?"green":"red",className:"mr-2"}),!O&&k?"Connected":"Disconnected"]}),k&&(0,n.jsxs)("span",{className:"text-gray-600",children:["State: ",(0,n.jsx)("span",{className:"font-medium",children:k.cognitive_state})]}),(0,n.jsx)("button",{onClick:()=>y(!0),className:"ml-4 px-3 py-1 text-xs font-medium text-red-600 border border-red-600 rounded-md hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Shutdown"}),(0,n.jsx)("button",{onClick:()=>{(null==e?void 0:e.role)==="OBSERVER"?c.Ay.error("WISE AUTHORITY OR SYSTEM AUTHORITY REQUIRED",{duration:5e3,style:{background:"#dc2626",color:"white"}}):w(!0)},className:"ml-2 px-3 py-1 text-xs font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"EMERGENCY STOP"})]})]}),(0,n.jsx)("div",{className:"border rounded-lg bg-gray-50 h-96 overflow-y-auto p-4 mb-4",children:M?(0,n.jsx)("div",{className:"text-center text-gray-500",children:"Loading conversation..."}):0===D.length?(0,n.jsx)("div",{className:"text-center text-gray-500",children:"No messages yet. Start a conversation!"}):(0,n.jsxs)("div",{className:"space-y-3",children:[D.map((e,t)=>(0===t&&console.log("Message structure:",e),(0,n.jsx)("div",{className:"flex ".concat(e.is_agent?"justify-start":"justify-end"),children:(0,n.jsxs)("div",{className:"max-w-xs lg:max-w-md px-4 py-2 rounded-lg ".concat(e.is_agent?"bg-white border border-gray-200":"bg-blue-600 text-white"),children:[(0,n.jsxs)("div",{className:"text-xs mb-1 ".concat(e.is_agent?"text-gray-500":"text-blue-100"),children:[e.author||(e.is_agent?"CIRIS":"You")," • ",new Date(e.timestamp).toLocaleTimeString()]}),(0,n.jsx)("div",{className:"text-sm whitespace-pre-wrap",children:e.content})]})},e.id||t))),(0,n.jsx)("div",{ref:A})]})}),(0,n.jsx)("div",{className:"text-xs text-gray-500 mb-2",children:"Showing last 20 messages"}),(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),m.trim()&&T.mutate(m.trim())},className:"flex space-x-3",children:[(0,n.jsx)("input",{type:"text",value:m,onChange:e=>g(e.target.value),placeholder:"Type your message...",disabled:T.isPending,className:"flex-1 min-w-0 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm disabled:opacity-50"}),(0,n.jsx)("button",{type:"submit",disabled:T.isPending||!m.trim(),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:T.isPending?"Sending...":"Send"})]}),!1]})}),!1,b&&(0,n.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50",children:(0,n.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[(0,n.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Initiate Graceful Shutdown"}),(0,n.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"This will initiate a graceful shutdown of the CIRIS agent. The agent will:"}),(0,n.jsxs)("ul",{className:"list-disc list-inside text-sm text-gray-600 mb-4 space-y-1",children:[(0,n.jsx)("li",{children:"Transition to SHUTDOWN cognitive state"}),(0,n.jsx)("li",{children:"Complete any critical tasks"}),(0,n.jsx)("li",{children:"May send final messages to channels"}),(0,n.jsx)("li",{children:"Perform clean shutdown procedures"})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{htmlFor:"shutdown-reason",className:"block text-sm font-medium text-gray-700 mb-2",children:"Shutdown Reason"}),(0,n.jsx)("textarea",{id:"shutdown-reason",rows:3,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",value:N,onChange:e=>j(e.target.value),placeholder:"Enter reason for shutdown..."})]}),(0,n.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,n.jsx)("button",{onClick:()=>y(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),(0,n.jsx)("button",{onClick:()=>P.mutate(),disabled:P.isPending||!N.trim(),className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed",children:P.isPending?"Initiating...":"Confirm Shutdown"})]})]})}),v&&(0,n.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50",children:(0,n.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full border-4 border-red-600",children:[(0,n.jsxs)("h3",{className:"text-lg font-bold text-red-600 mb-4 flex items-center",children:[(0,n.jsx)("svg",{className:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"EMERGENCY SHUTDOWN"]}),(0,n.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-4",children:[(0,n.jsx)("p",{className:"text-sm font-semibold text-red-800 mb-2",children:"⚠️ WARNING: This will IMMEDIATELY terminate the agent!"}),(0,n.jsxs)("ul",{className:"list-disc list-inside text-sm text-red-700 space-y-1",children:[(0,n.jsx)("li",{children:"NO graceful shutdown procedures"}),(0,n.jsx)("li",{children:"NO task completion"}),(0,n.jsx)("li",{children:"NO final messages"}),(0,n.jsx)("li",{children:"IMMEDIATE process termination"})]})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{htmlFor:"emergency-reason",className:"block text-sm font-medium text-gray-700 mb-2",children:"Emergency Reason (Required)"}),(0,n.jsx)("textarea",{id:"emergency-reason",rows:2,className:"block w-full rounded-md border-red-300 shadow-sm focus:border-red-500 focus:ring-red-500 sm:text-sm",value:C,onChange:e=>S(e.target.value),placeholder:"Describe the emergency..."})]}),(0,n.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3 mb-4",children:(0,n.jsxs)("p",{className:"text-xs text-yellow-800",children:[(0,n.jsx)("strong",{children:"Authority Required:"})," This action requires ADMIN, AUTHORITY, or SYSTEM_ADMIN role. Your current role: ",(0,n.jsx)("span",{className:"font-semibold",children:(null==e?void 0:e.role)||"Unknown"})]})}),(0,n.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,n.jsx)("button",{onClick:()=>w(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Cancel"}),(0,n.jsx)("button",{onClick:()=>U.mutate(),disabled:U.isPending||!C.trim(),className:"px-4 py-2 text-sm font-bold text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed",children:U.isPending?"TERMINATING...":"EXECUTE EMERGENCY STOP"})]})]})}),(0,n.jsx)(p.A,{isOpen:I.isOpen,onClose:()=>E({isOpen:!1,message:"",details:void 0}),title:"Communication Error",message:I.message,details:I.details})]}):(0,n.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,n.jsx)(x,{})})}},3835:(e,t,s)=>{"use strict";s.d(t,{F:()=>x,f:()=>f});var n=s(4568),i=s(7620),a=s(9484),r=s(704),o=s(3120),l=s(5950),c=s(2942),d=s(4338);let u=(0,i.createContext)(null),h="local",m="CIRIS Agent",g=["/login","/setup"];function x(e){let{children:t}=e,[s,x]=(0,i.useState)(null),[f,p]=(0,i.useState)(null),[b,y]=(0,i.useState)(!1),[v,w]=(0,i.useState)(!1),[N,j]=(0,i.useState)(null),{user:C}=(0,a.A)(),S=(0,c.usePathname)(),I=g.some(e=>null==S?void 0:S.startsWith(e)),E=async()=>{if(!(l.a.getAccessToken()||C)||I){console.log("[AgentContext] Skipping agent fetch - not authenticated or on auth page");let e=localStorage.getItem("selectedAgentId")||h,t=localStorage.getItem("selectedAgentName")||m;(e!==h||t!==m)&&(console.log("[AgentContext] Using saved agent from localStorage:",t),x({agent_id:e,agent_name:t,status:"running",health:"unknown",api_endpoint:d.env.NEXT_PUBLIC_CIRIS_API_URL||"http://localhost:8080"}));return}y(!0),j(null);try{let e=await r.AQ.agent.getIdentity();console.log("[AgentContext] Got agent identity:",e.name,"(",e.agent_id,")");let t={agent_id:e.agent_id,agent_name:e.name,status:"running",health:"healthy",api_endpoint:d.env.NEXT_PUBLIC_CIRIS_API_URL||"http://localhost:8080"};x(t),localStorage.setItem("selectedAgentId",t.agent_id),localStorage.setItem("selectedAgentName",t.agent_name)}catch(s){console.log("[AgentContext] Could not fetch agent identity, checking localStorage");let e=localStorage.getItem("selectedAgentId")||h,t=localStorage.getItem("selectedAgentName")||m;console.log("[AgentContext] Using saved/default agent:",t,"(",e,")"),x({agent_id:e,agent_name:t,status:"running",health:"unknown",api_endpoint:d.env.NEXT_PUBLIC_CIRIS_API_URL||"http://localhost:8080"}),!(s instanceof Error)||s.message.includes("fetch")||s.message.includes("Failed to fetch")||s.message.includes("401")||s.message.includes("Unauthorized")||j(s)}finally{y(!1)}},A=async()=>{if(C&&s&&!I){w(!0);try{let e=await r.AQ.auth.getCurrentUser();if(e){let t={agentId:s.agent_id,apiRole:e.api_role,waRole:e.wa_role,isAuthority:"authority"===e.wa_role||"SYSTEM_ADMIN"===e.api_role,lastChecked:new Date};p(t)}}catch(e){console.error("Failed to fetch role for agent ".concat(s.agent_id,":"),e)}w(!1)}};return(0,i.useEffect)(()=>{if(I){console.log("[AgentContext] On auth page, skipping initial fetch");let e=localStorage.getItem("selectedAgentId"),t=localStorage.getItem("selectedAgentName");e&&t&&x({agent_id:e,agent_name:t,status:"running",health:"unknown",api_endpoint:d.env.NEXT_PUBLIC_CIRIS_API_URL||"http://localhost:8080"});return}let e=l.a.getAccessToken(),t=localStorage.getItem("selectedAgentId");if(e&&t)console.log("[AgentContext] Restoring SDK config for agent:",t),o._.configure(t,e),E();else if(e)E();else{console.log("[AgentContext] No auth token, skipping agent fetch");let e=localStorage.getItem("selectedAgentName"),t=localStorage.getItem("selectedAgentId");t&&e&&x({agent_id:t,agent_name:e,status:"running",health:"unknown",api_endpoint:d.env.NEXT_PUBLIC_CIRIS_API_URL||"http://localhost:8080"})}},[S]),(0,i.useEffect)(()=>{C&&!I&&(console.log("[AgentContext] User authenticated, refreshing agent"),E())},[C]),(0,i.useEffect)(()=>{s&&C&&!I&&A()},[s,C]),(0,n.jsx)(u.Provider,{value:{currentAgent:s,currentAgentRole:f,refreshAgent:E,refreshAgentRole:A,isLoadingAgent:b,isLoadingRole:v,error:N},children:t})}function f(){let e=(0,i.useContext)(u);if(!e)throw Error("useAgent must be used within an AgentProvider");return e}},5638:(e,t,s)=>{Promise.resolve().then(s.bind(s,3389))},6258:(e,t,s)=>{"use strict";s.d(t,{n:()=>d});var n=s(7620),i=s(589),a=s(494),r=s(2327),o=s(7703),l=class extends r.Q{#i;#a=void 0;#r;#o;constructor(e,t){super(),this.#i=e,this.setOptions(t),this.bindMethods(),this.#l()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#i.defaultMutationOptions(e),(0,o.f8)(this.options,t)||this.#i.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,o.EN)(t.mutationKey)!==(0,o.EN)(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#l(),this.#c(e)}getCurrentResult(){return this.#a}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#l(),this.#c()}mutate(e,t){return this.#o=t,this.#r?.removeObserver(this),this.#r=this.#i.getMutationCache().build(this.#i,this.options),this.#r.addObserver(this),this.#r.execute(e)}#l(){let e=this.#r?.state??(0,i.$)();this.#a={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#c(e){a.jG.batch(()=>{if(this.#o&&this.hasListeners()){let t=this.#a.variables,s=this.#a.context;e?.type==="success"?(this.#o.onSuccess?.(e.data,t,s),this.#o.onSettled?.(e.data,null,t,s)):e?.type==="error"&&(this.#o.onError?.(e.error,t,s),this.#o.onSettled?.(void 0,e.error,t,s))}this.listeners.forEach(e=>{e(this.#a)})})}},c=s(7606);function d(e,t){let s=(0,c.jE)(t),[i]=n.useState(()=>new l(s,e));n.useEffect(()=>{i.setOptions(e)},[i,e]);let r=n.useSyncExternalStore(n.useCallback(e=>i.subscribe(a.jG.batchCalls(e)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),d=n.useCallback((e,t)=>{i.mutate(e,t).catch(o.lQ)},[i]);if(r.error&&(0,o.GU)(i.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:d,mutateAsync:r.mutate}}}},e=>{var t=t=>e(e.s=t);e.O(0,[4534,8903,3297,8072,704,9484,4789,587,8315,7358],()=>t(5638)),_N_E=e.O()}]);
