ciris_engine/logic/runtime/prevent_sideeffects.py:21:1: error: Function is
missing a return type annotation  [no-untyped-def]
    def allow_runtime_creation():
    ^
ciris_engine/logic/runtime/prevent_sideeffects.py:21:1: note: Use "-> None" if function does not return a value
ciris_engine/logic/runtime/prevent_sideeffects.py:25:1: error: Function is
missing a return type annotation  [no-untyped-def]
    def is_import_mode():
    ^
ciris_engine/logic/registries/base.py:345:13: error: Statement is unreachable 
[unreachable]
                service_type_enum = service_type
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/schemas/adapters/registration.py:35:13: error: Statement is
unreachable  [unreachable]
                self.handlers = [self.handlers]
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/schemas/telemetry/collector.py:20:60: error: Missing named
argument "adapters" for "HealthDetails"  [call-arg]
    ...s: HealthDetails = Field(default_factory=lambda: HealthDetails(), desc...
                                                        ^~~~~~~~~~~~~~~
ciris_engine/schemas/telemetry/collector.py:20:60: error: Missing named
argument "services" for "HealthDetails"  [call-arg]
    ...s: HealthDetails = Field(default_factory=lambda: HealthDetails(), desc...
                                                        ^~~~~~~~~~~~~~~
ciris_engine/schemas/telemetry/collector.py:20:60: error: Missing named
argument "processor" for "HealthDetails"  [call-arg]
    ...s: HealthDetails = Field(default_factory=lambda: HealthDetails(), desc...
                                                        ^~~~~~~~~~~~~~~
ciris_engine/schemas/telemetry/collector.py:20:60: error: Missing named
argument "error" for "HealthDetails"  [call-arg]
    ...s: HealthDetails = Field(default_factory=lambda: HealthDetails(), desc...
                                                        ^~~~~~~~~~~~~~~
ciris_engine/schemas/services/graph_core.py:101:69: error: Missing named
argument "context" for "GraphEdgeAttributes"  [call-arg]
    ...phEdgeAttributes = Field(default_factory=lambda: GraphEdgeAttributes()...
                                                        ^~~~~~~~~~~~~~~~~~~~~
ciris_engine/schemas/services/graph/node_data.py:158:5: error: Returning Any
from function declared to return
"ConfigNodeData | TelemetryNodeData | AuditNodeData | MemoryNodeData | TaskNodeData | EnvironmentNodeData"
 [no-any-return]
        return data_class(**data)
        ^~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/schemas/config/essential.py:148:54: error: Argument
"default_factory" to "Field" has incompatible type "type[DatabaseConfig]";
expected "Callable[[], Never] | Callable[[dict[str, Any]], Never]"  [arg-type]
        database: DatabaseConfig = Field(default_factory=DatabaseConfig)
                                                         ^~~~~~~~~~~~~~
ciris_engine/schemas/config/essential.py:149:62: error: Argument
"default_factory" to "Field" has incompatible type
"type[ServiceEndpointsConfig]"; expected
"Callable[[], Never] | Callable[[dict[str, Any]], Never]"  [arg-type]
    ...: ServiceEndpointsConfig = Field(default_factory=ServiceEndpointsConfi...
                                                        ^~~~~~~~~~~~~~~~~~~~~~
ciris_engine/schemas/config/essential.py:150:54: error: Argument
"default_factory" to "Field" has incompatible type "type[SecurityConfig]";
expected "Callable[[], Never] | Callable[[dict[str, Any]], Never]"  [arg-type]
        security: SecurityConfig = Field(default_factory=SecurityConfig)
                                                         ^~~~~~~~~~~~~~
ciris_engine/schemas/config/essential.py:151:61: error: Argument
"default_factory" to "Field" has incompatible type
"type[OperationalLimitsConfig]"; expected
"Callable[[], Never] | Callable[[dict[str, Any]], Never]"  [arg-type]
    ... OperationalLimitsConfig = Field(default_factory=OperationalLimitsConf...
                                                        ^~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/schemas/config/essential.py:152:56: error: Argument
"default_factory" to "Field" has incompatible type "type[TelemetryConfig]";
expected "Callable[[], Never] | Callable[[dict[str, Any]], Never]"  [arg-type]
    ...   telemetry: TelemetryConfig = Field(default_factory=TelemetryConfig)
                                                             ^~~~~~~~~~~~~~~
ciris_engine/schemas/config/essential.py:153:54: error: Argument
"default_factory" to "Field" has incompatible type "type[WorkflowConfig]";
expected "Callable[[], Never] | Callable[[dict[str, Any]], Never]"  [arg-type]
        workflow: WorkflowConfig = Field(default_factory=WorkflowConfig)
                                                         ^~~~~~~~~~~~~~
ciris_engine/schemas/api/responses.py:25:64: error: Missing named argument
"request_id" for "ResponseMetadata"  [call-arg]
    ...: ResponseMetadata = Field(default_factory=lambda: ResponseMetadata())
                                                          ^~~~~~~~~~~~~~~~~~
ciris_engine/schemas/api/responses.py:25:64: error: Missing named argument
"duration_ms" for "ResponseMetadata"  [call-arg]
    ...: ResponseMetadata = Field(default_factory=lambda: ResponseMetadata())
                                                          ^~~~~~~~~~~~~~~~~~
ciris_engine/schemas/api/responses.py:36:64: error: Missing named argument
"request_id" for "ResponseMetadata"  [call-arg]
    ...: ResponseMetadata = Field(default_factory=lambda: ResponseMetadata())
                                                          ^~~~~~~~~~~~~~~~~~
ciris_engine/schemas/api/responses.py:36:64: error: Missing named argument
"duration_ms" for "ResponseMetadata"  [call-arg]
    ...: ResponseMetadata = Field(default_factory=lambda: ResponseMetadata())
                                                          ^~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/mixins/request_metrics.py:46:5: error: Function is
missing a type annotation  [no-untyped-def]
        def __init__(self, *args, **kwargs):
        ^
ciris_engine/schemas/services/graph_typed_nodes.py:70:46: error: Incompatible
types in assignment (expression has type "dict[str, Any]", target has type
"str")  [assignment]
                        extra_data[field_name] = field_value.model_dump()
                                                 ^~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/schemas/services/infrastructure/resource_monitor.py:9:1: error:
Module "ciris_engine.schemas.services.resources_core" has no attribute
"ResourceUsage"  [attr-defined]
    from ciris_engine.schemas.services.resources_core import (
    ^
ciris_engine/schemas/services/authority/wa_updates.py:70:46: error: Function
"builtins.any" is not valid as a type  [valid-type]
        def get_update_fields(self) -> Dict[str, any]:
                                                 ^
ciris_engine/schemas/services/authority/wa_updates.py:70:46: note: Perhaps you meant "typing.Any" instead of "any"?
ciris_engine/schemas/processors/state_example.py:78:41: error: Item "None" of
"AgentState | None" has no attribute "value"  [union-attr]
                print(f"✓ Transitioned to {result.to_state.value}")
                                            ^~~~~~~~~~~~~~~~~~~~~~
ciris_engine/schemas/processors/state_example.py:90:13: error: Missing named
argument "metadata" for "StateTransitionRecord"  [call-arg]
                StateTransitionRecord(
                ^
ciris_engine/schemas/processors/state_example.py:95:13: error: Missing named
argument "metadata" for "StateTransitionRecord"  [call-arg]
                StateTransitionRecord(
                ^
ciris_engine/schemas/processors/state_example.py:108:32: error: Missing named
argument "exit_reason" for "StateMetadata"  [call-arg]
            current_state_metadata=StateMetadata(
                                   ^
ciris_engine/schemas/processors/state_example.py:131:18: error: Missing named
argument "blocking_reason" for "StateTransitionValidation"  [call-arg]
        validation = StateTransitionValidation(
                     ^
ciris_engine/schemas/processors/state_example.py:136:13: error: Missing named
argument "details" for "StateCondition"  [call-arg]
                StateCondition(
                ^
ciris_engine/schemas/api/wa.py:50:5: error: Function is missing a return type
annotation  [no-untyped-def]
        def serialize_timestamp(self, timestamp: datetime, _info):
        ^
ciris_engine/schemas/api/wa.py:50:5: error: Function is missing a type
annotation for one or more arguments  [no-untyped-def]
        def serialize_timestamp(self, timestamp: datetime, _info):
        ^
ciris_engine/schemas/api/wa.py:78:5: error: Function is missing a return type
annotation  [no-untyped-def]
        def serialize_timestamp(self, timestamp: datetime, _info):
        ^
ciris_engine/schemas/api/wa.py:78:5: error: Function is missing a type
annotation for one or more arguments  [no-untyped-def]
        def serialize_timestamp(self, timestamp: datetime, _info):
        ^
ciris_engine/logic/secrets/filter.py:34:53: error: Missing named argument
"enabled" for "SecretsDetectionConfig"  [call-arg]
    ...     self.detection_config = detection_config or SecretsDetectionConfi...
                                                        ^~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/secrets/filter.py:204:16: error: Unexpected keyword argument
"builtin_patterns" for "ConfigExport"; did you mean "builtin_patterns_enabled"? 
[call-arg]
            return ConfigExport(
                   ^
ciris_engine/logic/secrets/filter.py:204:16: error: Unexpected keyword argument
"default_patterns" for "ConfigExport"  [call-arg]
            return ConfigExport(
                   ^
ciris_engine/logic/secrets/filter.py:204:16: error: Unexpected keyword argument
"additional_config" for "ConfigExport"  [call-arg]
            return ConfigExport(
                   ^
ciris_engine/logic/secrets/filter.py:211:32: error: "SecretsDetectionConfig"
has no attribute "auto_redact"  [attr-defined]
                    'auto_redact': self.detection_config.auto_redact,
                                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/secrets/filter.py:212:37: error: "SecretsDetectionConfig"
has no attribute "audit_detections"  [attr-defined]
                    'audit_detections': self.detection_config.audit_detect...
                                        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/secrets/filter.py:222:29: error: "ConfigExport" has no
attribute "default_patterns"  [attr-defined]
            for pattern_dict in config.default_patterns:
                                ^~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/secrets/filter.py:230:22: error: "ConfigExport" has no
attribute "additional_config"  [attr-defined]
            additional = config.additional_config
                         ^~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/secrets/filter.py:231:33: error: Unexpected keyword argument
"auto_redact" for "SecretsDetectionConfig"  [call-arg]
            self.detection_config = SecretsDetectionConfig(
                                    ^
ciris_engine/logic/secrets/filter.py:231:33: error: Unexpected keyword argument
"audit_detections" for "SecretsDetectionConfig"  [call-arg]
            self.detection_config = SecretsDetectionConfig(
                                    ^
ciris_engine/logic/config/db_paths.py:22:18: error: Missing named argument
"log_level" for "EssentialConfig"  [call-arg]
            config = EssentialConfig()
                     ^~~~~~~~~~~~~~~~~
ciris_engine/logic/config/db_paths.py:22:18: error: Missing named argument
"debug_mode" for "EssentialConfig"  [call-arg]
            config = EssentialConfig()
                     ^~~~~~~~~~~~~~~~~
ciris_engine/logic/config/db_paths.py:22:18: error: Missing named argument
"template_directory" for "EssentialConfig"  [call-arg]
            config = EssentialConfig()
                     ^~~~~~~~~~~~~~~~~
ciris_engine/logic/config/db_paths.py:22:18: error: Missing named argument
"default_template" for "EssentialConfig"  [call-arg]
            config = EssentialConfig()
                     ^~~~~~~~~~~~~~~~~
ciris_engine/logic/config/db_paths.py:39:18: error: Missing named argument
"log_level" for "EssentialConfig"  [call-arg]
            config = EssentialConfig()
                     ^~~~~~~~~~~~~~~~~
ciris_engine/logic/config/db_paths.py:39:18: error: Missing named argument
"debug_mode" for "EssentialConfig"  [call-arg]
            config = EssentialConfig()
                     ^~~~~~~~~~~~~~~~~
ciris_engine/logic/config/db_paths.py:39:18: error: Missing named argument
"template_directory" for "EssentialConfig"  [call-arg]
            config = EssentialConfig()
                     ^~~~~~~~~~~~~~~~~
ciris_engine/logic/config/db_paths.py:39:18: error: Missing named argument
"default_template" for "EssentialConfig"  [call-arg]
            config = EssentialConfig()
                     ^~~~~~~~~~~~~~~~~
ciris_engine/logic/config/db_paths.py:56:18: error: Missing named argument
"log_level" for "EssentialConfig"  [call-arg]
            config = EssentialConfig()
                     ^~~~~~~~~~~~~~~~~
ciris_engine/logic/config/db_paths.py:56:18: error: Missing named argument
"debug_mode" for "EssentialConfig"  [call-arg]
            config = EssentialConfig()
                     ^~~~~~~~~~~~~~~~~
ciris_engine/logic/config/db_paths.py:56:18: error: Missing named argument
"template_directory" for "EssentialConfig"  [call-arg]
            config = EssentialConfig()
                     ^~~~~~~~~~~~~~~~~
ciris_engine/logic/config/db_paths.py:56:18: error: Missing named argument
"default_template" for "EssentialConfig"  [call-arg]
            config = EssentialConfig()
                     ^~~~~~~~~~~~~~~~~
ciris_engine/logic/audit/hash_chain.py:137:26: error: Missing named argument
"tampering_location" for "HashChainVerificationResult"  [call-arg]
                    result = HashChainVerificationResult(
                             ^
ciris_engine/logic/audit/hash_chain.py:176:26: error: Missing named argument
"tampering_location" for "HashChainVerificationResult"  [call-arg]
                    result = HashChainVerificationResult(
                             ^
ciris_engine/logic/audit/hash_chain.py:185:22: error: Missing named argument
"tampering_location" for "HashChainVerificationResult"  [call-arg]
                result = HashChainVerificationResult(
                         ^
ciris_engine/logic/audit/hash_chain.py:259:20: error: Missing named argument
"error" for "ChainSummary"  [call-arg]
                return ChainSummary(
                       ^
ciris_engine/schemas/services/trace_summary_node.py:190:24: error: Argument
"updated_by" to "TraceSummaryNode" has incompatible type "str | None"; expected
"str"  [arg-type]
                updated_by=node.updated_by,
                           ^~~~~~~~~~~~~~~
ciris_engine/schemas/services/trace_summary_node.py:191:24: error: Argument
"updated_at" to "TraceSummaryNode" has incompatible type "datetime | None";
expected "datetime"  [arg-type]
                updated_at=node.updated_at,
                           ^~~~~~~~~~~~~~~
ciris_engine/schemas/services/trace_summary_node.py:194:26: error: Argument
"period_start" to "TraceSummaryNode" has incompatible type "datetime | None";
expected "datetime"  [arg-type]
                period_start=cls._deserialize_datetime(attrs.get("period_s...
                             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/schemas/services/trace_summary_node.py:195:24: error: Argument
"period_end" to "TraceSummaryNode" has incompatible type "datetime | None";
expected "datetime"  [arg-type]
                period_end=cls._deserialize_datetime(attrs.get("period_end...
                           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/schemas/services/nodes.py:137:17: error: Returning Any from
function declared to return
"str | int | float | bool | list[str | int | float | bool] | dict[str, str | int | float | bool | list[Any] | dict[Any, Any] | None] | None"
 [no-any-return]
                    return field_value
                    ^~~~~~~~~~~~~~~~~~
ciris_engine/schemas/services/nodes.py:313:24: error: Argument "attributes" to
"IdentitySnapshot" has incompatible type "GraphNodeAttributes | dict[str, Any]";
expected "dict[Any, Any]"  [arg-type]
                attributes=node.attributes,
                           ^~~~~~~~~~~~~~~
ciris_engine/schemas/services/nodes.py:495:72: error: Incompatible types in
assignment (expression has type "GraphNodeAttributes | dict[str, Any] | None",
base class "GraphNode" defined the type as
"GraphNodeAttributes | dict[str, Any]")  [assignment]
    ...al[Union[GraphNodeAttributes, Dict[str, Any]]] = Field(default=None, d...
                                                        ^~~~~~~~~~~~~~~~~~~~~...
ciris_engine/schemas/services/correlation_node.py:20:1: error: Definition of
"updated_at" in base class "GraphNode" is incompatible with definition in base
class "ServiceCorrelation"  [misc]
    class CorrelationNode(TypedGraphNode, ServiceCorrelation):
    ^
ciris_engine/schemas/services/correlation_node.py:32:36: error:
"type[NodeType]" has no attribute "CORRELATION"  [attr-defined]
        type: NodeType = Field(default=NodeType.CORRELATION, description="...
                                       ^~~~~~~~~~~~~~~~~~~~
ciris_engine/schemas/services/correlation_node.py:37:5: error: Function is
missing a type annotation  [no-untyped-def]
        def __init__(self, **data):
        ^
ciris_engine/schemas/services/conversation_summary_node.py:171:24: error:
Argument "updated_by" to "ConversationSummaryNode" has incompatible type
"str | None"; expected "str"  [arg-type]
                updated_by=node.updated_by,
                           ^~~~~~~~~~~~~~~
ciris_engine/schemas/services/conversation_summary_node.py:172:24: error:
Argument "updated_at" to "ConversationSummaryNode" has incompatible type
"datetime | None"; expected "datetime"  [arg-type]
                updated_at=node.updated_at,
                           ^~~~~~~~~~~~~~~
ciris_engine/schemas/services/conversation_summary_node.py:175:26: error:
Argument "period_start" to "ConversationSummaryNode" has incompatible type
"datetime | None"; expected "datetime"  [arg-type]
                period_start=cls._deserialize_datetime(attrs.get("period_s...
                             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/schemas/services/conversation_summary_node.py:176:24: error:
Argument "period_end" to "ConversationSummaryNode" has incompatible type
"datetime | None"; expected "datetime"  [arg-type]
                period_end=cls._deserialize_datetime(attrs.get("period_end...
                           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/schemas/services/audit_summary_node.py:164:24: error: Argument
"updated_by" to "AuditSummaryNode" has incompatible type "str | None"; expected
"str"  [arg-type]
                updated_by=node.updated_by,
                           ^~~~~~~~~~~~~~~
ciris_engine/schemas/services/audit_summary_node.py:165:24: error: Argument
"updated_at" to "AuditSummaryNode" has incompatible type "datetime | None";
expected "datetime"  [arg-type]
                updated_at=node.updated_at,
                           ^~~~~~~~~~~~~~~
ciris_engine/schemas/services/audit_summary_node.py:168:26: error: Argument
"period_start" to "AuditSummaryNode" has incompatible type "datetime | None";
expected "datetime"  [arg-type]
                period_start=cls._deserialize_datetime(attrs.get("period_s...
                             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/schemas/services/audit_summary_node.py:169:24: error: Argument
"period_end" to "AuditSummaryNode" has incompatible type "datetime | None";
expected "datetime"  [arg-type]
                period_end=cls._deserialize_datetime(attrs.get("period_end...
                           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/utils/channel_utils.py:45:12: error: Missing named argument
"last_activity" for "ChannelContext"  [call-arg]
        return ChannelContext(
               ^
ciris_engine/logic/utils/channel_utils.py:45:12: error: Missing named argument
"message_count" for "ChannelContext"  [call-arg]
        return ChannelContext(
               ^
ciris_engine/logic/utils/channel_utils.py:45:12: error: Missing named argument
"moderation_level" for "ChannelContext"  [call-arg]
        return ChannelContext(
               ^
ciris_engine/logic/persistence/db/core.py:24:1: error: Function is missing a
type annotation  [no-untyped-def]
    def adapt_datetime(ts):
    ^
ciris_engine/logic/persistence/db/core.py:29:1: error: Function is missing a
type annotation  [no-untyped-def]
    def convert_datetime(val):
    ^
ciris_engine/logic/persistence/db/core.py:38:1: error: Function is missing a
return type annotation  [no-untyped-def]
    def _ensure_adapters_registered():
    ^
ciris_engine/logic/persistence/db/core.py:38:1: note: Use "-> None" if function does not return a value
ciris_engine/logic/dma/action_selection/action_instruction_generator.py:344:13: error:
Returning Any from function declared to return "str"  [no-any-return]
                return base_type
                ^~~~~~~~~~~~~~~~
ciris_engine/schemas/dma/core.py:90:27: error: "TelemetrySummary" has no
attribute "tokens_per_hour"; maybe "tokens_last_hour"?  [attr-defined]
                    "tokens": self.system_snapshot.telemetry_summary.token...
                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/schemas/dma/core.py:91:31: error: "TelemetrySummary" has no
attribute "cost_per_hour_cents"; maybe "cost_last_hour_cents"?  [attr-defined]
                    "cost_cents": self.system_snapshot.telemetry_summary.c...
                                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/schemas/dma/core.py:92:33: error: "TelemetrySummary" has no
attribute "carbon_per_hour_grams"; maybe "carbon_last_hour_grams" or
"carbon_24h_grams"?  [attr-defined]
                    "carbon_grams": self.system_snapshot.telemetry_summary...
                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/dma/action_selection/faculty_integration.py:47:32: error:
"EpistemicFaculty" has no attribute "evaluate"  [attr-defined]
                    result = await faculty.evaluate(content, minimal_conte...
                                   ^~~~~~~~~~~~~~~~
ciris_engine/logic/dma/action_selection/faculty_integration.py:56:32: error:
"EpistemicFaculty" has no attribute "evaluate"  [attr-defined]
                    result = await faculty.evaluate(content, context)
                                   ^~~~~~~~~~~~~~~~
ciris_engine/logic/dma/action_selection/faculty_integration.py:162:29: error:
Unsupported left operand type for + ("None")  [operator]
            updated_rationale = result.rationale + metadata_suffix
                                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/dma/action_selection/faculty_integration.py:162:29: note: Left operand is of type "str | None"
ciris_engine/logic/dma/action_selection/faculty_integration.py:164:16: error:
Missing named argument "raw_llm_response" for "ActionSelectionDMAResult" 
[call-arg]
            return ActionSelectionDMAResult(
                   ^
ciris_engine/logic/dma/action_selection/faculty_integration.py:164:16: error:
Missing named argument "reasoning" for "ActionSelectionDMAResult"  [call-arg]
            return ActionSelectionDMAResult(
                   ^
ciris_engine/logic/dma/action_selection/faculty_integration.py:164:16: error:
Missing named argument "evaluation_time_ms" for "ActionSelectionDMAResult" 
[call-arg]
            return ActionSelectionDMAResult(
                   ^
ciris_engine/protocols/services/graph/incident.py:45:5: error: Return type
"Coroutine[Any, Any, list[str]]" of "get_capabilities" incompatible with return
type "ServiceCapabilities" in supertype "ServiceProtocol"  [override]
        async def get_capabilities(self) -> List[str]:
        ^
ciris_engine/logic/adapters/api/services/auth_service.py:54:28: error:
Incompatible types in assignment (expression has type "None", variable has type
"datetime")  [assignment]
        created_at: datetime = None
                               ^~~~
ciris_engine/logic/adapters/api/routes/emergency.py:79:48: error: Incompatible
types in assignment (expression has type "list[str]", target has type
"str | None")  [assignment]
                message_data["target_tree_path"] = command.target_tree_pat...
                                                   ^~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/routes/emergency.py:194:14: error: Missing
named argument "verification_error" for "EmergencyShutdownStatus"  [call-arg]
        status = EmergencyShutdownStatus(
                 ^
ciris_engine/logic/adapters/api/routes/emergency.py:194:14: error: Missing
named argument "shutdown_initiated" for "EmergencyShutdownStatus"  [call-arg]
        status = EmergencyShutdownStatus(
                 ^
ciris_engine/logic/adapters/api/routes/emergency.py:194:14: error: Missing
named argument "data_persisted" for "EmergencyShutdownStatus"  [call-arg]
        status = EmergencyShutdownStatus(
                 ^
ciris_engine/logic/adapters/api/routes/emergency.py:194:14: error: Missing
named argument "final_message_sent" for "EmergencyShutdownStatus"  [call-arg]
        status = EmergencyShutdownStatus(
                 ^
ciris_engine/logic/adapters/api/routes/emergency.py:194:14: error: Missing
named argument "shutdown_completed" for "EmergencyShutdownStatus"  [call-arg]
        status = EmergencyShutdownStatus(
                 ^
ciris_engine/logic/adapters/api/routes/emergency.py:194:14: error: Missing
named argument "exit_code" for "EmergencyShutdownStatus"  [call-arg]
        status = EmergencyShutdownStatus(
                 ^
ciris_engine/logic/adapters/api/middleware/rate_limiter.py:69:5: error:
Function is missing a return type annotation  [no-untyped-def]
        async def _cleanup_old_entries(self):
        ^
ciris_engine/logic/adapters/api/middleware/rate_limiter.py:69:5: note: Use "-> None" if function does not return a value
ciris_engine/logic/adapters/api/middleware/rate_limiter.py:125:5: error:
Function is missing a return type annotation  [no-untyped-def]
        async def __call__(self, request: Request, call_next):
        ^
ciris_engine/logic/adapters/api/middleware/rate_limiter.py:125:5: error:
Function is missing a type annotation for one or more arguments 
[no-untyped-def]
        async def __call__(self, request: Request, call_next):
        ^
ciris_engine/logic/adapters/api/middleware/rate_limiter.py:139:32: error: Item
"None" of "Address | None" has no attribute "host"  [union-attr]
                client_id = f"auth_{request.client.host}"
                                   ^~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/middleware/rate_limiter.py:142:30: error: Item
"None" of "Address | None" has no attribute "host"  [union-attr]
                client_id = f"ip_{request.client.host}"
                                 ^~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/lifecycle/time.py:48:16: error: Missing named
argument "custom_metrics" for "ServiceStatus"  [call-arg]
            return ServiceStatus(
                   ^
ciris_engine/logic/secrets/store.py:449:26: error: Missing named argument
"source_ip" for "SecretAccessLog"  [call-arg]
                access_log = SecretAccessLog(
                             ^
ciris_engine/logic/secrets/store.py:449:26: error: Missing named argument
"user_agent" for "SecretAccessLog"  [call-arg]
                access_log = SecretAccessLog(
                             ^
ciris_engine/logic/secrets/store.py:449:26: error: Missing named argument
"action_context" for "SecretAccessLog"  [call-arg]
                access_log = SecretAccessLog(
                             ^
ciris_engine/logic/processors/support/state_manager.py:63:46: error: Missing
named argument "exit_reason" for "StateMetadata"  [call-arg]
            self.state_metadata[initial_state] = StateMetadata(
                                                 ^
ciris_engine/logic/processors/support/state_manager.py:79:18: error: Missing
named argument "metadata" for "StateTransitionRecord"  [call-arg]
            record = StateTransitionRecord(
                     ^
ciris_engine/logic/processors/support/state_manager.py:147:49: error: Missing
named argument "exit_reason" for "StateMetadata"  [call-arg]
                self.state_metadata[target_state] = StateMetadata(
                                                    ^
ciris_engine/logic/processors/support/state_manager.py:162:13: error: Missing
named argument "exit_reason" for "StateMetadata"  [call-arg]
                StateMetadata(entered_at=self.time_service.now_iso(), metr...
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/processors/support/state_manager.py:168:55: error: Missing
named argument "exit_reason" for "StateMetadata"  [call-arg]
                self.state_metadata[self.current_state] = StateMetadata(
                                                          ^
ciris_engine/logic/processors/support/state_manager.py:211:13: error: Missing
named argument "exit_reason" for "StateMetadata"  [call-arg]
                StateMetadata(entered_at=self.time_service.now_iso(), metr...
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/config/config_accessor.py:101:33: error: Subclass of
"EssentialConfig" and "dict[Any, Any]" cannot exist: would have incompatible
method signatures  [unreachable]
                    elif isinstance(value, dict):
                                    ^~~~~
ciris_engine/logic/config/config_accessor.py:102:21: error: Statement is
unreachable  [unreachable]
                        value = value.get(part)
                        ^~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/config/config_accessor.py:200:29: error: Subclass of
"EssentialConfig" and "dict[Any, Any]" cannot exist: would have incompatible
method signatures  [unreachable]
                elif isinstance(value, dict):
                                ^~~~~
ciris_engine/logic/config/config_accessor.py:201:17: error: Statement is
unreachable  [unreachable]
                    return value
                    ^~~~~~~~~~~~
ciris_engine/logic/adapters/api/dependencies/auth.py:20:5: error: Returning Any
from function declared to return "APIAuthService"  [no-any-return]
        return request.app.state.auth_service
        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/dependencies/auth.py:54:15: error: Missing
named argument "session_id" for "AuthContext"  [call-arg]
        context = AuthContext(
                  ^
ciris_engine/logic/adapters/api/dependencies/auth.py:54:15: error: Missing
named argument "request" for "AuthContext"  [call-arg]
        context = AuthContext(
                  ^
ciris_engine/logic/adapters/api/dependencies/auth.py:81:1: error: Function is
missing a return type annotation  [no-untyped-def]
    def require_role(minimum_role: UserRole):
    ^
ciris_engine/logic/adapters/api/dependencies/auth.py:113:1: error: Function is
missing a return type annotation  [no-untyped-def]
    def check_permissions(permissions: list[str]):
    ^
ciris_engine/logic/services/infrastructure/authentication.py:343:45: error:
Incompatible types in assignment (expression has type "dict[str, str]", target
has type "str")  [assignment]
                    update_kwargs['metadata'] = updates.metadata
                                                ^~~~~~~~~~~~~~~~
ciris_engine/logic/services/infrastructure/authentication.py:345:43: error:
Incompatible types in assignment (expression has type "bool", target has type
"str")  [assignment]
                    update_kwargs['active'] = updates.is_active
                                              ^~~~~~~~~~~~~~~~~
ciris_engine/logic/services/infrastructure/authentication.py:682:55: error:
Subclass of "TokenVerification" and "dict[Any, Any]" cannot exist: would have
incompatible method signatures  [unreachable]
    ...       wa_id = claims.get("wa_id") if isinstance(claims, dict) else ge...
                                                        ^~~~~~
ciris_engine/logic/services/infrastructure/authentication.py:699:104: error:
Subclass of "TokenVerification" and "dict[Any, Any]" cannot exist: would have
incompatible method signatures  [unreachable]
    ...ms.get("exp", 0), tz=timezone.utc) if isinstance(claims, dict) else se...
                                                        ^~~~~~
ciris_engine/logic/services/infrastructure/authentication.py:769:19: error:
Unexpected keyword argument "email" for "WACertificate"  [call-arg]
            wa_cert = WACertificate(
                      ^
ciris_engine/logic/services/infrastructure/authentication.py:769:19: error:
Unexpected keyword argument "active" for "WACertificate"  [call-arg]
            wa_cert = WACertificate(
                      ^
ciris_engine/logic/services/infrastructure/authentication.py:835:13: error:
Function is missing a type annotation  [no-untyped-def]
                async def async_wrapper(*args, **kwargs):
                ^
ciris_engine/logic/services/infrastructure/authentication.py:861:13: error:
Function is missing a type annotation  [no-untyped-def]
                def sync_wrapper(*args, **kwargs):
                ^
ciris_engine/logic/services/infrastructure/authentication.py:904:13: error:
Function is missing a type annotation  [no-untyped-def]
                async def async_wrapper(*args, **kwargs):
                ^
ciris_engine/logic/services/infrastructure/authentication.py:945:13: error:
Function is missing a type annotation  [no-untyped-def]
                def sync_wrapper(*args, **kwargs):
                ^
ciris_engine/logic/services/infrastructure/authentication.py:1152:23: error:
Incompatible types in assignment (expression has type "None", variable has type
"WACertificate")  [assignment]
                root_wa = None
                          ^~~~
ciris_engine/logic/services/infrastructure/authentication.py:1219:25: error:
Returning Any from function declared to return "dict[Any, Any] | None" 
[no-any-return]
                            return decoded
                            ^~~~~~~~~~~~~~
ciris_engine/logic/services/infrastructure/authentication.py:1284:13: error:
Statement is unreachable  [unreachable]
                uptime_seconds = (current_time - self._start_time).total_s...
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/services/infrastructure/authentication.py:1323:28: error:
Incompatible types in assignment (expression has type "datetime", variable has
type "None")  [assignment]
            self._start_time = self._time_service.now() if self._time_serv...
                               ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/secrets/service.py:588:31: error: No overload variant of
"__sub__" of "datetime" matches argument type "object"  [operator]
                uptime_seconds = (self._time_service.now() - self._start_t...
                                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/secrets/service.py:588:31: note: Possible overload variants:
ciris_engine/logic/secrets/service.py:588:31: note:     def __sub__(self, datetime, /) -> timedelta
ciris_engine/logic/secrets/service.py:588:31: note:     def __sub__(self, timedelta, /) -> datetime
ciris_engine/logic/secrets/service.py:590:16: error: Missing named argument
"custom_metrics" for "ServiceStatus"  [call-arg]
            return ServiceStatus(
                   ^
ciris_engine/logic/audit/verifier.py:53:20: error: Missing named argument
"chain_summary" for "CompleteVerificationResult"  [call-arg]
                return CompleteVerificationResult(
                       ^
ciris_engine/logic/audit/verifier.py:53:20: error: Missing named argument
"summary" for "CompleteVerificationResult"  [call-arg]
                return CompleteVerificationResult(
                       ^
ciris_engine/logic/audit/verifier.py:64:20: error: Missing named argument
"chain_summary" for "CompleteVerificationResult"  [call-arg]
                return CompleteVerificationResult(
                       ^
ciris_engine/logic/audit/verifier.py:64:20: error: Missing named argument
"error" for "CompleteVerificationResult"  [call-arg]
                return CompleteVerificationResult(
                       ^
ciris_engine/logic/audit/verifier.py:86:18: error: Missing named argument
"summary" for "CompleteVerificationResult"  [call-arg]
            result = CompleteVerificationResult(
                     ^
ciris_engine/logic/audit/verifier.py:86:18: error: Missing named argument
"error" for "CompleteVerificationResult"  [call-arg]
            result = CompleteVerificationResult(
                     ^
ciris_engine/logic/audit/verifier.py:123:24: error: Missing named argument
"signature_valid" for "EntryVerificationResult"  [call-arg]
                    return EntryVerificationResult(
                           ^
ciris_engine/logic/audit/verifier.py:123:24: error: Missing named argument
"entry_data" for "EntryVerificationResult"  [call-arg]
                    return EntryVerificationResult(
                           ^
ciris_engine/logic/audit/verifier.py:136:20: error: Missing named argument
"signature_valid" for "EntryVerificationResult"  [call-arg]
                return EntryVerificationResult(
                       ^
ciris_engine/logic/audit/verifier.py:136:20: error: Missing named argument
"entry_data" for "EntryVerificationResult"  [call-arg]
                return EntryVerificationResult(
                       ^
ciris_engine/logic/audit/verifier.py:158:81: error: Value of type
"HashChainVerificationResult" is not indexable  [index]
    ...ult.valid if hasattr(chain_result, 'valid') else chain_result["valid"]
                                                        ^~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/audit/verifier.py:159:105: error: Value of type
"HashChainVerificationResult" is not indexable  [index]
    ...if hasattr(chain_result, 'entries_checked') else chain_result["entries...
                                                        ^~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/audit/verifier.py:160:84: error:
"HashChainVerificationResult" has no attribute "get"  [attr-defined]
    ...t.errors if hasattr(chain_result, 'errors') else chain_result.get("err...
                                                        ^~~~~~~~~~~~~~~~
ciris_engine/logic/audit/verifier.py:163:35: error: Value of type
"SignatureVerificationResult" is not indexable  [index]
                valid=chain_valid and signature_result["valid"],
                                      ^~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/audit/verifier.py:168:30: error: Value of type
"SignatureVerificationResult" is not indexable  [index]
                signatures_valid=signature_result["valid"],
                                 ^~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/audit/verifier.py:169:35: error:
"SignatureVerificationResult" has no attribute "get"  [attr-defined]
                errors=chain_errors + signature_result.get("errors", []),
                                      ^~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/audit/verifier.py:206:16: error: Missing named argument
"entry_data" for "EntryVerificationResult"  [call-arg]
            return EntryVerificationResult(
                   ^
ciris_engine/logic/audit/verifier.py:292:20: error: Incompatible return value
type (got "dict[str, object]", expected "SignatureVerificationResult") 
[return-value]
                return {
                       ^
ciris_engine/logic/audit/verifier.py:301:20: error: Incompatible return value
type (got "dict[str, object]", expected "SignatureVerificationResult") 
[return-value]
                return {
                       ^
ciris_engine/logic/audit/verifier.py:385:20: error: Missing named argument
"message" for "RootAnchorVerificationResult"  [call-arg]
                return RootAnchorVerificationResult(
                       ^
ciris_engine/logic/audit/verifier.py:394:20: error: Missing named argument
"message" for "RootAnchorVerificationResult"  [call-arg]
                return RootAnchorVerificationResult(
                       ^
ciris_engine/logic/adapters/discord/discord_thread_manager.py:97:43: error:
Argument "auto_archive_duration" to "create_thread" of "PartialMessage" has
incompatible type "int"; expected "Literal[60, 1440, 4320, 10080]"  [arg-type]
                        auto_archive_duration=self.auto_archive_duration
                                              ^~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_thread_manager.py:103:43: error:
Argument "auto_archive_duration" to "create_thread" of "TextChannel" has
incompatible type "int"; expected "Literal[60, 1440, 4320, 10080]"  [arg-type]
                        auto_archive_duration=self.auto_archive_duration,
                                              ^~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_thread_manager.py:114:31: error:
Item "None" of "TimeServiceProtocol | None" has no attribute "now"  [union-attr]
                    "created_at": self._time_service.now(),
                                  ^~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_thread_manager.py:182:61: error:
Argument "embed" to "send" of "Messageable" has incompatible type
"Embed | None"; expected "Embed"  [arg-type]
                return await thread.send(content=content, embed=embed)
                                                                ^~~~~
ciris_engine/logic/adapters/discord/discord_thread_manager.py:257:23: error:
Item "None" of "TimeServiceProtocol | None" has no attribute "now"  [union-attr]
            cutoff_time = self._time_service.now() - timedelta(hours=hours...
                          ^~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_reaction_handler.py:96:34: error:
Item "ForumChannel" of
"VoiceChannel | StageChannel | ForumChannel | TextChannel | CategoryChannel | Thread | PrivateChannel"
has no attribute "send"  [union-attr]
                sent_message = await channel.send(message)
                                     ^~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_reaction_handler.py:96:34: error:
Item "CategoryChannel" of
"VoiceChannel | StageChannel | ForumChannel | TextChannel | CategoryChannel | Thread | PrivateChannel"
has no attribute "send"  [union-attr]
                sent_message = await channel.send(message)
                                     ^~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_reaction_handler.py:96:34: error:
Item "PrivateChannel" of
"VoiceChannel | StageChannel | ForumChannel | TextChannel | CategoryChannel | Thread | PrivateChannel"
has no attribute "send"  [union-attr]
                sent_message = await channel.send(message)
                                     ^~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_reaction_handler.py:152:32: error:
Item "None" of "TimeServiceProtocol | None" has no attribute "now"  [union-attr]
            approval.resolved_at = self._time_service.now()
                                   ^~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_reaction_handler.py:187:36: error:
Item "None" of "TimeServiceProtocol | None" has no attribute "now"  [union-attr]
                approval.resolved_at = self._time_service.now()
                                       ^~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_reaction_handler.py:215:29: error:
Item "ForumChannel" of
"VoiceChannel | StageChannel | ForumChannel | TextChannel | CategoryChannel | Thread | PrivateChannel"
has no attribute "fetch_message"  [union-attr]
                message = await channel.fetch_message(approval.message_id)
                                ^~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_reaction_handler.py:215:29: error:
Item "CategoryChannel" of
"VoiceChannel | StageChannel | ForumChannel | TextChannel | CategoryChannel | Thread | PrivateChannel"
has no attribute "fetch_message"  [union-attr]
                message = await channel.fetch_message(approval.message_id)
                                ^~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_reaction_handler.py:215:29: error:
Item "PrivateChannel" of
"VoiceChannel | StageChannel | ForumChannel | TextChannel | CategoryChannel | Thread | PrivateChannel"
has no attribute "fetch_message"  [union-attr]
                message = await channel.fetch_message(approval.message_id)
                                ^~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_guidance_handler.py:81:55: error:
Argument 1 to "search" of "MemoryServiceProtocol" has incompatible type
"dict[str, str]"; expected "str"  [arg-type]
                nodes = await self._memory_service.search(query)
                                                          ^~~~~
ciris_engine/logic/adapters/discord/discord_guidance_handler.py:213:23: error:
Item "None" of "TimeServiceProtocol | None" has no attribute "now"  [union-attr]
                timestamp=self._time_service.now()
                          ^~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_guidance_handler.py:260:31: error:
Item "None" of "TimeServiceProtocol | None" has no attribute "now_iso" 
[union-attr]
                f"**Timestamp:** {self._time_service.now_iso()}"
                                  ^~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_connection_manager.py:113:31: error:
Item "None" of "TimeServiceProtocol | None" has no attribute "now"  [union-attr]
            self.last_connected = self._time_service.now()
                                  ^~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_connection_manager.py:113:31: error:
Incompatible types in assignment (expression has type "datetime | Any", variable
has type "None")  [assignment]
            self.last_connected = self._time_service.now()
                                  ^~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_connection_manager.py:130:34: error:
Item "None" of "TimeServiceProtocol | None" has no attribute "now"  [union-attr]
            self.last_disconnected = self._time_service.now()
                                     ^~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_connection_manager.py:130:34: error:
Incompatible types in assignment (expression has type "datetime | Any", variable
has type "None")  [assignment]
            self.last_disconnected = self._time_service.now()
                                     ^~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_connection_manager.py:287:17: error:
Dict entry 2 has incompatible type "str": "float"; expected "str":
"int | str | None"  [dict-item]
                    "latency_ms": self.client.latency * 1000
                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_audit.py:82:19: error: Unexpected
keyword argument "action" for "log_action" of "AuditServiceProtocol"  [call-arg]
                await self._audit_service.log_action(
                      ^
ciris_engine/protocols/services/graph/audit.py:17:5: note: "log_action" of "AuditServiceProtocol" defined here
ciris_engine/logic/adapters/discord/discord_audit.py:82:19: error: Unexpected
keyword argument "actor" for "log_action" of "AuditServiceProtocol"  [call-arg]
                await self._audit_service.log_action(
                      ^
ciris_engine/protocols/services/graph/audit.py:17:5: note: "log_action" of "AuditServiceProtocol" defined here
ciris_engine/logic/adapters/discord/discord_audit.py:85:25: error: Argument
"context" to "log_action" of "AuditServiceProtocol" has incompatible type
"AuditEntryContext"; expected "AuditActionContext"  [arg-type]
                    context=audit_context
                            ^~~~~~~~~~~~~
ciris_engine/logic/adapters/api/routes/wa.py:30:1: error: Function is missing a
return type annotation  [no-untyped-def]
    async def get_deferrals(
    ^
ciris_engine/logic/adapters/api/routes/wa.py:48:23: error: Missing named
argument "details" for "ErrorDetail"  [call-arg]
                    error=ErrorDetail(
                          ^
ciris_engine/logic/adapters/api/routes/wa.py:84:23: error: Missing named
argument "details" for "ErrorDetail"  [call-arg]
                    error=ErrorDetail(
                          ^
ciris_engine/logic/adapters/api/routes/wa.py:95:1: error: Function is missing a
return type annotation  [no-untyped-def]
    async def resolve_deferral(
    ^
ciris_engine/logic/adapters/api/routes/wa.py:115:23: error: Missing named
argument "details" for "ErrorDetail"  [call-arg]
                    error=ErrorDetail(
                          ^
ciris_engine/logic/adapters/api/routes/wa.py:141:27: error: Missing named
argument "details" for "ErrorDetail"  [call-arg]
                        error=ErrorDetail(
                              ^
ciris_engine/logic/adapters/api/routes/wa.py:168:23: error: Missing named
argument "details" for "ErrorDetail"  [call-arg]
                    error=ErrorDetail(
                          ^
ciris_engine/logic/adapters/api/routes/wa.py:179:1: error: Function is missing
a return type annotation  [no-untyped-def]
    async def get_permissions(
    ^
ciris_engine/logic/adapters/api/routes/wa.py:198:23: error: Missing named
argument "details" for "ErrorDetail"  [call-arg]
                    error=ErrorDetail(
                          ^
ciris_engine/logic/adapters/api/routes/wa.py:226:23: error: Missing named
argument "details" for "ErrorDetail"  [call-arg]
                    error=ErrorDetail(
                          ^
ciris_engine/logic/adapters/api/routes/wa.py:235:1: error: Function is missing
a return type annotation  [no-untyped-def]
    async def get_wa_status(
    ^
ciris_engine/logic/adapters/api/routes/wa.py:254:23: error: Missing named
argument "details" for "ErrorDetail"  [call-arg]
                    error=ErrorDetail(
                          ^
ciris_engine/logic/adapters/api/routes/wa.py:292:23: error: Missing named
argument "details" for "ErrorDetail"  [call-arg]
                    error=ErrorDetail(
                          ^
ciris_engine/logic/adapters/api/routes/wa.py:301:1: error: Function is missing
a return type annotation  [no-untyped-def]
    async def request_guidance(
    ^
ciris_engine/logic/adapters/api/routes/wa.py:320:23: error: Missing named
argument "details" for "ErrorDetail"  [call-arg]
                    error=ErrorDetail(
                          ^
ciris_engine/logic/adapters/api/routes/wa.py:369:23: error: Missing named
argument "details" for "ErrorDetail"  [call-arg]
                    error=ErrorDetail(
                          ^
ciris_engine/logic/adapters/api/routes/users.py:94:1: error: Function is
missing a return type annotation  [no-untyped-def]
    async def list_users(
    ^
ciris_engine/logic/adapters/api/routes/users.py:152:1: error: Function is
missing a return type annotation  [no-untyped-def]
    async def create_user(
    ^
ciris_engine/logic/adapters/api/routes/users.py:189:1: error: Function is
missing a return type annotation  [no-untyped-def]
    async def get_user(
    ^
ciris_engine/logic/adapters/api/routes/users.py:231:1: error: Function is
missing a return type annotation  [no-untyped-def]
    async def update_user(
    ^
ciris_engine/logic/adapters/api/routes/users.py:266:1: error: Function is
missing a return type annotation  [no-untyped-def]
    async def change_password(
    ^
ciris_engine/logic/adapters/api/routes/users.py:306:1: error: Function is
missing a return type annotation  [no-untyped-def]
    async def mint_wise_authority(
    ^
ciris_engine/logic/adapters/api/routes/users.py:328:5: error: Statement is
unreachable  [unreachable]
        if request.wa_role == WARole.ROOT:
        ^
ciris_engine/logic/adapters/api/routes/users.py:362:1: error: Function is
missing a return type annotation  [no-untyped-def]
    async def deactivate_user(
    ^
ciris_engine/logic/adapters/api/routes/users.py:389:1: error: Function is
missing a return type annotation  [no-untyped-def]
    async def list_user_api_keys(
    ^
ciris_engine/logic/adapters/api/routes/telemetry_metrics.py:13:1: error:
Function is missing a return type annotation  [no-untyped-def]
    async def get_metric_detail(
    ^
ciris_engine/logic/adapters/api/routes/telemetry.py:177:16: error: Unexpected
keyword argument "tokens_per_hour" for "SystemOverview"; did you mean
"tokens_last_hour"?  [call-arg]
        overview = SystemOverview(
                   ^
ciris_engine/logic/adapters/api/routes/telemetry.py:177:16: error: Unexpected
keyword argument "cost_per_hour_cents" for "SystemOverview"; did you mean
"cost_last_hour_cents"?  [call-arg]
        overview = SystemOverview(
                   ^
ciris_engine/logic/adapters/api/routes/telemetry.py:177:16: error: Unexpected
keyword argument "carbon_per_hour_grams" for "SystemOverview"; did you mean
"carbon_last_hour_grams" or "carbon_24h_grams"?  [call-arg]
        overview = SystemOverview(
                   ^
ciris_engine/logic/adapters/api/routes/telemetry_logs_reader.py:23:5: error:
Name "LogEntry" already defined (possibly by an import)  [no-redef]
        class LogEntry(BaseModel):
        ^
ciris_engine/logic/adapters/api/routes/telemetry_logs_reader.py:114:5: error:
Function is missing a type annotation for one or more arguments 
[no-untyped-def]
        def _tail(self, file_obj, num_lines: int) -> List[str]:
        ^
ciris_engine/logic/adapters/api/routes/telemetry_logs_reader.py:125:9: error:
Need type annotation for "lines" (hint: "lines: list[<type>] = ...") 
[var-annotated]
            lines = []
            ^~~~~
ciris_engine/logic/adapters/api/routes/system_extensions.py:25:1: error:
Function is missing a return type annotation  [no-untyped-def]
    async def get_processing_queue_status(
    ^
ciris_engine/logic/adapters/api/routes/system_extensions.py:59:1: error:
Function is missing a return type annotation  [no-untyped-def]
    async def single_step_processor(
    ^
ciris_engine/logic/adapters/api/routes/system_extensions.py:105:1: error:
Function is missing a return type annotation  [no-untyped-def]
    async def get_service_health_details(
    ^
ciris_engine/logic/adapters/api/routes/system_extensions.py:131:1: error:
Function is missing a return type annotation  [no-untyped-def]
    async def update_service_priority(
    ^
ciris_engine/logic/adapters/api/routes/system_extensions.py:169:1: error:
Function is missing a return type annotation  [no-untyped-def]
    async def reset_service_circuit_breakers(
    ^
ciris_engine/logic/adapters/api/routes/system_extensions.py:197:1: error:
Function is missing a return type annotation  [no-untyped-def]
    async def get_service_selection_explanation(
    ^
ciris_engine/logic/adapters/api/routes/system_extensions.py:233:1: error:
Function is missing a return type annotation  [no-untyped-def]
    async def get_processor_states(
    ^
ciris_engine/logic/adapters/api/routes/system.py:1008:22: error: Argument
"metadata" to "SuccessResponse" has incompatible type "dict[str, object]";
expected "ResponseMetadata"  [arg-type]
                metadata={
                         ^
ciris_engine/logic/adapters/api/routes/config.py:29:5: error: Function is
missing a return type annotation  [no-untyped-def]
        def serialize_updated_at(self, updated_at: datetime, _info):
        ^
ciris_engine/logic/adapters/api/routes/config.py:29:5: error: Function is
missing a type annotation for one or more arguments  [no-untyped-def]
        def serialize_updated_at(self, updated_at: datetime, _info):
        ^
ciris_engine/logic/adapters/api/routes/config.py:45:1: error: Function is
missing a return type annotation  [no-untyped-def]
    async def list_configs(
    ^
ciris_engine/logic/adapters/api/routes/config.py:95:1: error: Function is
missing a return type annotation  [no-untyped-def]
    async def get_config(
    ^
ciris_engine/logic/adapters/api/routes/config.py:136:1: error: Function is
missing a return type annotation  [no-untyped-def]
    async def update_config(
    ^
ciris_engine/logic/adapters/api/routes/config.py:166:9: error: Need type
annotation for "_errors" (hint: "_errors: list[<type>] = ...")  [var-annotated]
            _errors = []
            ^~~~~~~
ciris_engine/logic/adapters/api/routes/config.py:167:9: error: Need type
annotation for "_warnings" (hint: "_warnings: list[<type>] = ...") 
[var-annotated]
            _warnings = []
            ^~~~~~~~~
ciris_engine/logic/adapters/api/routes/config.py:200:1: error: Function is
missing a return type annotation  [no-untyped-def]
    async def delete_config(
    ^
ciris_engine/logic/adapters/api/routes/auth.py:45:1: error: Function is missing
a return type annotation  [no-untyped-def]
    async def login(
    ^
ciris_engine/logic/adapters/api/routes/auth.py:113:1: error: Function is
missing a return type annotation  [no-untyped-def]
    async def logout(
    ^
ciris_engine/logic/adapters/api/routes/auth.py:131:1: error: Function is
missing a return type annotation  [no-untyped-def]
    async def get_current_user(
    ^
ciris_engine/logic/adapters/api/routes/auth.py:164:1: error: Function is
missing a return type annotation  [no-untyped-def]
    async def refresh_token(
    ^
ciris_engine/logic/adapters/api/routes/auth.py:222:1: error: Function is
missing a return type annotation  [no-untyped-def]
    async def list_oauth_providers(
    ^
ciris_engine/logic/adapters/api/routes/auth.py:262:1: error: Function is
missing a return type annotation  [no-untyped-def]
    async def configure_oauth_provider(
    ^
ciris_engine/logic/adapters/api/routes/auth.py:318:1: error: Function is
missing a return type annotation  [no-untyped-def]
    async def oauth_login(
    ^
ciris_engine/logic/adapters/api/routes/auth.py:410:1: error: Function is
missing a return type annotation  [no-untyped-def]
    async def oauth_callback(
    ^
ciris_engine/logic/adapters/api/routes/audit.py:35:5: error: Function is
missing a return type annotation  [no-untyped-def]
        def serialize_timestamp(self, timestamp: datetime, _info):
        ^
ciris_engine/logic/adapters/api/routes/audit.py:35:5: error: Function is
missing a type annotation for one or more arguments  [no-untyped-def]
        def serialize_timestamp(self, timestamp: datetime, _info):
        ^
ciris_engine/logic/adapters/api/routes/audit.py:66:19: error: Subclass of
"AuditEntryContext" and "dict[Any, Any]" cannot exist: would have incompatible
method signatures  [unreachable]
        if isinstance(ctx, dict):
                      ^~~
ciris_engine/logic/adapters/api/routes/audit.py:67:9: error: Statement is
unreachable  [unreachable]
            context = AuditContext(
            ^
ciris_engine/logic/adapters/api/routes/audit.py:100:19: error: Incompatible
types in assignment (expression has type "AuditEntryContext", variable has type
"AuditContext")  [assignment]
            context = ctx
                      ^~~
ciris_engine/logic/adapters/api/routes/audit.py:117:5: error: Returning Any
from function declared to return "AuditServiceProtocol"  [no-any-return]
        return audit_service
        ^~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/routes/audit.py:122:1: error: Function is
missing a return type annotation  [no-untyped-def]
    async def query_audit_entries(
    ^
ciris_engine/logic/adapters/api/routes/audit.py:186:1: error: Function is
missing a return type annotation  [no-untyped-def]
    async def get_audit_entry(
    ^
ciris_engine/logic/adapters/api/routes/audit.py:207:17: error: Missing named
argument "start_time" for "AuditQuery"  [call-arg]
            query = AuditQuery(
                    ^
ciris_engine/logic/adapters/api/routes/audit.py:207:17: error: Missing named
argument "end_time" for "AuditQuery"  [call-arg]
            query = AuditQuery(
                    ^
ciris_engine/logic/adapters/api/routes/audit.py:207:17: error: Missing named
argument "event_type" for "AuditQuery"  [call-arg]
            query = AuditQuery(
                    ^
ciris_engine/logic/adapters/api/routes/audit.py:207:17: error: Missing named
argument "actor" for "AuditQuery"  [call-arg]
            query = AuditQuery(
                    ^
ciris_engine/logic/adapters/api/routes/audit.py:207:17: error: Missing named
argument "entity_id" for "AuditQuery"  [call-arg]
            query = AuditQuery(
                    ^
ciris_engine/logic/adapters/api/routes/audit.py:207:17: error: Missing named
argument "outcome" for "AuditQuery"  [call-arg]
            query = AuditQuery(
                    ^
ciris_engine/logic/adapters/api/routes/audit.py:207:17: error: Missing named
argument "severity" for "AuditQuery"  [call-arg]
            query = AuditQuery(
                    ^
ciris_engine/logic/adapters/api/routes/audit.py:207:17: error: Missing named
argument "search_text" for "AuditQuery"  [call-arg]
            query = AuditQuery(
                    ^
ciris_engine/logic/adapters/api/routes/audit.py:207:17: error: Missing named
argument "offset" for "AuditQuery"  [call-arg]
            query = AuditQuery(
                    ^
ciris_engine/logic/adapters/api/routes/audit.py:237:20: error: Missing named
argument "verification" for "AuditEntryDetailResponse"  [call-arg]
            response = AuditEntryDetailResponse(
                       ^
ciris_engine/logic/adapters/api/routes/audit.py:237:20: error: Missing named
argument "chain_position" for "AuditEntryDetailResponse"  [call-arg]
            response = AuditEntryDetailResponse(
                       ^
ciris_engine/logic/adapters/api/routes/audit.py:237:20: error: Missing named
argument "next_entry_id" for "AuditEntryDetailResponse"  [call-arg]
            response = AuditEntryDetailResponse(
                       ^
ciris_engine/logic/adapters/api/routes/audit.py:237:20: error: Missing named
argument "previous_entry_id" for "AuditEntryDetailResponse"  [call-arg]
            response = AuditEntryDetailResponse(
                       ^
ciris_engine/logic/adapters/api/routes/audit.py:275:1: error: Function is
missing a return type annotation  [no-untyped-def]
    async def search_audit_trails(
    ^
ciris_engine/logic/adapters/api/routes/audit.py:310:1: error: Function is
missing a return type annotation  [no-untyped-def]
    async def verify_audit_entry(
    ^
ciris_engine/logic/adapters/api/routes/audit.py:333:1: error: Function is
missing a return type annotation  [no-untyped-def]
    async def export_audit_data(
    ^
ciris_engine/logic/adapters/api/routes/audit.py:358:29: error: Unexpected
keyword argument "start_time" for "export_audit_data" of "AuditServiceProtocol";
did you mean "start_date"?  [call-arg]
            export_data = await audit_service.export_audit_data(
                                ^
ciris_engine/protocols/services/graph/audit.py:71:5: note: "export_audit_data" of "AuditServiceProtocol" defined here
ciris_engine/logic/adapters/api/routes/audit.py:358:29: error: Unexpected
keyword argument "end_time" for "export_audit_data" of "AuditServiceProtocol" 
[call-arg]
            export_data = await audit_service.export_audit_data(
                                ^
ciris_engine/protocols/services/graph/audit.py:71:5: note: "export_audit_data" of "AuditServiceProtocol" defined here
ciris_engine/logic/utils/incident_capture_handler.py:19:5: error: Function is
missing a type annotation for one or more arguments  [no-untyped-def]
        def __init__(self, log_dir: str = "logs", filename_prefix: str = "...
        ^
ciris_engine/logic/utils/incident_capture_handler.py:19:119: error:
Incompatible default for argument "time_service" (default has type "None",
argument has type "TimeServiceProtocol")  [assignment]
    ..."incidents", time_service: TimeServiceProtocol = None, graph_audit_ser...
                                                        ^~~~
ciris_engine/logic/utils/incident_capture_handler.py:19:119: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
ciris_engine/logic/utils/incident_capture_handler.py:19:119: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
ciris_engine/logic/utils/incident_capture_handler.py:111:24: error: Missing
named argument "attributes" for "IncidentNode"  [call-arg]
                incident = IncidentNode(
                           ^
ciris_engine/logic/utils/incident_capture_handler.py:111:24: error: Missing
named argument "updated_by" for "IncidentNode"  [call-arg]
                incident = IncidentNode(
                           ^
ciris_engine/logic/utils/incident_capture_handler.py:111:24: error: Missing
named argument "updated_at" for "IncidentNode"  [call-arg]
                incident = IncidentNode(
                           ^
ciris_engine/logic/utils/incident_capture_handler.py:111:24: error: Missing
named argument "detection_method" for "IncidentNode"  [call-arg]
                incident = IncidentNode(
                           ^
ciris_engine/logic/utils/incident_capture_handler.py:111:24: error: Missing
named argument "resolved_at" for "IncidentNode"  [call-arg]
                incident = IncidentNode(
                           ^
ciris_engine/logic/utils/incident_capture_handler.py:111:24: error: Missing
named argument "problem_id" for "IncidentNode"  [call-arg]
                incident = IncidentNode(
                           ^
ciris_engine/logic/utils/incident_capture_handler.py:132:32: error: Item "None"
of "type[BaseException] | None" has no attribute "__name__"  [union-attr]
                    exception_type=record.exc_info[0].__name__ if record.e...
                                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/utils/incident_capture_handler.py:168:1: error: Function is
missing a type annotation for one or more arguments  [no-untyped-def]
    def add_incident_capture_handler(logger_instance: Optional[logging.Log...
    ^
ciris_engine/logic/utils/incident_capture_handler.py:171:68: error:
Incompatible default for argument "time_service" (default has type "None",
argument has type "TimeServiceProtocol")  [assignment]
    ...                             time_service: TimeServiceProtocol = None,
                                                                        ^~~~
ciris_engine/logic/utils/incident_capture_handler.py:171:68: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
ciris_engine/logic/utils/incident_capture_handler.py:171:68: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
ciris_engine/logic/utils/context_utils.py:114:24: error: Missing named argument
"wa_context" for "DispatchContext"  [call-arg]
        dispatch_context = DispatchContext(
                           ^
ciris_engine/logic/utils/context_utils.py:114:24: error: Missing named argument
"epistemic_data" for "DispatchContext"  [call-arg]
        dispatch_context = DispatchContext(
                           ^
ciris_engine/logic/utils/context_utils.py:114:24: error: Missing named argument
"span_id" for "DispatchContext"  [call-arg]
        dispatch_context = DispatchContext(
                           ^
ciris_engine/logic/utils/context_utils.py:114:24: error: Missing named argument
"trace_id" for "DispatchContext"  [call-arg]
        dispatch_context = DispatchContext(
                           ^
ciris_engine/logic/services/tools/secrets_tool_service.py:56:22: error: Missing
named argument "data" for "ToolResult"  [call-arg]
                result = ToolResult(
                         ^
ciris_engine/logic/services/tools/secrets_tool_service.py:78:24: error: Missing
named argument "data" for "ToolResult"  [call-arg]
                    return ToolResult(success=False, error="secret_uuid is...
                           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/services/tools/secrets_tool_service.py:81:23: error: Missing
named argument "channel_id" for "SecretContext"  [call-arg]
                context = SecretContext(
                          ^
ciris_engine/logic/services/tools/secrets_tool_service.py:81:23: error: Missing
named argument "user_id" for "SecretContext"  [call-arg]
                context = SecretContext(
                          ^
ciris_engine/logic/services/tools/secrets_tool_service.py:89:25: error:
"SecretsService" has no attribute "retrieve"  [attr-defined]
                    value = self.secrets_service.retrieve(secret_uuid, con...
                            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/tools/secrets_tool_service.py:91:28: error: Missing
named argument "data" for "ToolResult"  [call-arg]
                        return ToolResult(success=False, error=f"Secret {s...
                               ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/services/tools/secrets_tool_service.py:95:26: error:
"SecretsStore" has no attribute "get_secret"; maybe "delete_secret"? 
[attr-defined]
                    secret = self.secrets_service.store.get_secret(secret_...
                             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/tools/secrets_tool_service.py:97:28: error: Missing
named argument "data" for "ToolResult"  [call-arg]
                        return ToolResult(success=False, error=f"Secret {s...
                               ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/services/tools/secrets_tool_service.py:104:20: error:
Missing named argument "error" for "ToolResult"  [call-arg]
                return ToolResult(
                       ^
ciris_engine/logic/services/tools/secrets_tool_service.py:111:20: error:
Missing named argument "data" for "ToolResult"  [call-arg]
                return ToolResult(success=False, error=str(e))
                       ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/tools/secrets_tool_service.py:118:24: error:
Missing named argument "data" for "ToolResult"  [call-arg]
                    return ToolResult(success=False, error="operation is r...
                           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/services/tools/secrets_tool_service.py:126:28: error:
Missing named argument "data" for "ToolResult"  [call-arg]
                        return ToolResult(success=False, error="pattern is...
                               ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/services/tools/secrets_tool_service.py:128:17: error: Too
many arguments for "add_pattern" of "SecretsFilter"  [call-arg]
                    self.secrets_service.filter.add_pattern(pattern, patte...
                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/services/tools/secrets_tool_service.py:128:17: error: Value
of type "Coroutine[Any, Any, bool]" must be used  [unused-coroutine]
                    self.secrets_service.filter.add_pattern(pattern, patte...
                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/services/tools/secrets_tool_service.py:128:17: note: Are you missing an await?
ciris_engine/logic/services/tools/secrets_tool_service.py:134:28: error:
Missing named argument "data" for "ToolResult"  [call-arg]
                        return ToolResult(success=False, error="pattern is...
                               ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/services/tools/secrets_tool_service.py:136:17: error: Value
of type "Coroutine[Any, Any, bool]" must be used  [unused-coroutine]
                    self.secrets_service.filter.remove_pattern(pattern)
                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/tools/secrets_tool_service.py:136:17: note: Are you missing an await?
ciris_engine/logic/services/tools/secrets_tool_service.py:140:28: error:
"SecretsFilter" has no attribute "list_patterns"  [attr-defined]
                    patterns = self.secrets_service.filter.list_patterns()
                               ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/tools/secrets_tool_service.py:145:17: error:
"SecretsFilter" has no attribute "enabled"  [attr-defined]
                    self.secrets_service.filter.enabled = enabled
                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/tools/secrets_tool_service.py:149:24: error:
Missing named argument "data" for "ToolResult"  [call-arg]
                    return ToolResult(success=False, error=f"Unknown opera...
                           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/services/tools/secrets_tool_service.py:151:20: error:
Missing named argument "error" for "ToolResult"  [call-arg]
                return ToolResult(success=True, data=result_data)
                       ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/tools/secrets_tool_service.py:155:20: error:
Missing named argument "data" for "ToolResult"  [call-arg]
                return ToolResult(success=False, error=str(e))
                       ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/tools/secrets_tool_service.py:163:24: error:
Missing named argument "data" for "ToolResult"  [call-arg]
                    return ToolResult(
                           ^
ciris_engine/logic/services/tools/secrets_tool_service.py:170:20: error:
Missing named argument "error" for "ToolResult"  [call-arg]
                return ToolResult(
                       ^
ciris_engine/logic/services/tools/secrets_tool_service.py:181:20: error:
Missing named argument "data" for "ToolResult"  [call-arg]
                return ToolResult(success=False, error=str(e))
                       ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/tools/secrets_tool_service.py:190:20: error:
Missing named argument "cost" for "ToolInfo"  [call-arg]
                return ToolInfo(
                       ^
ciris_engine/logic/services/tools/secrets_tool_service.py:206:20: error:
Missing named argument "cost" for "ToolInfo"  [call-arg]
                return ToolInfo(
                       ^
ciris_engine/logic/services/tools/secrets_tool_service.py:227:20: error:
Missing named argument "cost" for "ToolInfo"  [call-arg]
                return ToolInfo(
                       ^
ciris_engine/logic/services/tools/secrets_tool_service.py:303:16: error:
Missing named argument "custom_metrics" for "ServiceStatus"  [call-arg]
            return ServiceStatus(
                   ^
ciris_engine/logic/services/runtime/llm_service.py:40:67: error: Module "os"
does not explicitly export attribute "sys"  [attr-defined]
    ...f os.environ.get('MOCK_LLM') or '--mock-llm' in ' '.join(os.sys.argv):
                                                                ^~~~~~
ciris_engine/logic/services/runtime/llm_service.py:137:16: error: Missing named
argument "metadata" for "ServiceCapabilities"  [call-arg]
            return ServiceCapabilities(
                   ^
ciris_engine/logic/services/runtime/llm_service.py:194:16: error: Missing named
argument "last_health_check" for "ServiceStatus"  [call-arg]
            return ServiceStatus(
                   ^
ciris_engine/logic/services/runtime/llm_service.py:231:20: error: Missing named
argument "error" for "JSONExtractionResult"  [call-arg]
                return JSONExtractionResult(
                       ^
ciris_engine/logic/services/runtime/llm_service.py:231:20: error: Missing named
argument "raw_content" for "JSONExtractionResult"  [call-arg]
                return JSONExtractionResult(
                       ^
ciris_engine/logic/services/runtime/llm_service.py:238:24: error: Missing named
argument "error" for "JSONExtractionResult"  [call-arg]
                    return JSONExtractionResult(
                           ^
ciris_engine/logic/services/runtime/llm_service.py:238:24: error: Missing named
argument "raw_content" for "JSONExtractionResult"  [call-arg]
                    return JSONExtractionResult(
                           ^
ciris_engine/logic/services/runtime/llm_service.py:243:24: error: Missing named
argument "data" for "JSONExtractionResult"  [call-arg]
                    return JSONExtractionResult(
                           ^
ciris_engine/logic/services/runtime/llm_service.py:349:27: error: Missing
positional argument "value" in call to "record_metric" of
"TelemetryServiceProtocol"  [call-arg]
                        await self.telemetry_service.record_metric("llm_ap...
                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/services/runtime/llm_service.py:405:5: error: Function is
missing a type annotation for one or more arguments  [no-untyped-def]
        async def _retry_with_backoff(
        ^
ciris_engine/logic/services/runtime/llm_service.py:415:17: error: Returning Any
from function declared to return "tuple[BaseModel, ResourceUsage]" 
[no-any-return]
                    return await func(*args, **kwargs)
                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/lifecycle/shutdown.py:74:16: error: Missing named
argument "custom_metrics" for "ServiceStatus"  [call-arg]
            return ServiceStatus(
                   ^
ciris_engine/logic/services/governance/wise_authority.py:90:16: error: Missing
named argument "metadata" for "ServiceCapabilities"  [call-arg]
            return ServiceCapabilities(
                   ^
ciris_engine/logic/services/governance/wise_authority.py:132:9: error:
Statement is unreachable  [unreachable]
            return False
            ^~~~~~~~~~~~
ciris_engine/logic/services/governance/wise_authority.py:334:28: error: Missing
named argument "resolution" for "PendingDeferral"  [call-arg]
                    deferral = PendingDeferral(
                               ^
ciris_engine/logic/services/governance/wise_authority.py:334:28: error: Missing
named argument "resolved_at" for "PendingDeferral"  [call-arg]
                    deferral = PendingDeferral(
                               ^
ciris_engine/logic/services/governance/wise_authority.py:371:24: error: Missing
named argument "resolution" for "PendingDeferral"  [call-arg]
                deferral = PendingDeferral(
                           ^
ciris_engine/logic/services/governance/wise_authority.py:371:24: error: Missing
named argument "resolved_at" for "PendingDeferral"  [call-arg]
                deferral = PendingDeferral(
                           ^
ciris_engine/logic/services/governance/wise_authority.py:380:26: error: Item
"None" of "str | None" has no attribute "value"  [union-attr]
                    priority=context.priority.value if hasattr(context.pri...
                             ^~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/governance/wise_authority.py:404:40: error:
Incompatible types in assignment (expression has type "bool", target has type
"str")  [assignment]
            context.metadata["resolved"] = True
                                           ^~~~
ciris_engine/logic/services/governance/wise_authority.py:405:40: error:
Incompatible types in assignment (expression has type "bool", target has type
"str")  [assignment]
            context.metadata["approved"] = response.approved
                                           ^~~~~~~~~~~~~~~~~
ciris_engine/logic/services/governance/wise_authority.py:497:16: error: Missing
named argument "custom_metrics" for "ServiceStatus"  [call-arg]
            return ServiceStatus(
                   ^
ciris_engine/logic/services/governance/filter.py:68:33: error: "object" has no
attribute "get_config"  [attr-defined]
                config_node = await self.config_service.get_config(self._c...
                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/governance/filter.py:463:19: error: "object" has no
attribute "set_config"  [attr-defined]
                await self.config_service.set_config(
                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/governance/filter.py:571:16: error: Missing named
argument "custom_metrics" for "ServiceStatus"  [call-arg]
            return ServiceStatus(
                   ^
ciris_engine/logic/runtime/modular_service_loader.py:15:1: error: Module
"ciris_engine.schemas.runtime.enums" has no attribute "Priority"  [attr-defined]
    from ciris_engine.schemas.runtime.enums import ServiceType, Priority
    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/runtime/modular_service_loader.py:23:45: error: Incompatible
default for argument "services_dir" (default has type "None", argument has type
"Path")  [assignment]
        def __init__(self, services_dir: Path = None):
                                                ^~~~
ciris_engine/logic/runtime/modular_service_loader.py:23:45: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
ciris_engine/logic/runtime/modular_service_loader.py:23:45: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
ciris_engine/logic/runtime/modular_service_loader.py:29:9: error: Need type
annotation for "services" (hint: "services: list[<type>] = ...") 
[var-annotated]
            services = []
            ^~~~~~~~
ciris_engine/logic/runtime/modular_service_loader.py:148:13: error: Returning
Any from function declared to return "type[ServiceProtocol] | None" 
[no-any-return]
                return service_class
                ^~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_oauth.py:85:20: error:
Missing named argument "error" for "OAuthOperationResult"  [call-arg]
                return OAuthOperationResult(
                       ^
ciris_engine/logic/infrastructure/sub_services/wa_cli_oauth.py:85:20: error:
Missing named argument "details" for "OAuthOperationResult"  [call-arg]
                return OAuthOperationResult(
                       ^
ciris_engine/logic/infrastructure/sub_services/wa_cli_oauth.py:93:20: error:
Missing named argument "provider" for "OAuthOperationResult"  [call-arg]
                return OAuthOperationResult(
                       ^
ciris_engine/logic/infrastructure/sub_services/wa_cli_oauth.py:93:20: error:
Missing named argument "callback_url" for "OAuthOperationResult"  [call-arg]
                return OAuthOperationResult(
                       ^
ciris_engine/logic/infrastructure/sub_services/wa_cli_oauth.py:93:20: error:
Missing named argument "details" for "OAuthOperationResult"  [call-arg]
                return OAuthOperationResult(
                       ^
ciris_engine/logic/infrastructure/sub_services/wa_cli_oauth.py:159:20: error:
Missing named argument "auth_url" for "OAuthLoginResult"  [call-arg]
                return OAuthLoginResult(
                       ^
ciris_engine/logic/infrastructure/sub_services/wa_cli_oauth.py:159:20: error:
Missing named argument "certificate" for "OAuthLoginResult"  [call-arg]
                return OAuthLoginResult(
                       ^
ciris_engine/logic/infrastructure/sub_services/wa_cli_oauth.py:299:28: error:
Incompatible return value type (got "dict[str, Any]", expected "OAuthUserInfo") 
[return-value]
                        return {
                               ^
ciris_engine/logic/infrastructure/sub_services/wa_cli_oauth.py:306:28: error:
Missing named argument "picture" for "OAuthUserInfo"  [call-arg]
                        return OAuthUserInfo(
                               ^
ciris_engine/logic/infrastructure/sub_services/wa_cli_oauth.py:329:24: error:
Missing named argument "picture" for "OAuthUserInfo"  [call-arg]
                    return OAuthUserInfo(
                           ^
ciris_engine/logic/infrastructure/sub_services/wa_cli_oauth.py:351:13: error:
"WACertificate" has no attribute "last_login"  [attr-defined]
                existing_wa.last_login = self.time_service.now()
                ^~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_oauth.py:357:17: error:
"AuthenticationService" has no attribute "generate_wa_id"; maybe
"_generate_wa_id"?  [attr-defined]
            wa_id = self.auth_service.generate_wa_id(timestamp)
                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_oauth.py:366:20: error:
Unexpected keyword argument "token_type" for "WACertificate"  [call-arg]
            oauth_wa = WACertificate(
                       ^
ciris_engine/logic/infrastructure/sub_services/wa_cli_oauth.py:366:20: error:
Unexpected keyword argument "created" for "WACertificate"; did you mean
"created_at"?  [call-arg]
            oauth_wa = WACertificate(
                       ^
ciris_engine/logic/infrastructure/sub_services/wa_cli_oauth.py:366:20: error:
Unexpected keyword argument "last_login" for "WACertificate"  [call-arg]
            oauth_wa = WACertificate(
                       ^
ciris_engine/logic/infrastructure/sub_services/wa_cli_oauth.py:366:20: error:
Unexpected keyword argument "active" for "WACertificate"  [call-arg]
            oauth_wa = WACertificate(
                       ^
ciris_engine/logic/infrastructure/sub_services/wa_cli_oauth.py:386:15: error:
Missing positional arguments "email", "scopes" in call to "create_wa" of
"AuthenticationService"  [call-arg]
            await self.auth_service.create_wa(oauth_wa)
                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_oauth.py:386:43: error:
Argument 1 to "create_wa" of "AuthenticationService" has incompatible type
"WACertificate"; expected "str"  [arg-type]
            await self.auth_service.create_wa(oauth_wa)
                                              ^~~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_oauth.py:406:63: error:
Missing named argument "error_description" for "OAuthCallbackData"  [call-arg]
    ...          self.oauth_service._oauth_callback_data = OAuthCallbackData(
                                                           ^
ciris_engine/logic/infrastructure/sub_services/wa_cli_display.py:28:29: error:
"AuthenticationService" has no attribute "list_all_was"; maybe "_list_all_was"
or "list_was"?  [attr-defined]
                all_was = await self.auth_service.list_all_was()
                                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_display.py:54:38: error:
"WACertificate" has no attribute "active"  [attr-defined]
                status = "✅ Active" if wa.active else "❌ Inactive"
                                         ^~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_display.py:55:23: error:
"WACertificate" has no attribute "created"; maybe "created_at"?  [attr-defined]
                created = wa.created.strftime("%Y-%m-%d") if isinstance(wa...
                          ^~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_display.py:61:17: error:
"WACertificate" has no attribute "token_type"  [attr-defined]
                    wa.token_type.value,
                    ^~~~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_display.py:81:39: error:
"WACertificate" has no attribute "token_type"  [attr-defined]
                tree.add(f"Type: [yellow]{root.token_type.value}[/yellow]"...
                                          ^~~~~~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_display.py:82:49: error:
"WACertificate" has no attribute "active"  [attr-defined]
                tree.add(f"Status: {'✅ Active' if root.active else '❌ Inac...
                                                    ^~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_display.py:104:45: error:
"WACertificate" has no attribute "token_type"  [attr-defined]
                child_node.add(f"Type: [yellow]{child.token_type.value}[/y...
                                                ^~~~~~~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_display.py:111:55: error:
"WACertificate" has no attribute "active"  [attr-defined]
    ...       child_node.add(f"Status: {'✅ Active' if child.active else '❌ In...
                                                        ^~~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_display.py:133:41: error:
"WACertificate" has no attribute "token_type"  [attr-defined]
                table.add_row("Token Type", wa.token_type.value)
                                            ^~~~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_display.py:158:53: error:
"WACertificate" has no attribute "active"  [attr-defined]
    ...         table.add_row("Status", "✅ Active" if wa.active else "❌ Inact...
                                                        ^~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_display.py:161:23: error:
"WACertificate" has no attribute "created"; maybe "created_at"?  [attr-defined]
                created = wa.created.strftime("%Y-%m-%d %H:%M:%S UTC") if ...
                          ^~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_display.py:164:16: error:
"WACertificate" has no attribute "last_login"  [attr-defined]
                if wa.last_login:
                   ^~~~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_display.py:165:30: error:
"WACertificate" has no attribute "last_login"  [attr-defined]
                    last_login = wa.last_login.strftime("%Y-%m-%d %H:%M:%S...
                                 ^~~~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_display.py:171:29: error:
"AuthenticationService" has no attribute "list_all_was"; maybe "_list_all_was"
or "list_was"?  [attr-defined]
                all_was = await self.auth_service.list_all_was()
                                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_bootstrap.py:42:21: error:
"AuthenticationService" has no attribute "generate_wa_id"; maybe
"_generate_wa_id"?  [attr-defined]
                wa_id = self.auth_service.generate_wa_id(timestamp)
                        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_bootstrap.py:46:23: error:
Unexpected keyword argument "token_type" for "WACertificate"  [call-arg]
                root_wa = WACertificate(
                          ^
ciris_engine/logic/infrastructure/sub_services/wa_cli_bootstrap.py:46:23: error:
Unexpected keyword argument "created" for "WACertificate"; did you mean
"created_at"?  [call-arg]
                root_wa = WACertificate(
                          ^
ciris_engine/logic/infrastructure/sub_services/wa_cli_bootstrap.py:46:23: error:
Unexpected keyword argument "active" for "WACertificate"  [call-arg]
                root_wa = WACertificate(
                          ^
ciris_engine/logic/infrastructure/sub_services/wa_cli_bootstrap.py:74:19: error:
Missing positional arguments "email", "scopes" in call to "create_wa" of
"AuthenticationService"  [call-arg]
                await self.auth_service.create_wa(root_wa)
                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_bootstrap.py:74:47: error:
Argument 1 to "create_wa" of "AuthenticationService" has incompatible type
"WACertificate"; expected "str"  [arg-type]
                await self.auth_service.create_wa(root_wa)
                                                  ^~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_bootstrap.py:126:21: error:
"AuthenticationService" has no attribute "generate_wa_id"; maybe
"_generate_wa_id"?  [attr-defined]
                wa_id = self.auth_service.generate_wa_id(timestamp)
                        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_bootstrap.py:137:24: error:
Unexpected keyword argument "token_type" for "WACertificate"  [call-arg]
                child_wa = WACertificate(
                           ^
ciris_engine/logic/infrastructure/sub_services/wa_cli_bootstrap.py:137:24: error:
Unexpected keyword argument "created" for "WACertificate"; did you mean
"created_at"?  [call-arg]
                child_wa = WACertificate(
                           ^
ciris_engine/logic/infrastructure/sub_services/wa_cli_bootstrap.py:137:24: error:
Unexpected keyword argument "active" for "WACertificate"  [call-arg]
                child_wa = WACertificate(
                           ^
ciris_engine/logic/infrastructure/sub_services/wa_cli_bootstrap.py:174:19: error:
Missing positional arguments "email", "scopes" in call to "create_wa" of
"AuthenticationService"  [call-arg]
                await self.auth_service.create_wa(child_wa)
                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_bootstrap.py:174:47: error:
Argument 1 to "create_wa" of "AuthenticationService" has incompatible type
"WACertificate"; expected "str"  [arg-type]
                await self.auth_service.create_wa(child_wa)
                                                  ^~~~~~~~
ciris_engine/logic/dma/base_dma.py:139:32: error: "EpistemicFaculty" has no
attribute "evaluate"  [attr-defined]
                    result = await faculty.evaluate(content, context)
                                   ^~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/cirisnode_client.py:55:24: error: Missing named
argument "base_url" for "CIRISNodeConfig"  [call-arg]
                node_cfg = CIRISNodeConfig()
                           ^~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/cirisnode_client.py:55:24: error: Missing named
argument "enabled" for "CIRISNodeConfig"  [call-arg]
                node_cfg = CIRISNodeConfig()
                           ^~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/cirisnode_client.py:57:29: error: Incompatible
types in assignment (expression has type "str | None", variable has type "str") 
[assignment]
                self.base_url = node_cfg.base_url
                                ^~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/cirisnode_client.py:195:55: error: Dict entry 1 has
incompatible type "str": "list[str]"; expected "str": "str"  [dict-item]
    ...               parameters={"agent_id": agent_id, "scenarios": scenario...
                                                        ^~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/cirisnode_client.py:233:59: error: Dict entry 1 has
incompatible type "str": "str | None"; expected "str": "str"  [dict-item]
    ...           parameters={"event_type": event_type, "agent_id": agent_id}
                                                        ^~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/cirisnode_client.py:290:101: error: Dict entry 3
has incompatible type "str": "int"; expected "str": "str"  [dict-item]
    ...ark, "model_id": model_id, "agent_id": agent_id, "answer_count": len(a...
                                                        ^~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/adapters/discord/discord_tool_service.py:133: error: Unused
"type: ignore" comment  [unused-ignore]
                message = await channel.send(content)  # type: ignore[attr...
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/adapters/discord/discord_tool_service.py:133:29: error: Item
"ForumChannel" of
"VoiceChannel | StageChannel | ForumChannel | TextChannel | CategoryChannel | Thread | PrivateChannel"
has no attribute "send"  [union-attr]
                message = await channel.send(content)  # type: ignore[attr...
                                ^~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_tool_service.py:133:29: note: Error code "union-attr" not covered by "type: ignore" comment
ciris_engine/logic/adapters/discord/discord_tool_service.py:133:29: error: Item
"CategoryChannel" of
"VoiceChannel | StageChannel | ForumChannel | TextChannel | CategoryChannel | Thread | PrivateChannel"
has no attribute "send"  [union-attr]
                message = await channel.send(content)  # type: ignore[attr...
                                ^~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_tool_service.py:133:29: error: Item
"PrivateChannel" of
"VoiceChannel | StageChannel | ForumChannel | TextChannel | CategoryChannel | Thread | PrivateChannel"
has no attribute "send"  [union-attr]
                message = await channel.send(content)  # type: ignore[attr...
                                ^~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_tool_service.py:173: error: Unused
"type: ignore" comment  [unused-ignore]
                message = await channel.send(embed=embed)  # type: ignore[...
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/adapters/discord/discord_tool_service.py:173:29: error: Item
"ForumChannel" of
"VoiceChannel | StageChannel | ForumChannel | TextChannel | CategoryChannel | Thread | PrivateChannel"
has no attribute "send"  [union-attr]
                message = await channel.send(embed=embed)  # type: ignore[...
                                ^~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_tool_service.py:173:29: note: Error code "union-attr" not covered by "type: ignore" comment
ciris_engine/logic/adapters/discord/discord_tool_service.py:173:29: error: Item
"CategoryChannel" of
"VoiceChannel | StageChannel | ForumChannel | TextChannel | CategoryChannel | Thread | PrivateChannel"
has no attribute "send"  [union-attr]
                message = await channel.send(embed=embed)  # type: ignore[...
                                ^~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_tool_service.py:173:29: error: Item
"PrivateChannel" of
"VoiceChannel | StageChannel | ForumChannel | TextChannel | CategoryChannel | Thread | PrivateChannel"
has no attribute "send"  [union-attr]
                message = await channel.send(embed=embed)  # type: ignore[...
                                ^~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_tool_service.py:202: error: Unused
"type: ignore" comment  [unused-ignore]
                message = await channel.fetch_message(int(message_id))  # ...
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/adapters/discord/discord_tool_service.py:202:29: error: Item
"ForumChannel" of
"VoiceChannel | StageChannel | ForumChannel | TextChannel | CategoryChannel | Thread | PrivateChannel"
has no attribute "fetch_message"  [union-attr]
                message = await channel.fetch_message(int(message_id))  # ...
                                ^~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_tool_service.py:202:29: note: Error code "union-attr" not covered by "type: ignore" comment
ciris_engine/logic/adapters/discord/discord_tool_service.py:202:29: error: Item
"CategoryChannel" of
"VoiceChannel | StageChannel | ForumChannel | TextChannel | CategoryChannel | Thread | PrivateChannel"
has no attribute "fetch_message"  [union-attr]
                message = await channel.fetch_message(int(message_id))  # ...
                                ^~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_tool_service.py:202:29: error: Item
"PrivateChannel" of
"VoiceChannel | StageChannel | ForumChannel | TextChannel | CategoryChannel | Thread | PrivateChannel"
has no attribute "fetch_message"  [union-attr]
                message = await channel.fetch_message(int(message_id))  # ...
                                ^~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_tool_service.py:423:41: error:
Incompatible types in assignment (expression has type "list[str]", target has
type "bool | str | None")  [assignment]
                            data["roles"] = [role.name for role in member....
                                            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/adapters/discord/discord_tool_service.py:445:25: error: Item
"PrivateChannel" of
"VoiceChannel | StageChannel | ForumChannel | TextChannel | CategoryChannel | Thread | PrivateChannel"
has no attribute "name"  [union-attr]
                    "name": channel.name,
                            ^~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_tool_service.py:446:29: error: Item
"PrivateChannel" of
"VoiceChannel | StageChannel | ForumChannel | TextChannel | CategoryChannel | Thread | PrivateChannel"
has no attribute "type"  [union-attr]
                    "type": str(channel.type),
                                ^~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_tool_service.py:447: error: Unused
"type: ignore" comment  [unused-ignore]
                    "created_at": channel.created_at.isoformat() if hasatt...
                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/adapters/discord/discord_tool_service.py:613:16: error:
Unexpected keyword argument "version" for "ToolInfo"  [call-arg]
            return ToolInfo(
                   ^
ciris_engine/logic/adapters/discord/discord_tool_service.py:613:16: error:
Unexpected keyword argument "created_at" for "ToolInfo"  [call-arg]
            return ToolInfo(
                   ^
ciris_engine/logic/adapters/discord/discord_tool_service.py:613:16: error:
Unexpected keyword argument "updated_at" for "ToolInfo"  [call-arg]
            return ToolInfo(
                   ^
ciris_engine/logic/adapters/discord/discord_tool_service.py:636:5: error:
Return type "Coroutine[Any, Any, list[str]]" of "get_capabilities" incompatible
with return type "ServiceCapabilities" in supertype "ServiceProtocol" 
[override]
        async def get_capabilities(self) -> List[str]:
        ^
ciris_engine/logic/adapters/discord/discord_tool_service.py:651:16: error:
Missing named argument "custom_metrics" for "ServiceStatus"  [call-arg]
            return ServiceStatus(
                   ^
ciris_engine/logic/adapters/api/api_tools.py:35:15: error: Call to abstract
method "start" of "ServiceProtocol" with trivial body via super() is unsafe 
[safe-super]
            await super().start()
                  ^~~~~~~~~~~~~
ciris_engine/logic/adapters/api/api_tools.py:40:15: error: Call to abstract
method "stop" of "ServiceProtocol" with trivial body via super() is unsafe 
[safe-super]
            await super().stop()
                  ^~~~~~~~~~~~
ciris_engine/logic/adapters/api/api_tools.py:219:16: error: Missing named
argument "category" for "ToolInfo"  [call-arg]
            return ToolInfo(
                   ^
ciris_engine/logic/adapters/api/api_tools.py:219:16: error: Missing named
argument "cost" for "ToolInfo"  [call-arg]
            return ToolInfo(
                   ^
ciris_engine/logic/adapters/api/api_tools.py:219:16: error: Missing named
argument "when_to_use" for "ToolInfo"  [call-arg]
            return ToolInfo(
                   ^
ciris_engine/logic/adapters/api/api_tools.py:238:5: error: Return type
"list[str]" of "get_capabilities" incompatible with return type
"ServiceCapabilities" in supertype "ServiceProtocol"  [override]
        def get_capabilities(self) -> List[str]:
        ^
ciris_engine/logic/adapters/api/api_tools.py:249:5: error: Return type
"dict[str, Any]" of "get_status" incompatible with return type "ServiceStatus"
in supertype "ServiceProtocol"  [override]
        def get_status(self) -> Dict[str, Any]:
        ^
ciris_engine/logic/adapters/api/endpoints/emergency.py:21:5: error: Module
"ciris_engine.logic.adapters.api.dependencies" has no attribute "get_service" 
[attr-defined]
        from ciris_engine.logic.adapters.api.dependencies import get_servi...
        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/endpoints/emergency.py:22:5: error: Returning
Any from function declared to return "RuntimeControlServiceProtocol" 
[no-any-return]
        return get_service("RuntimeControlService")
        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/utils/shutdown_manager.py:68:5: error: Function is missing a
type annotation  [no-untyped-def]
        def __getattr__(self, name):
        ^
ciris_engine/logic/utils/logging_config.py:94:26: error: Argument
"time_service" to "add_incident_capture_handler" has incompatible type
"TimeServiceProtocol | None"; expected "TimeServiceProtocol"  [arg-type]
                time_service=time_service,
                             ^~~~~~~~~~~~
ciris_engine/logic/utils/initialization_manager.py:37:5: error:
"InitializationService" has no attribute "register_callback"  [attr-defined]
        service.register_callback(callback)
        ^~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/utils/initialization_manager.py:42:5: error:
"InitializationService" has no attribute "initialize_all"; maybe "initialize"? 
[attr-defined]
        service.initialize_all()
        ^~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/utils/initialization_manager.py:47:5: error: Returning Any
from function declared to return "bool"  [no-any-return]
        return service.is_initialized()
        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/utils/initialization_manager.py:47:12: error:
"InitializationService" has no attribute "is_initialized"; maybe
"_is_initialized" or "initialize"?  [attr-defined]
        return service.is_initialized()
               ^~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/utils/initialization_manager.py:52:5: error:
"InitializationService" has no attribute "reset"  [attr-defined]
        service.reset()
        ^~~~~~~~~~~~~
ciris_engine/logic/persistence/models/identity.py:51:71: error:
"AgentIdentityRoot" has no attribute "name"  [attr-defined]
    ...nfo(f"Stored identity for agent {identity.agent_id or identity.name}")
                                                             ^~~~~~~~~~~~~
ciris_engine/logic/persistence/models/graph.py:15:5: error: Function is missing
a return type annotation  [no-untyped-def]
        def default(self, obj: Any):
        ^
ciris_engine/logic/persistence/models/graph.py:50:21: error: Statement is
unreachable  [unreachable]
                        new_attrs = {}
                        ^~~~~~~~~~~~~~
ciris_engine/logic/persistence/models/graph.py:84:21: error: Dict entry 4 has
incompatible type "str": "int"; expected "str": "str | datetime | None" 
[dict-item]
                        "version": node.version,
                        ^~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/persistence/models/graph.py:187:36: error: Argument
"attributes" to "GraphEdge" has incompatible type "Any | dict[Any, Any]";
expected "GraphEdgeAttributes"  [arg-type]
                            attributes=attrs,
                                       ^~~~~
ciris_engine/logic/persistence/models/graph.py:230:23: error: Argument 1 to
"append" of "list" has incompatible type "int"; expected "str | GraphScope" 
[arg-type]
            params.append(limit)
                          ^~~~~
ciris_engine/logic/persistence/models/graph.py:234:23: error: Argument 1 to
"append" of "list" has incompatible type "int"; expected "str | GraphScope" 
[arg-type]
            params.append(offset)
                          ^~~~~~
ciris_engine/logic/persistence/models/correlations.py:40:13: error: Statement
is unreachable  [unreachable]
                timestamp_str = str(corr.timestamp)
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/persistence/models/correlations.py:86:26: error: Missing
named argument "metric_value" for "CorrelationUpdateRequest"  [call-arg]
            update_request = CorrelationUpdateRequest(
                             ^
ciris_engine/logic/persistence/models/correlations.py:86:26: error: Missing
named argument "tags" for "CorrelationUpdateRequest"  [call-arg]
            update_request = CorrelationUpdateRequest(
                             ^
ciris_engine/logic/persistence/models/correlations.py:181:55: error: Unexpected
keyword argument "timestamp" for "MetricData"  [call-arg]
                        correlation_data["metric_data"] = MetricData(
                                                          ^
ciris_engine/logic/persistence/models/correlations.py:203:37: error: Unexpected
keyword argument "attributes" for "TraceContext"  [call-arg]
                        trace_context = TraceContext(
                                        ^
ciris_engine/logic/persistence/models/correlations.py:277:55: error: Unexpected
keyword argument "timestamp" for "MetricData"  [call-arg]
                        correlation_data["metric_data"] = MetricData(
                                                          ^
ciris_engine/logic/persistence/models/correlations.py:299:37: error: Unexpected
keyword argument "attributes" for "TraceContext"  [call-arg]
                        trace_context = TraceContext(
                                        ^
ciris_engine/logic/persistence/models/correlations.py:377:35: error: Missing
named argument "min_value" for "MetricData"  [call-arg]
                        metric_data = MetricData(
                                      ^
ciris_engine/logic/persistence/models/correlations.py:377:35: error: Missing
named argument "max_value" for "MetricData"  [call-arg]
                        metric_data = MetricData(
                                      ^
ciris_engine/logic/persistence/models/correlations.py:377:35: error: Missing
named argument "mean_value" for "MetricData"  [call-arg]
                        metric_data = MetricData(
                                      ^
ciris_engine/logic/persistence/models/correlations.py:400:37: error: Unexpected
keyword argument "attributes" for "TraceContext"  [call-arg]
                        trace_context = TraceContext(
                                        ^
ciris_engine/logic/persistence/models/correlations.py:409:37: error: Missing
named argument "ttl_seconds" for "ServiceCorrelation"  [call-arg]
                    correlations.append(ServiceCorrelation(
                                        ^
ciris_engine/logic/persistence/models/correlations.py:409:37: error: Missing
named argument "parent_correlation_id" for "ServiceCorrelation"  [call-arg]
                    correlations.append(ServiceCorrelation(
                                        ^
ciris_engine/logic/persistence/models/correlations.py:415:35: error: Argument
"response_data" to "ServiceCorrelation" has incompatible type
"dict[str, Any] | None"; expected "ServiceResponseData | None"  [arg-type]
                        response_data=_parse_response_data(json.loads(row[...
                                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/persistence/models/correlations.py:420:31: error: Argument
"timestamp" to "ServiceCorrelation" has incompatible type "datetime | None";
expected "datetime"  [arg-type]
                        timestamp=timestamp,
                                  ^~~~~~~~~
ciris_engine/logic/persistence/models/correlations.py:560:35: error: Missing
named argument "min_value" for "MetricData"  [call-arg]
                        metric_data = MetricData(
                                      ^
ciris_engine/logic/persistence/models/correlations.py:560:35: error: Missing
named argument "max_value" for "MetricData"  [call-arg]
                        metric_data = MetricData(
                                      ^
ciris_engine/logic/persistence/models/correlations.py:560:35: error: Missing
named argument "mean_value" for "MetricData"  [call-arg]
                        metric_data = MetricData(
                                      ^
ciris_engine/logic/persistence/models/correlations.py:583:37: error: Unexpected
keyword argument "attributes" for "TraceContext"  [call-arg]
                        trace_context = TraceContext(
                                        ^
ciris_engine/logic/persistence/models/correlations.py:592:37: error: Missing
named argument "ttl_seconds" for "ServiceCorrelation"  [call-arg]
                    correlations.append(ServiceCorrelation(
                                        ^
ciris_engine/logic/persistence/models/correlations.py:592:37: error: Missing
named argument "parent_correlation_id" for "ServiceCorrelation"  [call-arg]
                    correlations.append(ServiceCorrelation(
                                        ^
ciris_engine/logic/persistence/models/correlations.py:598:35: error: Argument
"response_data" to "ServiceCorrelation" has incompatible type
"dict[str, Any] | None"; expected "ServiceResponseData | None"  [arg-type]
                        response_data=_parse_response_data(json.loads(row[...
                                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/persistence/models/correlations.py:603:31: error: Argument
"timestamp" to "ServiceCorrelation" has incompatible type "datetime | None";
expected "datetime"  [arg-type]
                        timestamp=timestamp,
                                  ^~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_wizard.py:40:30: error:
"AuthenticationService" has no attribute "list_all_was"; maybe "_list_all_was"
or "list_was"?  [attr-defined]
            existing_was = await self.auth_service.list_all_was()
                                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_wizard.py:62:24: error:
Missing named argument "error" for "WizardResult"  [call-arg]
                    return WizardResult(status="observer")
                           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_wizard.py:62:24: error:
Missing named argument "wa_id" for "WizardResult"  [call-arg]
                    return WizardResult(status="observer")
                           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_wizard.py:62:24: error:
Missing named argument "key_file" for "WizardResult"  [call-arg]
                    return WizardResult(status="observer")
                           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_wizard.py:62:24: error:
Missing named argument "join_code" for "WizardResult"  [call-arg]
                    return WizardResult(status="observer")
                           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_wizard.py:62:24: error:
Missing named argument "expires_at" for "WizardResult"  [call-arg]
                    return WizardResult(status="observer")
                           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_wizard.py:82:24: error:
Missing named argument "error" for "WizardResult"  [call-arg]
                    return WizardResult(status="observer")
                           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_wizard.py:82:24: error:
Missing named argument "wa_id" for "WizardResult"  [call-arg]
                    return WizardResult(status="observer")
                           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_wizard.py:82:24: error:
Missing named argument "key_file" for "WizardResult"  [call-arg]
                    return WizardResult(status="observer")
                           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_wizard.py:82:24: error:
Missing named argument "join_code" for "WizardResult"  [call-arg]
                    return WizardResult(status="observer")
                           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_wizard.py:82:24: error:
Missing named argument "expires_at" for "WizardResult"  [call-arg]
                    return WizardResult(status="observer")
                           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_wizard.py:139:19: error:
Missing positional arguments "email", "scopes" in call to "create_wa" of
"AuthenticationService"  [call-arg]
                await self.auth_service.create_wa(wa_cert)
                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_wizard.py:139:47: error:
Argument 1 to "create_wa" of "AuthenticationService" has incompatible type
"WACertificate"; expected "str"  [arg-type]
                await self.auth_service.create_wa(wa_cert)
                                                  ^~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_wizard.py:144:20: error:
Incompatible return value type (got "dict[str, Any]", expected "WizardResult") 
[return-value]
                return {"status": "imported", "wa_id": cert_data["wa_id"]}
                       ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_wizard.py:148:20: error:
Incompatible return value type (got "dict[str, str]", expected "WizardResult") 
[return-value]
                return {"status": "error", "error": str(e)}
                       ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_wizard.py:190:12: error:
Value of type "OAuthOperationResult" is not indexable  [index]
            if result["status"] == "success":
               ^~~~~~~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/wa_cli_wizard.py:195:16: error:
Argument after ** must be a mapping, not "OAuthOperationResult"  [arg-type]
            return OAuthConfigResult(**result)
                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/buses/tool_bus.py:95:13: error: Returning Any from function
declared to return "list[str]"  [no-any-return]
                return await service.get_available_tools()
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/buses/tool_bus.py:95:26: error: "ToolServiceProtocol" has no
attribute "get_available_tools"  [attr-defined]
                return await service.get_available_tools()
                             ^~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/buses/tool_bus.py:117:13: error: Returning Any from function
declared to return "ToolExecutionResult | None"  [no-any-return]
                return await service.get_tool_result(correlation_id, timeo...
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/buses/tool_bus.py:117:26: error: "ToolServiceProtocol" has
no attribute "get_tool_result"  [attr-defined]
                return await service.get_tool_result(correlation_id, timeo...
                             ^~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/buses/tool_bus.py:139:13: error: Returning Any from function
declared to return "bool"  [no-any-return]
                return await service.validate_parameters(tool_name, parame...
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/buses/tool_bus.py:139:26: error: "ToolServiceProtocol" has
no attribute "validate_parameters"  [attr-defined]
                return await service.validate_parameters(tool_name, parame...
                             ^~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/buses/tool_bus.py:171:13: error: Returning Any from function
declared to return "ToolInfo | None"  [no-any-return]
                return await service.get_tool_info(tool_name)
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/buses/tool_bus.py:171:26: error: "ToolServiceProtocol" has
no attribute "get_tool_info"  [attr-defined]
                return await service.get_tool_info(tool_name)
                             ^~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/buses/tool_bus.py:191:13: error: Returning Any from function
declared to return "list[ToolInfo]"  [no-any-return]
                return await service.get_all_tool_info()
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/buses/tool_bus.py:191:26: error: "ToolServiceProtocol" has
no attribute "get_all_tool_info"  [attr-defined]
                return await service.get_all_tool_info()
                             ^~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/buses/tool_bus.py:202:13: error: Returning Any from function
declared to return "list[str]"  [no-any-return]
                return await service.get_capabilities()
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/buses/tool_bus.py:202:20: error: Incompatible types in
"await" (actual type "ServiceCapabilities", expected type "Awaitable[Any]") 
[misc]
                return await service.get_capabilities()
                       ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/buses/memory_bus.py:174:13: error: Returning Any from
function declared to return "list[MemorySearchResult]"  [no-any-return]
                return await service.search_memories(query, scope, limit)
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/buses/memory_bus.py:174:26: error: "MemoryServiceProtocol"
has no attribute "search_memories"  [attr-defined]
                return await service.search_memories(query, scope, limit)
                             ^~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/buses/memory_bus.py:221:26: error: Too many arguments for
"recall_timeseries" of "MemoryServiceProtocol"  [call-arg]
                return await service.recall_timeseries(scope, hours, corre...
                             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/buses/memory_bus.py:326:13: error: Returning Any from
function declared to return "list[str]"  [no-any-return]
                return await service.get_capabilities()
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/buses/memory_bus.py:326:20: error: Incompatible types in
"await" (actual type "ServiceCapabilities", expected type "Awaitable[Any]") 
[misc]
                return await service.get_capabilities()
                       ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/buses/llm_bus.py:172:39: error: "object" has no attribute
"call_llm_structured"  [attr-defined]
                    result, usage = await selected_service.call_llm_struct...
                                          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/buses/llm_bus.py:326:28: error: "object" has no attribute
"is_healthy"  [attr-defined]
                result = await service.is_healthy()
                               ^~~~~~~~~~~~~~~~~~
ciris_engine/logic/buses/llm_bus.py:383:19: error: Unexpected keyword argument
"handler_name" for "record_metric" of "TelemetryServiceProtocol"  [call-arg]
                await self.telemetry_service.record_metric(
                      ^
ciris_engine/protocols/services/graph/telemetry.py:13:5: note: "record_metric" of "TelemetryServiceProtocol" defined here
ciris_engine/logic/buses/llm_bus.py:396:23: error: Unexpected keyword argument
"handler_name" for "record_metric" of "TelemetryServiceProtocol"  [call-arg]
                    await self.telemetry_service.record_metric(
                          ^
ciris_engine/protocols/services/graph/telemetry.py:13:5: note: "record_metric" of "TelemetryServiceProtocol" defined here
ciris_engine/logic/buses/llm_bus.py:404:23: error: Unexpected keyword argument
"handler_name" for "record_metric" of "TelemetryServiceProtocol"  [call-arg]
                    await self.telemetry_service.record_metric(
                          ^
ciris_engine/protocols/services/graph/telemetry.py:13:5: note: "record_metric" of "TelemetryServiceProtocol" defined here
ciris_engine/logic/buses/llm_bus.py:413:23: error: Unexpected keyword argument
"handler_name" for "record_metric" of "TelemetryServiceProtocol"  [call-arg]
                    await self.telemetry_service.record_metric(
                          ^
ciris_engine/protocols/services/graph/telemetry.py:13:5: note: "record_metric" of "TelemetryServiceProtocol" defined here
ciris_engine/logic/buses/llm_bus.py:422:23: error: Unexpected keyword argument
"handler_name" for "record_metric" of "TelemetryServiceProtocol"  [call-arg]
                    await self.telemetry_service.record_metric(
                          ^
ciris_engine/protocols/services/graph/telemetry.py:13:5: note: "record_metric" of "TelemetryServiceProtocol" defined here
ciris_engine/logic/buses/llm_bus.py:430:23: error: Unexpected keyword argument
"handler_name" for "record_metric" of "TelemetryServiceProtocol"  [call-arg]
                    await self.telemetry_service.record_metric(
                          ^
ciris_engine/protocols/services/graph/telemetry.py:13:5: note: "record_metric" of "TelemetryServiceProtocol" defined here
ciris_engine/logic/buses/llm_bus.py:438:19: error: Unexpected keyword argument
"handler_name" for "record_metric" of "TelemetryServiceProtocol"  [call-arg]
                await self.telemetry_service.record_metric(
                      ^
ciris_engine/protocols/services/graph/telemetry.py:13:5: note: "record_metric" of "TelemetryServiceProtocol" defined here
ciris_engine/logic/buses/llm_bus.py:480:13: error: Returning Any from function
declared to return "list[str]"  [no-any-return]
                return await service.get_available_models()
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/buses/llm_bus.py:480:26: error: "LLMServiceProtocol" has no
attribute "get_available_models"  [attr-defined]
                return await service.get_available_models()
                             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/buses/llm_bus.py:502:13: error: Returning Any from function
declared to return "list[str]"  [no-any-return]
                return await service.get_capabilities()
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/buses/llm_bus.py:502:20: error: Incompatible types in
"await" (actual type "ServiceCapabilities", expected type "Awaitable[Any]") 
[misc]
                return await service.get_capabilities()
                       ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/buses/llm_bus.py:532:9: error: "LLMBus" has no attribute
"_circuit_breakers"; maybe "circuit_breakers", "clear_circuit_breakers", or
"_check_circuit_breaker"?  [attr-defined]
            self._circuit_breakers.clear()
            ^~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/buses/llm_bus.py:536:9: error: "LLMBus" has no attribute
"_latencies"  [attr-defined]
            self._latencies.clear()
            ^~~~~~~~~~~~~~~
ciris_engine/logic/buses/communication_bus.py:154:25: error: Argument 1 to
"list" has incompatible type "list[dict[str, Any]]"; expected
"Iterable[FetchedMessage]"  [arg-type]
                return list(messages) if messages else []
                            ^~~~~~~~
ciris_engine/logic/telemetry/log_collector.py:30:31: error: Unexpected keyword
argument "log_level" for "ServiceCorrelation"  [call-arg]
                log_correlation = ServiceCorrelation(
                                  ^
ciris_engine/logic/telemetry/log_collector.py:38:30: error: Argument
"request_data" to "ServiceCorrelation" has incompatible type
"dict[str, object]"; expected "ServiceRequestData | None"  [arg-type]
                    request_data={
                                 ^
ciris_engine/logic/telemetry/core.py:94:34: error: Unexpected keyword argument
"metric_name" for "ServiceCorrelation"  [call-arg]
                metric_correlation = ServiceCorrelation(
                                     ^
ciris_engine/logic/telemetry/core.py:94:34: error: Unexpected keyword argument
"metric_value" for "ServiceCorrelation"  [call-arg]
                metric_correlation = ServiceCorrelation(
                                     ^
ciris_engine/logic/telemetry/core.py:128:21: error: Missing named argument
"messages_processed_24h" for "TelemetrySummary"  [call-arg]
            telemetry = TelemetrySummary(
                        ^
ciris_engine/logic/telemetry/core.py:128:21: error: Missing named argument
"thoughts_processed_24h" for "TelemetrySummary"  [call-arg]
            telemetry = TelemetrySummary(
                        ^
ciris_engine/logic/telemetry/core.py:128:21: error: Missing named argument
"tasks_completed_24h" for "TelemetrySummary"  [call-arg]
            telemetry = TelemetrySummary(
                        ^
ciris_engine/logic/telemetry/core.py:128:21: error: Missing named argument
"errors_24h" for "TelemetrySummary"  [call-arg]
            telemetry = TelemetrySummary(
                        ^
ciris_engine/logic/telemetry/core.py:128:21: error: Missing named argument
"messages_current_hour" for "TelemetrySummary"  [call-arg]
            telemetry = TelemetrySummary(
                        ^
ciris_engine/logic/telemetry/core.py:128:21: error: Missing named argument
"thoughts_current_hour" for "TelemetrySummary"  [call-arg]
            telemetry = TelemetrySummary(
                        ^
ciris_engine/logic/telemetry/core.py:128:21: error: Missing named argument
"errors_current_hour" for "TelemetrySummary"  [call-arg]
            telemetry = TelemetrySummary(
                        ^
ciris_engine/logic/telemetry/core.py:128:21: error: Missing named argument
"tokens_last_hour" for "TelemetrySummary"  [call-arg]
            telemetry = TelemetrySummary(
                        ^
ciris_engine/logic/telemetry/core.py:128:21: error: Missing named argument
"cost_last_hour_cents" for "TelemetrySummary"  [call-arg]
            telemetry = TelemetrySummary(
                        ^
ciris_engine/logic/telemetry/core.py:128:21: error: Missing named argument
"carbon_last_hour_grams" for "TelemetrySummary"  [call-arg]
            telemetry = TelemetrySummary(
                        ^
ciris_engine/logic/telemetry/core.py:128:21: error: Missing named argument
"energy_last_hour_kwh" for "TelemetrySummary"  [call-arg]
            telemetry = TelemetrySummary(
                        ^
ciris_engine/logic/telemetry/core.py:128:21: error: Missing named argument
"tokens_24h" for "TelemetrySummary"  [call-arg]
            telemetry = TelemetrySummary(
                        ^
ciris_engine/logic/telemetry/core.py:128:21: error: Missing named argument
"cost_24h_cents" for "TelemetrySummary"  [call-arg]
            telemetry = TelemetrySummary(
                        ^
ciris_engine/logic/telemetry/core.py:128:21: error: Missing named argument
"carbon_24h_grams" for "TelemetrySummary"  [call-arg]
            telemetry = TelemetrySummary(
                        ^
ciris_engine/logic/telemetry/core.py:128:21: error: Missing named argument
"energy_24h_kwh" for "TelemetrySummary"  [call-arg]
            telemetry = TelemetrySummary(
                        ^
ciris_engine/logic/telemetry/core.py:128:21: error: Missing named argument
"error_rate_percent" for "TelemetrySummary"  [call-arg]
            telemetry = TelemetrySummary(
                        ^
ciris_engine/logic/telemetry/core.py:128:21: error: Missing named argument
"avg_thought_depth" for "TelemetrySummary"  [call-arg]
            telemetry = TelemetrySummary(
                        ^
ciris_engine/logic/telemetry/core.py:128:21: error: Missing named argument
"queue_saturation" for "TelemetrySummary"  [call-arg]
            telemetry = TelemetrySummary(
                        ^
ciris_engine/logic/telemetry/core.py:168:9: error: "SystemSnapshot" has no
attribute "telemetry"  [attr-defined]
            snapshot.telemetry = telemetry
            ^~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/lifecycle/scheduler.py:122:25: error: Argument
"defer_until" to "ScheduledTask" has incompatible type "str | None"; expected
"datetime | None"  [arg-type]
                defer_until=defer_until,
                            ^~~~~~~~~~~
ciris_engine/logic/services/lifecycle/scheduler.py:126:24: error: Argument
"created_at" to "ScheduledTask" has incompatible type "str"; expected "datetime"
 [arg-type]
                created_at=self.time_service.now().isoformat(),
                           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/lifecycle/scheduler.py:190:17: error: Statement is
unreachable  [unreachable]
                    defer_str = task.defer_until
                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/lifecycle/scheduler.py:218:21: error: Statement is
unreachable  [unreachable]
                        created_str = task.created_at
                        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/lifecycle/scheduler.py:228:21: error: Statement is
unreachable  [unreachable]
                        triggered_str = task.last_triggered_at
                        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/lifecycle/scheduler.py:255:23: error: Missing named
argument "channel_id" for "Thought"  [call-arg]
                thought = Thought(
                          ^
ciris_engine/logic/services/lifecycle/scheduler.py:255:23: error: Missing named
argument "round_number" for "Thought"  [call-arg]
                thought = Thought(
                          ^
ciris_engine/logic/services/lifecycle/scheduler.py:255:23: error: Missing named
argument "context" for "Thought"  [call-arg]
                thought = Thought(
                          ^
ciris_engine/logic/services/lifecycle/scheduler.py:255:23: error: Missing named
argument "thought_depth" for "Thought"  [call-arg]
                thought = Thought(
                          ^
ciris_engine/logic/services/lifecycle/scheduler.py:255:23: error: Missing named
argument "ponder_notes" for "Thought"  [call-arg]
                thought = Thought(
                          ^
ciris_engine/logic/services/lifecycle/scheduler.py:255:23: error: Missing named
argument "parent_thought_id" for "Thought"  [call-arg]
                thought = Thought(
                          ^
ciris_engine/logic/services/lifecycle/scheduler.py:294:34: error: Incompatible
types in assignment (expression has type "str", variable has type
"datetime | None")  [assignment]
            task.last_triggered_at = now_iso
                                     ^~~~~~~
ciris_engine/logic/services/lifecycle/scheduler.py:403:35: error: Argument
"last_triggered_at" to "ScheduledTaskInfo" has incompatible type
"str | datetime | None"; expected "str | None"  [arg-type]
                    last_triggered_at=task.last_triggered_at.isoformat() i...
                                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/services/lifecycle/scheduler.py:427:32: error: Incompatible
types in assignment (expression has type "str", variable has type
"datetime | None")  [assignment]
                task.defer_until = defer_until
                                   ^~~~~~~~~~~
ciris_engine/logic/services/lifecycle/scheduler.py:481:16: error: Missing named
argument "custom_metrics" for "ServiceStatus"  [call-arg]
            return ServiceStatus(
                   ^
ciris_engine/logic/services/infrastructure/resource_monitor.py:185:16: error:
Missing named argument "custom_metrics" for "ServiceStatus"  [call-arg]
            return ServiceStatus(
                   ^
ciris_engine/logic/services/graph/memory_service.py:133:33: error: Unsupported
target for indexed assignment ("dict[str, Any] | GraphNodeAttributes")  [index]
                                    attrs_dict["_edges"] = edges_data
                                    ^~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/graph/memory_service.py:199:29: error: Unsupported
target for indexed assignment ("dict[str, Any] | GraphNodeAttributes")  [index]
                                attrs_dict["_edges"] = edges_data
                                ^~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/graph/memory_service.py:266:53: error: Unsupported
target for indexed assignment ("dict[str, Any] | GraphNodeAttributes")  [index]
    ...                                                 attrs_dict["_edges"] ...
                                                        ^~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/graph/memory_service.py:372:13: error: Statement is
unreachable  [unreachable]
                attributes_dict = {}
                ^~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/graph/memory_service.py:419:13: error: Statement is
unreachable  [unreachable]
                attributes_dict = {}
                ^~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/graph/memory_service.py:625:27: error: Missing
named argument "ttl_seconds" for "ServiceCorrelation"  [call-arg]
                correlation = ServiceCorrelation(
                              ^
ciris_engine/logic/services/graph/memory_service.py:625:27: error: Missing
named argument "parent_correlation_id" for "ServiceCorrelation"  [call-arg]
                correlation = ServiceCorrelation(
                              ^
ciris_engine/logic/runtime/identity_manager.py:117:16: error: Missing named
argument "trust_level" for "AgentIdentityRoot"  [call-arg]
            return AgentIdentityRoot(
                   ^
ciris_engine/logic/runtime/identity_manager.py:117:16: error: Missing named
argument "authorization_scope" for "AgentIdentityRoot"  [call-arg]
            return AgentIdentityRoot(
                   ^
ciris_engine/logic/runtime/identity_manager.py:117:16: error: Missing named
argument "parent_agent_id" for "AgentIdentityRoot"  [call-arg]
            return AgentIdentityRoot(
                   ^
ciris_engine/logic/runtime/identity_manager.py:120:26: error: Missing named
argument "startup_instructions" for "CoreProfile"  [call-arg]
                core_profile=CoreProfile(
                             ^
ciris_engine/logic/runtime/identity_manager.py:129:31: error: Missing named
argument "version" for "IdentityMetadata"  [call-arg]
                identity_metadata=IdentityMetadata(
                                  ^
ciris_engine/logic/processors/support/thought_manager_enhanced.py:6:1: error:
Function is missing a type annotation for one or more arguments 
[no-untyped-def]
    def generate_seed_thought_enhanced(self, task: Task, round_number: int...
    ^
ciris_engine/logic/processors/support/thought_manager_enhanced.py:6:48: error:
Name "Task" is not defined  [name-defined]
    def generate_seed_thought_enhanced(self, task: Task, round_number: int...
                                                   ^
ciris_engine/logic/processors/support/thought_manager_enhanced.py:6:80: error:
Name "Optional" is not defined  [name-defined]
    ...nhanced(self, task: Task, round_number: int = 0) -> Optional[Thought]:
                                                           ^~~~~~~~~~~~~~~~~
ciris_engine/logic/processors/support/thought_manager_enhanced.py:6:80: note: Did you forget to import it from "typing"? (Suggestion: "from typing import Optional")
ciris_engine/logic/processors/support/thought_manager_enhanced.py:6:89: error:
Name "Thought" is not defined  [name-defined]
    ...nhanced(self, task: Task, round_number: int = 0) -> Optional[Thought]:
                                                                    ^
ciris_engine/logic/processors/support/thought_manager_enhanced.py:13:20: error:
Name "ThoughtType" is not defined  [name-defined]
        thought_type = ThoughtType.STANDARD
                       ^~~~~~~~~~~
ciris_engine/logic/processors/support/thought_manager_enhanced.py:19:24: error:
Name "ThoughtType" is not defined  [name-defined]
            thought_type = ThoughtType.OBSERVATION
                           ^~~~~~~~~~~
ciris_engine/logic/processors/support/thought_manager_enhanced.py:76:15: error:
Name "Thought" is not defined  [name-defined]
        thought = Thought(
                  ^~~~~~~
ciris_engine/logic/processors/support/thought_manager_enhanced.py:77:50: error:
Name "uuid" is not defined  [name-defined]
            thought_id=f"th_seed_{task.task_id}_{str(uuid.uuid4())[:4]}",
                                                     ^~~~
ciris_engine/logic/processors/support/thought_manager_enhanced.py:81:16: error:
Name "ThoughtStatus" is not defined  [name-defined]
            status=ThoughtStatus.PENDING,
                   ^~~~~~~~~~~~~
ciris_engine/logic/processors/support/thought_manager_enhanced.py:86:17: error:
Name "thought_context" is not defined  [name-defined]
            context=thought_context,
                    ^~~~~~~~~~~~~~~
ciris_engine/logic/processors/support/thought_manager.py:51:31: error:
Incompatible types in assignment (expression has type "TaskContext", variable
has type "ThoughtContext | None")  [assignment]
                thought_context = task.context.model_copy()
                                  ^~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/processors/support/thought_manager.py:75:22: error:
Incompatible types in assignment (expression has type "None", variable has type
"str")  [assignment]
            channel_id = None
                         ^~~~
ciris_engine/logic/processors/support/thought_manager.py:77:26: error:
Incompatible types in assignment (expression has type "str | None", variable has
type "str")  [assignment]
                channel_id = task.context.channel_id
                             ^~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/processors/support/thought_manager.py:81:19: error: Missing
named argument "ponder_notes" for "Thought"  [call-arg]
            thought = Thought(
                      ^
ciris_engine/logic/processors/support/thought_manager.py:81:19: error: Missing
named argument "parent_thought_id" for "Thought"  [call-arg]
            thought = Thought(
                      ^
ciris_engine/logic/processors/support/thought_manager.py:81:19: error: Missing
named argument "final_action" for "Thought"  [call-arg]
            thought = Thought(
                      ^
ciris_engine/logic/processors/support/thought_manager.py:195:86: error: Missing
named argument "channel_id" for "ThoughtContext"  [call-arg]
    ...ht.context.model_copy() if parent_thought.context else ThoughtContext(
                                                              ^
ciris_engine/logic/processors/support/thought_manager.py:195:86: error: Missing
named argument "round_number" for "ThoughtContext"  [call-arg]
    ...ht.context.model_copy() if parent_thought.context else ThoughtContext(
                                                              ^
ciris_engine/logic/processors/support/thought_manager.py:195:86: error: Missing
named argument "depth" for "ThoughtContext"  [call-arg]
    ...ht.context.model_copy() if parent_thought.context else ThoughtContext(
                                                              ^
ciris_engine/logic/processors/support/thought_manager.py:195:86: error: Missing
named argument "parent_thought_id" for "ThoughtContext"  [call-arg]
    ...ht.context.model_copy() if parent_thought.context else ThoughtContext(
                                                              ^
ciris_engine/logic/processors/support/thought_manager.py:199:19: error: Missing
named argument "channel_id" for "Thought"  [call-arg]
            thought = Thought(
                      ^
ciris_engine/logic/processors/support/thought_manager.py:216:26: error:
Argument "final_action" to "Thought" has incompatible type "dict[Never, Never]";
expected "FinalAction | None"  [arg-type]
                final_action={},
                             ^~
ciris_engine/logic/dma/action_selection/special_cases.py:44:20: error: Missing
named argument "raw_llm_response" for "ActionSelectionDMAResult"  [call-arg]
                return ActionSelectionDMAResult(
                       ^
ciris_engine/logic/dma/action_selection/special_cases.py:44:20: error: Missing
named argument "reasoning" for "ActionSelectionDMAResult"  [call-arg]
                return ActionSelectionDMAResult(
                       ^
ciris_engine/logic/dma/action_selection/special_cases.py:44:20: error: Missing
named argument "evaluation_time_ms" for "ActionSelectionDMAResult"  [call-arg]
                return ActionSelectionDMAResult(
                       ^
ciris_engine/logic/dma/action_selection/special_cases.py:44:20: error: Missing
named argument "resource_usage" for "ActionSelectionDMAResult"  [call-arg]
                return ActionSelectionDMAResult(
                       ^
ciris_engine/logic/dma/action_selection/special_cases.py:79:24: error: Missing
named argument "raw_llm_response" for "ActionSelectionDMAResult"  [call-arg]
                    return ActionSelectionDMAResult(
                           ^
ciris_engine/logic/dma/action_selection/special_cases.py:79:24: error: Missing
named argument "reasoning" for "ActionSelectionDMAResult"  [call-arg]
                    return ActionSelectionDMAResult(
                           ^
ciris_engine/logic/dma/action_selection/special_cases.py:79:24: error: Missing
named argument "evaluation_time_ms" for "ActionSelectionDMAResult"  [call-arg]
                    return ActionSelectionDMAResult(
                           ^
ciris_engine/logic/dma/action_selection/special_cases.py:79:24: error: Missing
named argument "resource_usage" for "ActionSelectionDMAResult"  [call-arg]
                    return ActionSelectionDMAResult(
                           ^
ciris_engine/logic/dma/action_selection/special_cases.py:102:33: error:
"TaskContext" has no attribute "get"  [attr-defined]
                if task.context and task.context.get("step_type"):
                                    ^~~~~~~~~~~~~~~~
ciris_engine/logic/context/batch_context.py:21:5: error: Function is missing a
return type annotation  [no-untyped-def]
        def __init__(self):
        ^
ciris_engine/logic/context/batch_context.py:21:5: note: Use "-> None" if function does not return a value
ciris_engine/logic/context/batch_context.py:89:44: error: Missing named
argument "assigned_agent" for "TaskSummary"  [call-arg]
                batch_data.recent_tasks.append(TaskSummary(
                                               ^
ciris_engine/logic/context/batch_context.py:89:44: error: Missing named
argument "deadline" for "TaskSummary"  [call-arg]
                batch_data.recent_tasks.append(TaskSummary(
                                               ^
ciris_engine/logic/context/batch_context.py:89:44: error: Missing named
argument "result" for "TaskSummary"  [call-arg]
                batch_data.recent_tasks.append(TaskSummary(
                                               ^
ciris_engine/logic/context/batch_context.py:89:44: error: Missing named
argument "result_data" for "TaskSummary"  [call-arg]
                batch_data.recent_tasks.append(TaskSummary(
                                               ^
ciris_engine/logic/context/batch_context.py:89:44: error: Missing named
argument "error" for "TaskSummary"  [call-arg]
                batch_data.recent_tasks.append(TaskSummary(
                                               ^
ciris_engine/logic/context/batch_context.py:92:28: error: Argument "created_at"
to "TaskSummary" has incompatible type "str"; expected "datetime"  [arg-type]
                    created_at=t_obj.created_at,
                               ^~~~~~~~~~~~~~~~
ciris_engine/logic/context/batch_context.py:101:41: error: Missing named
argument "assigned_agent" for "TaskSummary"  [call-arg]
                batch_data.top_tasks.append(TaskSummary(
                                            ^
ciris_engine/logic/context/batch_context.py:101:41: error: Missing named
argument "deadline" for "TaskSummary"  [call-arg]
                batch_data.top_tasks.append(TaskSummary(
                                            ^
ciris_engine/logic/context/batch_context.py:101:41: error: Missing named
argument "result" for "TaskSummary"  [call-arg]
                batch_data.top_tasks.append(TaskSummary(
                                            ^
ciris_engine/logic/context/batch_context.py:101:41: error: Missing named
argument "result_data" for "TaskSummary"  [call-arg]
                batch_data.top_tasks.append(TaskSummary(
                                            ^
ciris_engine/logic/context/batch_context.py:101:41: error: Missing named
argument "error" for "TaskSummary"  [call-arg]
                batch_data.top_tasks.append(TaskSummary(
                                            ^
ciris_engine/logic/context/batch_context.py:104:28: error: Argument
"created_at" to "TaskSummary" has incompatible type "str"; expected "datetime" 
[arg-type]
                    created_at=t_obj.created_at,
                               ^~~~~~~~~~~~~~~~
ciris_engine/logic/context/batch_context.py:203:65: error: Item "None" of
"TaskContext | None" has no attribute "system_snapshot"  [union-attr]
    ...ttr(task.context, 'system_snapshot') and hasattr(task.context.system_s...
                                                        ^~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/context/batch_context.py:204:30: error: Item "None" of
"TaskContext | None" has no attribute "system_snapshot"  [union-attr]
                channel_id = str(task.context.system_snapshot.channel_id)
                                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/context/batch_context.py:226:36: error: Missing named
argument "assigned_agent" for "TaskSummary"  [call-arg]
                current_task_summary = TaskSummary(
                                       ^
ciris_engine/logic/context/batch_context.py:226:36: error: Missing named
argument "deadline" for "TaskSummary"  [call-arg]
                current_task_summary = TaskSummary(
                                       ^
ciris_engine/logic/context/batch_context.py:226:36: error: Missing named
argument "result" for "TaskSummary"  [call-arg]
                current_task_summary = TaskSummary(
                                       ^
ciris_engine/logic/context/batch_context.py:226:36: error: Missing named
argument "result_data" for "TaskSummary"  [call-arg]
                current_task_summary = TaskSummary(
                                       ^
ciris_engine/logic/context/batch_context.py:226:36: error: Missing named
argument "error" for "TaskSummary"  [call-arg]
                current_task_summary = TaskSummary(
                                       ^
ciris_engine/logic/context/batch_context.py:229:28: error: Argument
"created_at" to "TaskSummary" has incompatible type "str"; expected "datetime" 
[arg-type]
                    created_at=task.created_at,
                               ^~~~~~~~~~~~~~~
ciris_engine/logic/conscience/thought_depth_guardrail.py:72:23: error: Missing
named argument "request_data" for "ServiceCorrelation"  [call-arg]
            correlation = ServiceCorrelation(
                          ^
ciris_engine/logic/conscience/thought_depth_guardrail.py:72:23: error: Missing
named argument "response_data" for "ServiceCorrelation"  [call-arg]
            correlation = ServiceCorrelation(
                          ^
ciris_engine/logic/conscience/thought_depth_guardrail.py:72:23: error: Missing
named argument "status" for "ServiceCorrelation"  [call-arg]
            correlation = ServiceCorrelation(
                          ^
ciris_engine/logic/conscience/thought_depth_guardrail.py:72:23: error: Missing
named argument "metric_data" for "ServiceCorrelation"  [call-arg]
            correlation = ServiceCorrelation(
                          ^
ciris_engine/logic/conscience/thought_depth_guardrail.py:72:23: error: Missing
named argument "log_data" for "ServiceCorrelation"  [call-arg]
            correlation = ServiceCorrelation(
                          ^
ciris_engine/logic/conscience/thought_depth_guardrail.py:72:23: error: Missing
named argument "retention_policy" for "ServiceCorrelation"  [call-arg]
            correlation = ServiceCorrelation(
                          ^
ciris_engine/logic/conscience/thought_depth_guardrail.py:72:23: error: Missing
named argument "ttl_seconds" for "ServiceCorrelation"  [call-arg]
            correlation = ServiceCorrelation(
                          ^
ciris_engine/logic/conscience/thought_depth_guardrail.py:72:23: error: Missing
named argument "parent_correlation_id" for "ServiceCorrelation"  [call-arg]
            correlation = ServiceCorrelation(
                          ^
ciris_engine/logic/conscience/thought_depth_guardrail.py:97:26: error: Missing
named argument "metric_value" for "CorrelationUpdateRequest"  [call-arg]
                update_req = CorrelationUpdateRequest(
                             ^
ciris_engine/logic/conscience/thought_depth_guardrail.py:97:26: error: Missing
named argument "tags" for "CorrelationUpdateRequest"  [call-arg]
                update_req = CorrelationUpdateRequest(
                             ^
ciris_engine/logic/conscience/thought_depth_guardrail.py:133:26: error: Missing
named argument "metric_value" for "CorrelationUpdateRequest"  [call-arg]
                update_req = CorrelationUpdateRequest(
                             ^
ciris_engine/logic/conscience/thought_depth_guardrail.py:133:26: error: Missing
named argument "tags" for "CorrelationUpdateRequest"  [call-arg]
                update_req = CorrelationUpdateRequest(
                             ^
ciris_engine/logic/conscience/thought_depth_guardrail.py:177:29: error: Missing
named argument "raw_llm_response" for "ActionSelectionDMAResult"  [call-arg]
                _defer_action = ActionSelectionDMAResult(
                                ^
ciris_engine/logic/conscience/thought_depth_guardrail.py:177:29: error: Missing
named argument "reasoning" for "ActionSelectionDMAResult"  [call-arg]
                _defer_action = ActionSelectionDMAResult(
                                ^
ciris_engine/logic/conscience/thought_depth_guardrail.py:177:29: error: Missing
named argument "evaluation_time_ms" for "ActionSelectionDMAResult"  [call-arg]
                _defer_action = ActionSelectionDMAResult(
                                ^
ciris_engine/logic/conscience/thought_depth_guardrail.py:177:29: error: Missing
named argument "resource_usage" for "ActionSelectionDMAResult"  [call-arg]
                _defer_action = ActionSelectionDMAResult(
                                ^
ciris_engine/logic/conscience/thought_depth_guardrail.py:178:33: error:
Argument "selected_action" to "ActionSelectionDMAResult" has incompatible type
"str"; expected "HandlerActionType"  [arg-type]
                    selected_action=HandlerActionType.DEFER.value,
                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/conscience/thought_depth_guardrail.py:185:26: error: Missing
named argument "metric_value" for "CorrelationUpdateRequest"  [call-arg]
                update_req = CorrelationUpdateRequest(
                             ^
ciris_engine/logic/conscience/thought_depth_guardrail.py:185:26: error: Missing
named argument "tags" for "CorrelationUpdateRequest"  [call-arg]
                update_req = CorrelationUpdateRequest(
                             ^
ciris_engine/logic/conscience/thought_depth_guardrail.py:212:22: error: Missing
named argument "metric_value" for "CorrelationUpdateRequest"  [call-arg]
            update_req = CorrelationUpdateRequest(
                         ^
ciris_engine/logic/conscience/thought_depth_guardrail.py:212:22: error: Missing
named argument "tags" for "CorrelationUpdateRequest"  [call-arg]
            update_req = CorrelationUpdateRequest(
                         ^
ciris_engine/logic/adapters/base_adapter.py:68:23: error: Unexpected keyword
argument "trace_id" for "ServiceCorrelation"  [call-arg]
            correlation = ServiceCorrelation(
                          ^
ciris_engine/logic/adapters/base_adapter.py:68:23: error: Unexpected keyword
argument "parent_span_id" for "ServiceCorrelation"  [call-arg]
            correlation = ServiceCorrelation(
                          ^
ciris_engine/logic/adapters/base_adapter.py:68:23: error: Unexpected keyword
argument "span_id" for "ServiceCorrelation"  [call-arg]
            correlation = ServiceCorrelation(
                          ^
ciris_engine/logic/adapters/base_adapter.py:68:23: error: Unexpected keyword
argument "channel_id" for "ServiceCorrelation"  [call-arg]
            correlation = ServiceCorrelation(
                          ^
ciris_engine/logic/adapters/base_adapter.py:77:26: error: Missing named
argument "thought_id" for "ServiceRequestData"  [call-arg]
                request_data=ServiceRequestData(
                             ^
ciris_engine/logic/adapters/base_adapter.py:77:26: error: Missing named
argument "task_id" for "ServiceRequestData"  [call-arg]
                request_data=ServiceRequestData(
                             ^
ciris_engine/logic/adapters/base_adapter.py:77:26: error: Missing named
argument "timeout_seconds" for "ServiceRequestData"  [call-arg]
                request_data=ServiceRequestData(
                             ^
ciris_engine/logic/adapters/base_adapter.py:84:27: error: Unexpected keyword
argument "service_type" for "ServiceResponseData"  [call-arg]
                response_data=ServiceResponseData(
                              ^
ciris_engine/logic/adapters/base_adapter.py:84:27: error: Unexpected keyword
argument "method_name" for "ServiceResponseData"  [call-arg]
                response_data=ServiceResponseData(
                              ^
ciris_engine/logic/adapters/base_adapter.py:127:23: error: Unexpected keyword
argument "trace_id" for "ServiceCorrelation"  [call-arg]
            correlation = ServiceCorrelation(
                          ^
ciris_engine/logic/adapters/base_adapter.py:127:23: error: Unexpected keyword
argument "parent_span_id" for "ServiceCorrelation"  [call-arg]
            correlation = ServiceCorrelation(
                          ^
ciris_engine/logic/adapters/base_adapter.py:127:23: error: Unexpected keyword
argument "span_id" for "ServiceCorrelation"  [call-arg]
            correlation = ServiceCorrelation(
                          ^
ciris_engine/logic/adapters/base_adapter.py:127:23: error: Unexpected keyword
argument "channel_id" for "ServiceCorrelation"  [call-arg]
            correlation = ServiceCorrelation(
                          ^
ciris_engine/logic/adapters/base_adapter.py:136:26: error: Missing named
argument "thought_id" for "ServiceRequestData"  [call-arg]
                request_data=ServiceRequestData(
                             ^
ciris_engine/logic/adapters/base_adapter.py:136:26: error: Missing named
argument "task_id" for "ServiceRequestData"  [call-arg]
                request_data=ServiceRequestData(
                             ^
ciris_engine/logic/adapters/base_adapter.py:136:26: error: Missing named
argument "timeout_seconds" for "ServiceRequestData"  [call-arg]
                request_data=ServiceRequestData(
                             ^
ciris_engine/logic/adapters/base_adapter.py:143:27: error: Unexpected keyword
argument "service_type" for "ServiceResponseData"  [call-arg]
                response_data=ServiceResponseData(
                              ^
ciris_engine/logic/adapters/base_adapter.py:143:27: error: Unexpected keyword
argument "method_name" for "ServiceResponseData"  [call-arg]
                response_data=ServiceResponseData(
                              ^
ciris_engine/logic/adapters/discord/discord_channel_manager.py:170:27: error:
Missing named argument "correlation_type" for "ServiceCorrelation"  [call-arg]
                correlation = ServiceCorrelation(
                              ^
ciris_engine/logic/adapters/discord/discord_channel_manager.py:170:27: error:
Missing named argument "metric_data" for "ServiceCorrelation"  [call-arg]
                correlation = ServiceCorrelation(
                              ^
ciris_engine/logic/adapters/discord/discord_channel_manager.py:170:27: error:
Missing named argument "log_data" for "ServiceCorrelation"  [call-arg]
                correlation = ServiceCorrelation(
                              ^
ciris_engine/logic/adapters/discord/discord_channel_manager.py:170:27: error:
Missing named argument "trace_context" for "ServiceCorrelation"  [call-arg]
                correlation = ServiceCorrelation(
                              ^
ciris_engine/logic/adapters/discord/discord_channel_manager.py:170:27: error:
Missing named argument "retention_policy" for "ServiceCorrelation"  [call-arg]
                correlation = ServiceCorrelation(
                              ^
ciris_engine/logic/adapters/discord/discord_channel_manager.py:170:27: error:
Missing named argument "ttl_seconds" for "ServiceCorrelation"  [call-arg]
                correlation = ServiceCorrelation(
                              ^
ciris_engine/logic/adapters/discord/discord_channel_manager.py:170:27: error:
Missing named argument "parent_correlation_id" for "ServiceCorrelation" 
[call-arg]
                correlation = ServiceCorrelation(
                              ^
ciris_engine/logic/adapters/discord/discord_channel_manager.py:175:30: error:
Missing named argument "thought_id" for "ServiceRequestData"  [call-arg]
                    request_data=ServiceRequestData(
                                 ^
ciris_engine/logic/adapters/discord/discord_channel_manager.py:175:30: error:
Missing named argument "task_id" for "ServiceRequestData"  [call-arg]
                    request_data=ServiceRequestData(
                                 ^
ciris_engine/logic/adapters/discord/discord_channel_manager.py:175:30: error:
Missing named argument "timeout_seconds" for "ServiceRequestData"  [call-arg]
                    request_data=ServiceRequestData(
                                 ^
ciris_engine/logic/adapters/discord/discord_channel_manager.py:187:31: error:
Missing named argument "result_type" for "ServiceResponseData"  [call-arg]
                    response_data=ServiceResponseData(
                                  ^
ciris_engine/logic/adapters/discord/discord_channel_manager.py:187:31: error:
Missing named argument "result_size" for "ServiceResponseData"  [call-arg]
                    response_data=ServiceResponseData(
                                  ^
ciris_engine/logic/adapters/discord/discord_channel_manager.py:187:31: error:
Missing named argument "error_type" for "ServiceResponseData"  [call-arg]
                    response_data=ServiceResponseData(
                                  ^
ciris_engine/logic/adapters/discord/discord_channel_manager.py:187:31: error:
Missing named argument "error_message" for "ServiceResponseData"  [call-arg]
                    response_data=ServiceResponseData(
                                  ^
ciris_engine/logic/adapters/discord/discord_channel_manager.py:187:31: error:
Missing named argument "error_traceback" for "ServiceResponseData"  [call-arg]
                    response_data=ServiceResponseData(
                                  ^
ciris_engine/logic/adapters/discord/discord_channel_manager.py:187:31: error:
Missing named argument "tokens_used" for "ServiceResponseData"  [call-arg]
                    response_data=ServiceResponseData(
                                  ^
ciris_engine/logic/adapters/discord/discord_channel_manager.py:187:31: error:
Missing named argument "memory_bytes" for "ServiceResponseData"  [call-arg]
                    response_data=ServiceResponseData(
                                  ^
ciris_engine/logic/adapters/cli/cli_wa_service.py:13:1: error: Cannot find
implementation or library stub for module named
"ciris_engine.logic.services.infrastructure.time"  [import-not-found]
    from ciris_engine.logic.services.infrastructure.time import TimeServic...
    ^
ciris_engine/logic/adapters/cli/cli_wa_service.py:13:1: note: See https://mypy.readthedocs.io/en/stable/running_mypy.html#missing-imports
ciris_engine/logic/adapters/cli/cli_wa_service.py:27:15: error: Call to
abstract method "start" of "ServiceProtocol" with trivial body via super() is
unsafe  [safe-super]
            await super().start()
                  ^~~~~~~~~~~~~
ciris_engine/logic/adapters/cli/cli_wa_service.py:31:15: error: Call to
abstract method "stop" of "ServiceProtocol" with trivial body via super() is
unsafe  [safe-super]
            await super().stop()
                  ^~~~~~~~~~~~
ciris_engine/logic/adapters/cli/cli_wa_service.py:50:5: error: Return type
"Coroutine[Any, Any, bool]" of "send_deferral" incompatible with return type
"Coroutine[Any, Any, str]" in supertype "WiseAuthorityServiceProtocol" 
[override]
        async def send_deferral(self, context: DeferralContext) -> bool:
        ^
ciris_engine/logic/adapters/cli/cli_wa_service.py:50:35: error: Argument 1 of
"send_deferral" is incompatible with supertype "WiseAuthorityServiceProtocol";
supertype defines the argument type as "DeferralRequest"  [override]
        async def send_deferral(self, context: DeferralContext) -> bool:
                                      ^~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/cli/cli_wa_service.py:50:35: note: This violates the Liskov substitution principle
ciris_engine/logic/adapters/cli/cli_wa_service.py:50:35: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#incompatible-overrides
ciris_engine/logic/adapters/cli/cli_wa_service.py:83:16: error: Missing named
argument "correlation_type" for "ServiceCorrelation"  [call-arg]
            corr = ServiceCorrelation(
                   ^
ciris_engine/logic/adapters/cli/cli_wa_service.py:83:16: error: Missing named
argument "timestamp" for "ServiceCorrelation"  [call-arg]
            corr = ServiceCorrelation(
                   ^
ciris_engine/logic/adapters/cli/cli_wa_service.py:83:16: error: Missing named
argument "metric_data" for "ServiceCorrelation"  [call-arg]
            corr = ServiceCorrelation(
                   ^
ciris_engine/logic/adapters/cli/cli_wa_service.py:83:16: error: Missing named
argument "log_data" for "ServiceCorrelation"  [call-arg]
            corr = ServiceCorrelation(
                   ^
ciris_engine/logic/adapters/cli/cli_wa_service.py:83:16: error: Missing named
argument "trace_context" for "ServiceCorrelation"  [call-arg]
            corr = ServiceCorrelation(
                   ^
ciris_engine/logic/adapters/cli/cli_wa_service.py:83:16: error: Missing named
argument "retention_policy" for "ServiceCorrelation"  [call-arg]
            corr = ServiceCorrelation(
                   ^
ciris_engine/logic/adapters/cli/cli_wa_service.py:83:16: error: Missing named
argument "ttl_seconds" for "ServiceCorrelation"  [call-arg]
            corr = ServiceCorrelation(
                   ^
ciris_engine/logic/adapters/cli/cli_wa_service.py:83:16: error: Missing named
argument "parent_correlation_id" for "ServiceCorrelation"  [call-arg]
            corr = ServiceCorrelation(
                   ^
ciris_engine/logic/adapters/cli/cli_wa_service.py:88:26: error: Argument
"request_data" to "ServiceCorrelation" has incompatible type "dict[str, Any]";
expected "ServiceRequestData | None"  [arg-type]
                request_data=context.model_dump(),
                             ^~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/cli/cli_wa_service.py:89:27: error: Argument
"response_data" to "ServiceCorrelation" has incompatible type "dict[str, str]";
expected "ServiceResponseData | None"  [arg-type]
                response_data={"status": "logged"},
                              ^~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/cli/cli_tools.py:41:15: error: Call to abstract
method "start" of "ServiceProtocol" with trivial body via super() is unsafe 
[safe-super]
            await super().start()
                  ^~~~~~~~~~~~~
ciris_engine/logic/adapters/cli/cli_tools.py:45:15: error: Call to abstract
method "stop" of "ServiceProtocol" with trivial body via super() is unsafe 
[safe-super]
            await super().stop()
                  ^~~~~~~~~~~~
ciris_engine/logic/adapters/cli/cli_tools.py:49:16: error: Missing named
argument "correlation_type" for "ServiceCorrelation"  [call-arg]
            corr = ServiceCorrelation(
                   ^
ciris_engine/logic/adapters/cli/cli_tools.py:49:16: error: Missing named
argument "response_data" for "ServiceCorrelation"  [call-arg]
            corr = ServiceCorrelation(
                   ^
ciris_engine/logic/adapters/cli/cli_tools.py:49:16: error: Missing named
argument "timestamp" for "ServiceCorrelation"  [call-arg]
            corr = ServiceCorrelation(
                   ^
ciris_engine/logic/adapters/cli/cli_tools.py:49:16: error: Missing named
argument "metric_data" for "ServiceCorrelation"  [call-arg]
            corr = ServiceCorrelation(
                   ^
ciris_engine/logic/adapters/cli/cli_tools.py:49:16: error: Missing named
argument "log_data" for "ServiceCorrelation"  [call-arg]
            corr = ServiceCorrelation(
                   ^
ciris_engine/logic/adapters/cli/cli_tools.py:49:16: error: Missing named
argument "trace_context" for "ServiceCorrelation"  [call-arg]
            corr = ServiceCorrelation(
                   ^
ciris_engine/logic/adapters/cli/cli_tools.py:49:16: error: Missing named
argument "retention_policy" for "ServiceCorrelation"  [call-arg]
            corr = ServiceCorrelation(
                   ^
ciris_engine/logic/adapters/cli/cli_tools.py:49:16: error: Missing named
argument "ttl_seconds" for "ServiceCorrelation"  [call-arg]
            corr = ServiceCorrelation(
                   ^
ciris_engine/logic/adapters/cli/cli_tools.py:49:16: error: Missing named
argument "parent_correlation_id" for "ServiceCorrelation"  [call-arg]
            corr = ServiceCorrelation(
                   ^
ciris_engine/logic/adapters/cli/cli_tools.py:54:26: error: Argument
"request_data" to "ServiceCorrelation" has incompatible type "dict[Any, Any]";
expected "ServiceRequestData | None"  [arg-type]
                request_data=parameters,
                             ^~~~~~~~~~
ciris_engine/logic/adapters/cli/cli_tools.py:56:24: error: Argument
"created_at" to "ServiceCorrelation" has incompatible type "str"; expected
"datetime"  [arg-type]
                created_at=self._time_service.now_iso(),
                           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/cli/cli_tools.py:57:24: error: Argument
"updated_at" to "ServiceCorrelation" has incompatible type "str"; expected
"datetime"  [arg-type]
                updated_at=self._time_service.now_iso(),
                           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/cli/cli_tools.py:90:13: error: Missing positional
argument "correlation_or_time_service" in call to "update_correlation" 
[call-arg]
                persistence.update_correlation(
                ^
ciris_engine/logic/adapters/cli/cli_tools.py:108:22: error: Missing named
argument "error" for "ListFilesResult"  [call-arg]
                result = ListFilesResult(files=files, path=list_params.pat...
                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/cli/cli_tools.py:122:26: error: Missing named
argument "error" for "ReadFileResult"  [call-arg]
                    result = ReadFileResult(content=content, path=read_par...
                             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/adapters/cli/cli_tools.py:126:22: error: Missing named
argument "content" for "ReadFileResult"  [call-arg]
                result = ReadFileResult(error="path parameter required")
                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/cli/cli_tools.py:126:22: error: Missing named
argument "path" for "ReadFileResult"  [call-arg]
                result = ReadFileResult(error="path parameter required")
                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/cli/cli_tools.py:129:22: error: Missing named
argument "content" for "ReadFileResult"  [call-arg]
                result = ReadFileResult(error=str(e))
                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/cli/cli_tools.py:129:22: error: Missing named
argument "path" for "ReadFileResult"  [call-arg]
                result = ReadFileResult(error=str(e))
                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/cli/cli_tools.py:139:22: error: Missing named
argument "error" for "WriteFileResult"  [call-arg]
                result = WriteFileResult(status="written", path=write_para...
                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/adapters/cli/cli_tools.py:143:22: error: Missing named
argument "status" for "WriteFileResult"  [call-arg]
                result = WriteFileResult(error="path parameter required")
                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/cli/cli_tools.py:143:22: error: Missing named
argument "path" for "WriteFileResult"  [call-arg]
                result = WriteFileResult(error="path parameter required")
                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/cli/cli_tools.py:146:22: error: Missing named
argument "status" for "WriteFileResult"  [call-arg]
                result = WriteFileResult(error=str(e))
                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/cli/cli_tools.py:146:22: error: Missing named
argument "path" for "WriteFileResult"  [call-arg]
                result = WriteFileResult(error=str(e))
                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/cli/cli_tools.py:166:22: error: Missing named
argument "error" for "ShellCommandResult"  [call-arg]
                result = ShellCommandResult(
                         ^
ciris_engine/logic/adapters/cli/cli_tools.py:174:22: error: Missing named
argument "stdout" for "ShellCommandResult"  [call-arg]
                result = ShellCommandResult(error="command parameter requi...
                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/adapters/cli/cli_tools.py:174:22: error: Missing named
argument "stderr" for "ShellCommandResult"  [call-arg]
                result = ShellCommandResult(error="command parameter requi...
                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/adapters/cli/cli_tools.py:174:22: error: Missing named
argument "returncode" for "ShellCommandResult"  [call-arg]
                result = ShellCommandResult(error="command parameter requi...
                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/adapters/cli/cli_tools.py:177:22: error: Missing named
argument "stdout" for "ShellCommandResult"  [call-arg]
                result = ShellCommandResult(error=str(e))
                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/cli/cli_tools.py:177:22: error: Missing named
argument "stderr" for "ShellCommandResult"  [call-arg]
                result = ShellCommandResult(error=str(e))
                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/cli/cli_tools.py:177:22: error: Missing named
argument "returncode" for "ShellCommandResult"  [call-arg]
                result = ShellCommandResult(error=str(e))
                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/cli/cli_tools.py:192:22: error: Missing named
argument "error" for "SearchTextResult"  [call-arg]
                result = SearchTextResult(matches=matches)
                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/cli/cli_adapter.py:682:16: error: Unexpected
keyword argument "service_type" for "ServiceCapabilities"  [call-arg]
            return ServiceCapabilities(
                   ^
ciris_engine/logic/adapters/cli/cli_adapter.py:682:16: error: Unexpected
keyword argument "supported_actions" for "ServiceCapabilities"  [call-arg]
            return ServiceCapabilities(
                   ^
ciris_engine/logic/adapters/cli/cli_adapter.py:682:16: error: Unexpected
keyword argument "max_concurrent_operations" for "ServiceCapabilities" 
[call-arg]
            return ServiceCapabilities(
                   ^
ciris_engine/logic/adapters/cli/cli_adapter.py:682:16: error: Unexpected
keyword argument "supports_streaming" for "ServiceCapabilities"  [call-arg]
            return ServiceCapabilities(
                   ^
ciris_engine/logic/adapters/cli/cli_adapter.py:682:16: error: Unexpected
keyword argument "custom_capabilities" for "ServiceCapabilities"  [call-arg]
            return ServiceCapabilities(
                   ^
ciris_engine/logic/adapters/cli/cli_adapter.py:689:32: error: "CLIAdapter" has
no attribute "_interactive"; maybe "interactive"?  [attr-defined]
                    "interactive": self._interactive,
                                   ^~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/routes/memory.py:381:35: error: Argument 1 to
"append" of "list" has incompatible type "int"; expected "str"  [arg-type]
                        params.append(nodes_per_day * 2)  # Get extra to a...
                                      ^~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/routes/memory.py:410:21: error: Need type
annotation for "hour_buckets" (hint: "hour_buckets: dict[<type>, <type>] = ...")
 [var-annotated]
                        hour_buckets = {}
                        ^~~~~~~~~~~~
ciris_engine/logic/adapters/api/routes/memory.py:412:32: error: Item "None" of
"datetime | None" has no attribute "replace"  [union-attr]
                            hour = node.updated_at.replace(minute=0, secon...
                                   ^~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/routes/memory.py:443:65: error: Missing named
argument "created_after" for "MemorySearchFilter"  [call-arg]
    ...ll_nodes = await memory_service.search("", filters=MemorySearchFilter(
                                                          ^
ciris_engine/logic/adapters/api/routes/memory.py:443:65: error: Missing named
argument "created_before" for "MemorySearchFilter"  [call-arg]
    ...ll_nodes = await memory_service.search("", filters=MemorySearchFilter(
                                                          ^
ciris_engine/logic/adapters/api/routes/memory.py:443:65: error: Missing named
argument "created_by" for "MemorySearchFilter"  [call-arg]
    ...ll_nodes = await memory_service.search("", filters=MemorySearchFilter(
                                                          ^
ciris_engine/logic/adapters/api/routes/memory.py:443:65: error: Missing named
argument "has_attributes" for "MemorySearchFilter"  [call-arg]
    ...ll_nodes = await memory_service.search("", filters=MemorySearchFilter(
                                                          ^
ciris_engine/logic/adapters/api/routes/memory.py:443:65: error: Missing named
argument "attribute_values" for "MemorySearchFilter"  [call-arg]
    ...ll_nodes = await memory_service.search("", filters=MemorySearchFilter(
                                                          ^
ciris_engine/logic/adapters/api/routes/memory.py:443:65: error: Missing named
argument "offset" for "MemorySearchFilter"  [call-arg]
    ...ll_nodes = await memory_service.search("", filters=MemorySearchFilter(
                                                          ^
ciris_engine/logic/adapters/api/routes/memory.py:550:17: error: Missing named
argument "total_nodes" for "MemoryStats"  [call-arg]
            stats = MemoryStats()
                    ^~~~~~~~~~~~~
ciris_engine/logic/adapters/api/routes/memory.py:550:17: error: Missing named
argument "recent_nodes_24h" for "MemoryStats"  [call-arg]
            stats = MemoryStats()
                    ^~~~~~~~~~~~~
ciris_engine/logic/adapters/api/routes/memory.py:550:17: error: Missing named
argument "oldest_node_date" for "MemoryStats"  [call-arg]
            stats = MemoryStats()
                    ^~~~~~~~~~~~~
ciris_engine/logic/adapters/api/routes/memory.py:550:17: error: Missing named
argument "newest_node_date" for "MemoryStats"  [call-arg]
            stats = MemoryStats()
                    ^~~~~~~~~~~~~
ciris_engine/logic/adapters/api/routes/memory.py:603:37: error: Missing named
argument "total_nodes" for "MemoryStats"  [call-arg]
            return SuccessResponse(data=MemoryStats())
                                        ^~~~~~~~~~~~~
ciris_engine/logic/adapters/api/routes/memory.py:603:37: error: Missing named
argument "recent_nodes_24h" for "MemoryStats"  [call-arg]
            return SuccessResponse(data=MemoryStats())
                                        ^~~~~~~~~~~~~
ciris_engine/logic/adapters/api/routes/memory.py:603:37: error: Missing named
argument "oldest_node_date" for "MemoryStats"  [call-arg]
            return SuccessResponse(data=MemoryStats())
                                        ^~~~~~~~~~~~~
ciris_engine/logic/adapters/api/routes/memory.py:603:37: error: Missing named
argument "newest_node_date" for "MemoryStats"  [call-arg]
            return SuccessResponse(data=MemoryStats())
                                        ^~~~~~~~~~~~~
ciris_engine/logic/adapters/api/routes/memory.py:733:43: error: Argument 1 to
"append" of "list" has incompatible type "int"; expected "str"  [arg-type]
                                params.append(nodes_per_day * 2)  # Get ex...
                                              ^~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/routes/memory.py:766:29: error: Incompatible
types in assignment (expression has type "MemoryQuery", variable has type "str")
 [assignment]
                        query = MemoryQuery(
                                ^
ciris_engine/logic/adapters/api/routes/memory.py:777:25: error: Incompatible
types in assignment (expression has type "MemoryQuery", variable has type "str")
 [assignment]
                    query = MemoryQuery(
                            ^
ciris_engine/logic/adapters/api/routes/memory.py:849:52: error: Argument
"hours" to "timedelta" has incompatible type "Literal[0] | None"; expected
"float"  [arg-type]
                    start_time = now - timedelta(hours=hours)
                                                       ^~~~~
ciris_engine/logic/adapters/api/routes/memory.py:894:43: error: Argument 1 to
"append" of "list" has incompatible type "int"; expected "str"  [arg-type]
                                params.append(nodes_per_day * 2)  # Get ex...
                                              ^~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/routes/memory.py:933:38: error: Missing named
argument "created_after" for "MemorySearchFilter"  [call-arg]
                        search_filters = MemorySearchFilter(
                                         ^
ciris_engine/logic/adapters/api/routes/memory.py:933:38: error: Missing named
argument "created_before" for "MemorySearchFilter"  [call-arg]
                        search_filters = MemorySearchFilter(
                                         ^
ciris_engine/logic/adapters/api/routes/memory.py:933:38: error: Missing named
argument "created_by" for "MemorySearchFilter"  [call-arg]
                        search_filters = MemorySearchFilter(
                                         ^
ciris_engine/logic/adapters/api/routes/memory.py:933:38: error: Missing named
argument "has_attributes" for "MemorySearchFilter"  [call-arg]
                        search_filters = MemorySearchFilter(
                                         ^
ciris_engine/logic/adapters/api/routes/memory.py:933:38: error: Missing named
argument "attribute_values" for "MemorySearchFilter"  [call-arg]
                        search_filters = MemorySearchFilter(
                                         ^
ciris_engine/logic/adapters/api/routes/memory.py:942:25: error: Incompatible
types in assignment (expression has type "MemoryQuery", variable has type "str")
 [assignment]
                    query = MemoryQuery(
                            ^
ciris_engine/logic/adapters/api/routes/memory.py:1173:5: error: Function is
missing a type annotation  [no-untyped-def]
        def _hierarchy_pos_recursive(G, root, width=1., vert_gap=0.2, vert...
        ^
ciris_engine/logic/adapters/api/routes/memory.py:1200:5: error: Returning Any
from function declared to return "dict[str, tuple[float, float]]" 
[no-any-return]
        return _hierarchy_pos_recursive(G, root, width, vert_gap, vert_loc...
        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/adapters/api/routes/agent.py:121:1: error: Function is
missing a return type annotation  [no-untyped-def]
    async def interact(
    ^
ciris_engine/logic/adapters/api/routes/agent.py:139:11: error: Missing named
argument "reference_message_id" for "IncomingMessage"  [call-arg]
        msg = IncomingMessage(
              ^
ciris_engine/logic/adapters/api/routes/agent.py:208:1: error: Function is
missing a return type annotation  [no-untyped-def]
    async def get_history(
    ^
ciris_engine/logic/adapters/api/routes/agent.py:293:22: error: "type[NodeType]"
has no attribute "CONVERSATION"  [attr-defined]
                    type=NodeType.CONVERSATION if hasattr(NodeType, 'CONVE...
                         ^~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/routes/agent.py:329:42: error: Item "None" of
"Any | None" has no attribute "fetch_messages"  [union-attr]
                    channel_messages = await comm_service.fetch_messages(c...
                                             ^~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/routes/agent.py:339:40: error: Value of type
"ConversationMessage" is not indexable  [index]
                             key=lambda m: m["timestamp"] if isinstance(m[...
                                           ^~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/routes/agent.py:344:49: error: Value of type
"ConversationMessage" is not indexable  [index]
                messages = [m for m in messages if (m["timestamp"] if isin...
                                                    ^~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/routes/agent.py:349:29: error: Value of type
"ConversationMessage" is not indexable  [index]
                msg_timestamp = msg["timestamp"] if isinstance(msg["timest...
                                ^~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/routes/agent.py:351:20: error: Value of type
"ConversationMessage" is not indexable  [index]
                    id=msg["message_id"],
                       ^~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/routes/agent.py:352:24: error: Value of type
"ConversationMessage" is not indexable  [index]
                    author=msg["author_name"] or msg["author_id"],
                           ^~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/routes/agent.py:353:25: error: Value of type
"ConversationMessage" is not indexable  [index]
                    content=msg["content"],
                            ^~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/routes/agent.py:355:26: error:
"ConversationMessage" has no attribute "get"  [attr-defined]
                    is_agent=msg.get("is_agent_message", False)
                             ^~~~~~~
ciris_engine/logic/adapters/api/routes/agent.py:370:1: error: Function is
missing a return type annotation  [no-untyped-def]
    async def get_status(
    ^
ciris_engine/logic/adapters/api/routes/agent.py:497:1: error: Function is
missing a return type annotation  [no-untyped-def]
    async def get_identity(
    ^
ciris_engine/logic/adapters/api/routes/agent.py:516:17: error: Missing named
argument "type" for "MemoryQuery"  [call-arg]
            query = MemoryQuery(
                    ^
ciris_engine/logic/adapters/api/routes/agent.py:516:17: error: Missing named
argument "depth" for "MemoryQuery"  [call-arg]
            query = MemoryQuery(
                    ^
ciris_engine/logic/adapters/api/routes/agent.py:564:20: error: Missing named
argument "graph" for "ServiceAvailability"  [call-arg]
            services = ServiceAvailability()
                       ^~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/routes/agent.py:564:20: error: Missing named
argument "core" for "ServiceAvailability"  [call-arg]
            services = ServiceAvailability()
                       ^~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/routes/agent.py:564:20: error: Missing named
argument "infrastructure" for "ServiceAvailability"  [call-arg]
            services = ServiceAvailability()
                       ^~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/routes/agent.py:564:20: error: Missing named
argument "governance" for "ServiceAvailability"  [call-arg]
            services = ServiceAvailability()
                       ^~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/routes/agent.py:564:20: error: Missing named
argument "special" for "ServiceAvailability"  [call-arg]
            services = ServiceAvailability()
                       ^~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/routes/agent.py:621:1: error: Function is
missing a return type annotation  [no-untyped-def]
    async def get_channels(
    ^
ciris_engine/logic/adapters/api/routes/agent.py:760:1: error: Function is
missing a return type annotation  [no-untyped-def]
    async def notify_interact_response(message_id: str, content: str):
    ^
ciris_engine/logic/adapters/api/routes/agent.py:772:1: error: Function is
missing a return type annotation  [no-untyped-def]
    async def websocket_stream(
    ^
ciris_engine/logic/adapters/api/routes/agent.py:811:20: error: Missing named
argument "session_id" for "AuthContext"  [call-arg]
        auth_context = AuthContext(
                       ^
ciris_engine/logic/adapters/api/routes/agent.py:811:20: error: Missing named
argument "request" for "AuthContext"  [call-arg]
        auth_context = AuthContext(
                       ^
ciris_engine/logic/utils/graphql_context_provider.py:109:37: error: Missing
named argument "created_after" for "MemorySearchFilter"  [call-arg]
                        search_filter = MemorySearchFilter(
                                        ^
ciris_engine/logic/utils/graphql_context_provider.py:109:37: error: Missing
named argument "created_before" for "MemorySearchFilter"  [call-arg]
                        search_filter = MemorySearchFilter(
                                        ^
ciris_engine/logic/utils/graphql_context_provider.py:109:37: error: Missing
named argument "created_by" for "MemorySearchFilter"  [call-arg]
                        search_filter = MemorySearchFilter(
                                        ^
ciris_engine/logic/utils/graphql_context_provider.py:109:37: error: Missing
named argument "has_attributes" for "MemorySearchFilter"  [call-arg]
                        search_filter = MemorySearchFilter(
                                        ^
ciris_engine/logic/utils/graphql_context_provider.py:109:37: error: Missing
named argument "attribute_values" for "MemorySearchFilter"  [call-arg]
                        search_filter = MemorySearchFilter(
                                        ^
ciris_engine/logic/utils/graphql_context_provider.py:109:37: error: Missing
named argument "limit" for "MemorySearchFilter"  [call-arg]
                        search_filter = MemorySearchFilter(
                                        ^
ciris_engine/logic/utils/graphql_context_provider.py:109:37: error: Missing
named argument "offset" for "MemorySearchFilter"  [call-arg]
                        search_filter = MemorySearchFilter(
                                        ^
ciris_engine/logic/services/graph/config_service.py:16:14: error: Incompatible
types in assignment (expression has type "None", variable has type Module) 
[assignment]
        psutil = None
                 ^~~~
ciris_engine/logic/services/graph/config_service.py:52:16: error: Missing named
argument "metadata" for "ServiceCapabilities"  [call-arg]
            return ServiceCapabilities(
                   ^
ciris_engine/logic/services/graph/config_service.py:78:16: error: Missing named
argument "last_error" for "ServiceStatus"  [call-arg]
            return ServiceStatus(
                   ^
ciris_engine/logic/services/graph/config_service.py:78:16: error: Missing named
argument "custom_metrics" for "ServiceStatus"  [call-arg]
            return ServiceStatus(
                   ^
ciris_engine/logic/services/graph/config_service.py:78:16: error: Missing named
argument "last_health_check" for "ServiceStatus"  [call-arg]
            return ServiceStatus(
                   ^
ciris_engine/logic/services/graph/config_service.py:89:36: error: Argument 1 of
"store_in_graph" is incompatible with supertype "GraphServiceProtocol";
supertype defines the argument type as "GraphNode"  [override]
        async def store_in_graph(self, node: ConfigNode) -> str:
                                       ^~~~~~~~~~~~~~~~
ciris_engine/logic/services/graph/config_service.py:89:36: note: This violates the Liskov substitution principle
ciris_engine/logic/services/graph/config_service.py:89:36: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#incompatible-overrides
ciris_engine/logic/services/graph/config_service.py:99:5: error: Return type
"Coroutine[Any, Any, list[ConfigNode]]" of "query_graph" incompatible with
return type "Coroutine[Any, Any, list[GraphNode]]" in supertype
"GraphServiceProtocol"  [override]
        async def query_graph(self, query: dict) -> List[ConfigNode]:
        ^
ciris_engine/logic/services/graph/config_service.py:99:33: error: Argument 1 of
"query_graph" is incompatible with supertype "GraphServiceProtocol"; supertype
defines the argument type as "MemoryQuery"  [override]
        async def query_graph(self, query: dict) -> List[ConfigNode]:
                                    ^~~~~~~~~~~
ciris_engine/logic/services/graph/config_service.py:99:33: note: This violates the Liskov substitution principle
ciris_engine/logic/services/graph/config_service.py:99:33: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#incompatible-overrides
ciris_engine/logic/services/graph/config_service.py:158:25: error: Subclass of
"int" and "Path" cannot exist: would have incompatible method signatures 
[unreachable]
            elif isinstance(value, Path):
                            ^~~~~
ciris_engine/logic/services/graph/config_service.py:158:25: error: Subclass of
"float" and "Path" cannot exist: would have incompatible method signatures 
[unreachable]
            elif isinstance(value, Path):
                            ^~~~~
ciris_engine/logic/services/graph/config_service.py:158:25: error: Subclass of
"list[Any]" and "Path" cannot exist: would have incompatible method signatures 
[unreachable]
            elif isinstance(value, Path):
                            ^~~~~
ciris_engine/logic/services/graph/config_service.py:158:25: error: Subclass of
"dict[Any, Any]" and "Path" cannot exist: would have incompatible method
signatures  [unreachable]
            elif isinstance(value, Path):
                            ^~~~~
ciris_engine/logic/services/graph/config_service.py:159:13: error: Statement is
unreachable  [unreachable]
                config_value.string_value = str(value)  # Convert Path to ...
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/graph/config_service.py:172:13: error: Statement is
unreachable  [unreachable]
                safe_key = ''.join(c if c.isprintable() and c not in '\n\r...
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/services/graph/config_service.py:180:27: error: Subclass of
"str" and "Path" cannot exist: would have incompatible method signatures 
[unreachable]
                if isinstance(value, Path):
                              ^~~~~
ciris_engine/logic/services/graph/config_service.py:180:27: error: Subclass of
"int" and "Path" cannot exist: would have incompatible method signatures 
[unreachable]
                if isinstance(value, Path):
                              ^~~~~
ciris_engine/logic/services/graph/config_service.py:180:27: error: Subclass of
"float" and "Path" cannot exist: would have incompatible method signatures 
[unreachable]
                if isinstance(value, Path):
                              ^~~~~
ciris_engine/logic/services/graph/config_service.py:180:27: error: Subclass of
"bool" and "Path" cannot exist: "bool" is final  [unreachable]
                if isinstance(value, Path):
                              ^~~~~
ciris_engine/logic/services/graph/config_service.py:180:27: error: Subclass of
"list[Any]" and "Path" cannot exist: would have incompatible method signatures 
[unreachable]
                if isinstance(value, Path):
                              ^~~~~
ciris_engine/logic/services/graph/config_service.py:180:27: error: Subclass of
"dict[Any, Any]" and "Path" cannot exist: would have incompatible method
signatures  [unreachable]
                if isinstance(value, Path):
                              ^~~~~
ciris_engine/logic/services/graph/config_service.py:181:17: error: Statement is
unreachable  [unreachable]
                    value = str(value)
                    ^~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/graph/config_service.py:221:22: error: Value
expression in dictionary comprehension has incompatible type "ConfigValue";
expected type "str | int | float | list[Any] | dict[Any, Any]"  [misc]
            return {key: node.value for key, node in config_map.items()}
                         ^~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_adapter.py:188:17: error: Missing
named argument "correlation_type" for "ServiceCorrelation"  [call-arg]
                    ServiceCorrelation(
                    ^
ciris_engine/logic/adapters/discord/discord_adapter.py:188:17: error: Missing
named argument "metric_data" for "ServiceCorrelation"  [call-arg]
                    ServiceCorrelation(
                    ^
ciris_engine/logic/adapters/discord/discord_adapter.py:188:17: error: Missing
named argument "log_data" for "ServiceCorrelation"  [call-arg]
                    ServiceCorrelation(
                    ^
ciris_engine/logic/adapters/discord/discord_adapter.py:188:17: error: Missing
named argument "trace_context" for "ServiceCorrelation"  [call-arg]
                    ServiceCorrelation(
                    ^
ciris_engine/logic/adapters/discord/discord_adapter.py:188:17: error: Missing
named argument "retention_policy" for "ServiceCorrelation"  [call-arg]
                    ServiceCorrelation(
                    ^
ciris_engine/logic/adapters/discord/discord_adapter.py:188:17: error: Missing
named argument "ttl_seconds" for "ServiceCorrelation"  [call-arg]
                    ServiceCorrelation(
                    ^
ciris_engine/logic/adapters/discord/discord_adapter.py:188:17: error: Missing
named argument "parent_correlation_id" for "ServiceCorrelation"  [call-arg]
                    ServiceCorrelation(
                    ^
ciris_engine/logic/adapters/discord/discord_adapter.py:193:34: error: Missing
named argument "thought_id" for "ServiceRequestData"  [call-arg]
                        request_data=ServiceRequestData(
                                     ^
ciris_engine/logic/adapters/discord/discord_adapter.py:193:34: error: Missing
named argument "task_id" for "ServiceRequestData"  [call-arg]
                        request_data=ServiceRequestData(
                                     ^
ciris_engine/logic/adapters/discord/discord_adapter.py:193:34: error: Missing
named argument "timeout_seconds" for "ServiceRequestData"  [call-arg]
                        request_data=ServiceRequestData(
                                     ^
ciris_engine/logic/adapters/discord/discord_adapter.py:200:35: error: Missing
named argument "result_type" for "ServiceResponseData"  [call-arg]
                        response_data=ServiceResponseData(
                                      ^
ciris_engine/logic/adapters/discord/discord_adapter.py:200:35: error: Missing
named argument "result_size" for "ServiceResponseData"  [call-arg]
                        response_data=ServiceResponseData(
                                      ^
ciris_engine/logic/adapters/discord/discord_adapter.py:200:35: error: Missing
named argument "error_type" for "ServiceResponseData"  [call-arg]
                        response_data=ServiceResponseData(
                                      ^
ciris_engine/logic/adapters/discord/discord_adapter.py:200:35: error: Missing
named argument "error_message" for "ServiceResponseData"  [call-arg]
                        response_data=ServiceResponseData(
                                      ^
ciris_engine/logic/adapters/discord/discord_adapter.py:200:35: error: Missing
named argument "error_traceback" for "ServiceResponseData"  [call-arg]
                        response_data=ServiceResponseData(
                                      ^
ciris_engine/logic/adapters/discord/discord_adapter.py:200:35: error: Missing
named argument "tokens_used" for "ServiceResponseData"  [call-arg]
                        response_data=ServiceResponseData(
                                      ^
ciris_engine/logic/adapters/discord/discord_adapter.py:200:35: error: Missing
named argument "memory_bytes" for "ServiceResponseData"  [call-arg]
                        response_data=ServiceResponseData(
                                      ^
ciris_engine/logic/adapters/discord/discord_adapter.py:299:21: error: Returning
Any from function declared to return "list[dict[str, Any]]"  [no-any-return]
                        return await self._retry_discord_operation(
                        ^
ciris_engine/logic/adapters/discord/discord_adapter.py:320:20: error:
Incompatible return value type (got "bool", expected "str | None") 
[return-value]
                return False
                       ^~~~~
ciris_engine/logic/adapters/discord/discord_adapter.py:338:17: error: Missing
named argument "correlation_type" for "ServiceCorrelation"  [call-arg]
                    ServiceCorrelation(
                    ^
ciris_engine/logic/adapters/discord/discord_adapter.py:338:17: error: Missing
named argument "metric_data" for "ServiceCorrelation"  [call-arg]
                    ServiceCorrelation(
                    ^
ciris_engine/logic/adapters/discord/discord_adapter.py:338:17: error: Missing
named argument "log_data" for "ServiceCorrelation"  [call-arg]
                    ServiceCorrelation(
                    ^
ciris_engine/logic/adapters/discord/discord_adapter.py:338:17: error: Missing
named argument "trace_context" for "ServiceCorrelation"  [call-arg]
                    ServiceCorrelation(
                    ^
ciris_engine/logic/adapters/discord/discord_adapter.py:338:17: error: Missing
named argument "retention_policy" for "ServiceCorrelation"  [call-arg]
                    ServiceCorrelation(
                    ^
ciris_engine/logic/adapters/discord/discord_adapter.py:338:17: error: Missing
named argument "ttl_seconds" for "ServiceCorrelation"  [call-arg]
                    ServiceCorrelation(
                    ^
ciris_engine/logic/adapters/discord/discord_adapter.py:338:17: error: Missing
named argument "parent_correlation_id" for "ServiceCorrelation"  [call-arg]
                    ServiceCorrelation(
                    ^
ciris_engine/logic/adapters/discord/discord_adapter.py:343:34: error: Missing
named argument "thought_id" for "ServiceRequestData"  [call-arg]
                        request_data=ServiceRequestData(
                                     ^
ciris_engine/logic/adapters/discord/discord_adapter.py:343:34: error: Missing
named argument "task_id" for "ServiceRequestData"  [call-arg]
                        request_data=ServiceRequestData(
                                     ^
ciris_engine/logic/adapters/discord/discord_adapter.py:343:34: error: Missing
named argument "timeout_seconds" for "ServiceRequestData"  [call-arg]
                        request_data=ServiceRequestData(
                                     ^
ciris_engine/logic/adapters/discord/discord_adapter.py:350:35: error: Missing
named argument "result_type" for "ServiceResponseData"  [call-arg]
                        response_data=ServiceResponseData(
                                      ^
ciris_engine/logic/adapters/discord/discord_adapter.py:350:35: error: Missing
named argument "result_size" for "ServiceResponseData"  [call-arg]
                        response_data=ServiceResponseData(
                                      ^
ciris_engine/logic/adapters/discord/discord_adapter.py:350:35: error: Missing
named argument "error_type" for "ServiceResponseData"  [call-arg]
                        response_data=ServiceResponseData(
                                      ^
ciris_engine/logic/adapters/discord/discord_adapter.py:350:35: error: Missing
named argument "error_message" for "ServiceResponseData"  [call-arg]
                        response_data=ServiceResponseData(
                                      ^
ciris_engine/logic/adapters/discord/discord_adapter.py:350:35: error: Missing
named argument "error_traceback" for "ServiceResponseData"  [call-arg]
                        response_data=ServiceResponseData(
                                      ^
ciris_engine/logic/adapters/discord/discord_adapter.py:350:35: error: Missing
named argument "tokens_used" for "ServiceResponseData"  [call-arg]
                        response_data=ServiceResponseData(
                                      ^
ciris_engine/logic/adapters/discord/discord_adapter.py:350:35: error: Missing
named argument "memory_bytes" for "ServiceResponseData"  [call-arg]
                        response_data=ServiceResponseData(
                                      ^
ciris_engine/logic/adapters/discord/discord_adapter.py:491:37: error:
Unexpected keyword argument "created_at" for "DiscordApprovalNode"  [call-arg]
                        approval_node = DiscordApprovalNode(
                                        ^
ciris_engine/logic/adapters/discord/discord_adapter.py:491:37: error:
Unexpected keyword argument "created_by" for "DiscordApprovalNode"  [call-arg]
                        approval_node = DiscordApprovalNode(
                                        ^
ciris_engine/logic/adapters/discord/discord_adapter.py:588:32: error: Missing
named argument "user_id" for "PendingDeferral"  [call-arg]
                    pending.append(PendingDeferral(
                                   ^
ciris_engine/logic/adapters/discord/discord_adapter.py:588:32: error: Missing
named argument "assigned_wa_id" for "PendingDeferral"  [call-arg]
                    pending.append(PendingDeferral(
                                   ^
ciris_engine/logic/adapters/discord/discord_adapter.py:588:32: error: Missing
named argument "requires_role" for "PendingDeferral"  [call-arg]
                    pending.append(PendingDeferral(
                                   ^
ciris_engine/logic/adapters/discord/discord_adapter.py:588:32: error: Missing
named argument "status" for "PendingDeferral"  [call-arg]
                    pending.append(PendingDeferral(
                                   ^
ciris_engine/logic/adapters/discord/discord_adapter.py:588:32: error: Missing
named argument "resolution" for "PendingDeferral"  [call-arg]
                    pending.append(PendingDeferral(
                                   ^
ciris_engine/logic/adapters/discord/discord_adapter.py:588:32: error: Missing
named argument "resolved_at" for "PendingDeferral"  [call-arg]
                    pending.append(PendingDeferral(
                                   ^
ciris_engine/logic/adapters/discord/discord_adapter.py:705:9: error: Need type
annotation for "channels" (hint: "channels: list[<type>] = ...") 
[var-annotated]
            channels = []
            ^~~~~~~~
ciris_engine/logic/adapters/discord/discord_adapter.py:725:39: error: Item
"None" of "datetime | Any | None" has no attribute "isoformat"  [union-attr]
                            'created_at': channel.created_at.isoformat() i...
                                          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_adapter.py:739:39: error: Item
"None" of "datetime | Any | None" has no attribute "isoformat"  [union-attr]
                            'created_at': channel.created_at.isoformat() i...
                                          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_adapter.py:773:9: error: Need type
annotation for "permissions" (hint: "permissions: list[<type>] = ...") 
[var-annotated]
            permissions = []
            ^~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_adapter.py:785:48: error:
Unexpected keyword argument "permission" for "WAPermission"; did you mean
"permission_id", "permission_name", or "permission_type"?  [call-arg]
                                permissions.append(WAPermission(
                                                   ^
ciris_engine/logic/adapters/discord/discord_adapter.py:816:20: error:
Incompatible return value type (got "bool", expected "str")  [return-value]
                return False
                       ^~~~~
ciris_engine/logic/adapters/discord/discord_adapter.py:863:38: error: Item
"ForumChannel" of
"VoiceChannel | StageChannel | ForumChannel | TextChannel | CategoryChannel | Thread | PrivateChannel"
has no attribute "send"  [union-attr]
                    sent_message = await channel.send(content=chunks[0], e...
                                         ^~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_adapter.py:863:38: error: Item
"CategoryChannel" of
"VoiceChannel | StageChannel | ForumChannel | TextChannel | CategoryChannel | Thread | PrivateChannel"
has no attribute "send"  [union-attr]
                    sent_message = await channel.send(content=chunks[0], e...
                                         ^~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_adapter.py:863:38: error: Item
"PrivateChannel" of
"VoiceChannel | StageChannel | ForumChannel | TextChannel | CategoryChannel | Thread | PrivateChannel"
has no attribute "send"  [union-attr]
                    sent_message = await channel.send(content=chunks[0], e...
                                         ^~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_adapter.py:868:27: error: Item
"ForumChannel" of
"VoiceChannel | StageChannel | ForumChannel | TextChannel | CategoryChannel | Thread | PrivateChannel"
has no attribute "send"  [union-attr]
                        await channel.send(content=continuation)
                              ^~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_adapter.py:868:27: error: Item
"CategoryChannel" of
"VoiceChannel | StageChannel | ForumChannel | TextChannel | CategoryChannel | Thread | PrivateChannel"
has no attribute "send"  [union-attr]
                        await channel.send(content=continuation)
                              ^~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_adapter.py:868:27: error: Item
"PrivateChannel" of
"VoiceChannel | StageChannel | ForumChannel | TextChannel | CategoryChannel | Thread | PrivateChannel"
has no attribute "send"  [union-attr]
                        await channel.send(content=continuation)
                              ^~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_adapter.py:872:38: error: Item
"ForumChannel" of
"VoiceChannel | StageChannel | ForumChannel | TextChannel | CategoryChannel | Thread | PrivateChannel"
has no attribute "send"  [union-attr]
                    sent_message = await channel.send(content="**DEFERRAL ...
                                         ^~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_adapter.py:872:38: error: Item
"CategoryChannel" of
"VoiceChannel | StageChannel | ForumChannel | TextChannel | CategoryChannel | Thread | PrivateChannel"
has no attribute "send"  [union-attr]
                    sent_message = await channel.send(content="**DEFERRAL ...
                                         ^~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_adapter.py:872:38: error: Item
"PrivateChannel" of
"VoiceChannel | StageChannel | ForumChannel | TextChannel | CategoryChannel | Thread | PrivateChannel"
has no attribute "send"  [union-attr]
                    sent_message = await channel.send(content="**DEFERRAL ...
                                         ^~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_adapter.py:891:37: error:
Unexpected keyword argument "created_at" for "DiscordDeferralNode"  [call-arg]
                        deferral_node = DiscordDeferralNode(
                                        ^
ciris_engine/logic/adapters/discord/discord_adapter.py:891:37: error:
Unexpected keyword argument "created_by" for "DiscordDeferralNode"  [call-arg]
                        deferral_node = DiscordDeferralNode(
                                        ^
ciris_engine/logic/adapters/discord/discord_adapter.py:920:17: error: Missing
named argument "correlation_type" for "ServiceCorrelation"  [call-arg]
                    ServiceCorrelation(
                    ^
ciris_engine/logic/adapters/discord/discord_adapter.py:920:17: error: Missing
named argument "metric_data" for "ServiceCorrelation"  [call-arg]
                    ServiceCorrelation(
                    ^
ciris_engine/logic/adapters/discord/discord_adapter.py:920:17: error: Missing
named argument "log_data" for "ServiceCorrelation"  [call-arg]
                    ServiceCorrelation(
                    ^
ciris_engine/logic/adapters/discord/discord_adapter.py:920:17: error: Missing
named argument "trace_context" for "ServiceCorrelation"  [call-arg]
                    ServiceCorrelation(
                    ^
ciris_engine/logic/adapters/discord/discord_adapter.py:920:17: error: Missing
named argument "retention_policy" for "ServiceCorrelation"  [call-arg]
                    ServiceCorrelation(
                    ^
ciris_engine/logic/adapters/discord/discord_adapter.py:920:17: error: Missing
named argument "ttl_seconds" for "ServiceCorrelation"  [call-arg]
                    ServiceCorrelation(
                    ^
ciris_engine/logic/adapters/discord/discord_adapter.py:920:17: error: Missing
named argument "parent_correlation_id" for "ServiceCorrelation"  [call-arg]
                    ServiceCorrelation(
                    ^
ciris_engine/logic/adapters/discord/discord_adapter.py:925:34: error: Missing
named argument "thought_id" for "ServiceRequestData"  [call-arg]
                        request_data=ServiceRequestData(
                                     ^
ciris_engine/logic/adapters/discord/discord_adapter.py:925:34: error: Missing
named argument "task_id" for "ServiceRequestData"  [call-arg]
                        request_data=ServiceRequestData(
                                     ^
ciris_engine/logic/adapters/discord/discord_adapter.py:925:34: error: Missing
named argument "timeout_seconds" for "ServiceRequestData"  [call-arg]
                        request_data=ServiceRequestData(
                                     ^
ciris_engine/logic/adapters/discord/discord_adapter.py:932:35: error: Missing
named argument "result_type" for "ServiceResponseData"  [call-arg]
                        response_data=ServiceResponseData(
                                      ^
ciris_engine/logic/adapters/discord/discord_adapter.py:932:35: error: Missing
named argument "result_size" for "ServiceResponseData"  [call-arg]
                        response_data=ServiceResponseData(
                                      ^
ciris_engine/logic/adapters/discord/discord_adapter.py:932:35: error: Missing
named argument "error_type" for "ServiceResponseData"  [call-arg]
                        response_data=ServiceResponseData(
                                      ^
ciris_engine/logic/adapters/discord/discord_adapter.py:932:35: error: Missing
named argument "error_message" for "ServiceResponseData"  [call-arg]
                        response_data=ServiceResponseData(
                                      ^
ciris_engine/logic/adapters/discord/discord_adapter.py:932:35: error: Missing
named argument "error_traceback" for "ServiceResponseData"  [call-arg]
                        response_data=ServiceResponseData(
                                      ^
ciris_engine/logic/adapters/discord/discord_adapter.py:932:35: error: Missing
named argument "tokens_used" for "ServiceResponseData"  [call-arg]
                        response_data=ServiceResponseData(
                                      ^
ciris_engine/logic/adapters/discord/discord_adapter.py:932:35: error: Missing
named argument "memory_bytes" for "ServiceResponseData"  [call-arg]
                        response_data=ServiceResponseData(
                                      ^
ciris_engine/logic/adapters/discord/discord_adapter.py:971:16: error: Missing
named argument "metadata" for "ServiceCapabilities"  [call-arg]
            return ServiceCapabilities(
                   ^
ciris_engine/logic/adapters/discord/discord_adapter.py:1005:16: error: Missing
named argument "last_error" for "ServiceStatus"  [call-arg]
            return ServiceStatus(
                   ^
ciris_engine/logic/adapters/discord/discord_adapter.py:1005:16: error: Missing
named argument "custom_metrics" for "ServiceStatus"  [call-arg]
            return ServiceStatus(
                   ^
ciris_engine/logic/adapters/discord/discord_adapter.py:1005:16: error: Missing
named argument "last_health_check" for "ServiceStatus"  [call-arg]
            return ServiceStatus(
                   ^
ciris_engine/logic/adapters/discord/discord_adapter.py:1009:29: error: Item
"None" of "TimeServiceProtocol | None" has no attribute "now"  [union-attr]
                uptime_seconds=(self._time_service.now() - self._start_tim...
                                ^~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_adapter.py:1079:32: error: Item
"None" of "TimeServiceProtocol | None" has no attribute "now"  [union-attr]
                self._start_time = self._time_service.now()
                                   ^~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_adapter.py:1092:1: error: Cannot
find implementation or library stub for module named
"ciris_engine.logic.services.identity"  [import-not-found]
                        from ciris_engine.logic.services.identity import S...
    ^
ciris_engine/logic/adapters/discord/discord_adapter.py:1230:84: error: Argument
1 to "int" has incompatible type "bool | str | None"; expected
"str | Buffer | SupportsInt | SupportsIndex | SupportsTrunc"  [arg-type]
    ...l = self._channel_manager.client.get_channel(int(channel_info["channel...
                                                        ^~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/adapters/discord/discord_adapter.py:1232:59: error: Item
"PrivateChannel" of
"VoiceChannel | StageChannel | ForumChannel | TextChannel | CategoryChannel | Thread | PrivateChannel"
has no attribute "name"  [union-attr]
    ...               channel_info["channel_name"] = f"#{discord_channel.name...
                                                        ^~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/api_communication.py:45:27: error: Missing
named argument "correlation_type" for "ServiceCorrelation"  [call-arg]
                correlation = ServiceCorrelation(
                              ^
ciris_engine/logic/adapters/api/api_communication.py:45:27: error: Missing
named argument "metric_data" for "ServiceCorrelation"  [call-arg]
                correlation = ServiceCorrelation(
                              ^
ciris_engine/logic/adapters/api/api_communication.py:45:27: error: Missing
named argument "log_data" for "ServiceCorrelation"  [call-arg]
                correlation = ServiceCorrelation(
                              ^
ciris_engine/logic/adapters/api/api_communication.py:45:27: error: Missing
named argument "trace_context" for "ServiceCorrelation"  [call-arg]
                correlation = ServiceCorrelation(
                              ^
ciris_engine/logic/adapters/api/api_communication.py:45:27: error: Missing
named argument "retention_policy" for "ServiceCorrelation"  [call-arg]
                correlation = ServiceCorrelation(
                              ^
ciris_engine/logic/adapters/api/api_communication.py:45:27: error: Missing
named argument "ttl_seconds" for "ServiceCorrelation"  [call-arg]
                correlation = ServiceCorrelation(
                              ^
ciris_engine/logic/adapters/api/api_communication.py:45:27: error: Missing
named argument "parent_correlation_id" for "ServiceCorrelation"  [call-arg]
                correlation = ServiceCorrelation(
                              ^
ciris_engine/logic/adapters/api/api_communication.py:50:30: error: Missing
named argument "thought_id" for "ServiceRequestData"  [call-arg]
                    request_data=ServiceRequestData(
                                 ^
ciris_engine/logic/adapters/api/api_communication.py:50:30: error: Missing
named argument "task_id" for "ServiceRequestData"  [call-arg]
                    request_data=ServiceRequestData(
                                 ^
ciris_engine/logic/adapters/api/api_communication.py:50:30: error: Missing
named argument "timeout_seconds" for "ServiceRequestData"  [call-arg]
                    request_data=ServiceRequestData(
                                 ^
ciris_engine/logic/adapters/api/api_communication.py:60:31: error: Missing
named argument "result_type" for "ServiceResponseData"  [call-arg]
                    response_data=ServiceResponseData(
                                  ^
ciris_engine/logic/adapters/api/api_communication.py:60:31: error: Missing
named argument "result_size" for "ServiceResponseData"  [call-arg]
                    response_data=ServiceResponseData(
                                  ^
ciris_engine/logic/adapters/api/api_communication.py:60:31: error: Missing
named argument "error_type" for "ServiceResponseData"  [call-arg]
                    response_data=ServiceResponseData(
                                  ^
ciris_engine/logic/adapters/api/api_communication.py:60:31: error: Missing
named argument "error_message" for "ServiceResponseData"  [call-arg]
                    response_data=ServiceResponseData(
                                  ^
ciris_engine/logic/adapters/api/api_communication.py:60:31: error: Missing
named argument "error_traceback" for "ServiceResponseData"  [call-arg]
                    response_data=ServiceResponseData(
                                  ^
ciris_engine/logic/adapters/api/api_communication.py:60:31: error: Missing
named argument "tokens_used" for "ServiceResponseData"  [call-arg]
                    response_data=ServiceResponseData(
                                  ^
ciris_engine/logic/adapters/api/api_communication.py:60:31: error: Missing
named argument "memory_bytes" for "ServiceResponseData"  [call-arg]
                    response_data=ServiceResponseData(
                                  ^
ciris_engine/logic/adapters/api/api_communication.py:229:35: error: Subclass of
"ServiceRequestData" and "dict[Any, Any]" cannot exist: would have incompatible
method signatures  [unreachable]
                        if isinstance(corr.request_data, dict):
                                      ^~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/api_communication.py:230:25: error: Statement
is unreachable  [unreachable]
                            params = corr.request_data.get("parameters", {...
                            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/api_communication.py:251:35: error: Subclass of
"ServiceRequestData" and "dict[Any, Any]" cannot exist: would have incompatible
method signatures  [unreachable]
                        if isinstance(corr.request_data, dict):
                                      ^~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/api_communication.py:252:25: error: Statement
is unreachable  [unreachable]
                            params = corr.request_data.get("parameters", {...
                            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/api_communication.py:273:31: error: Argument
"key" to "sort" of "list" has incompatible type
"Callable[[dict[str, object]], object]"; expected
"Callable[[dict[str, object]], SupportsDunderLT[Any] | SupportsDunderGT[Any]]" 
[arg-type]
                messages.sort(key=lambda m: m["timestamp"])
                                  ^
ciris_engine/logic/adapters/api/api_communication.py:273:41: error:
Incompatible return value type (got "object", expected
"SupportsDunderLT[Any] | SupportsDunderGT[Any]")  [return-value]
                messages.sort(key=lambda m: m["timestamp"])
                                            ^~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/api_communication.py:302:29: error: Name
"ServiceStatus" is not defined  [name-defined]
        def get_status(self) -> "ServiceStatus":
                                ^
ciris_engine/logic/adapters/api/api_communication.py:317:16: error: Missing
named argument "custom_metrics" for "ServiceStatus"  [call-arg]
            return ServiceStatus(
                   ^
ciris_engine/logic/adapters/api/api_communication.py:317:16: error: Missing
named argument "last_health_check" for "ServiceStatus"  [call-arg]
            return ServiceStatus(
                   ^
ciris_engine/logic/adapters/api/api_communication.py:332:35: error: Name
"ServiceCapabilities" is not defined  [name-defined]
        def get_capabilities(self) -> "ServiceCapabilities":
                                      ^
ciris_engine/logic/telemetry/__init__.py:17:1: error: Cannot find
implementation or library stub for module named
"ciris_engine.logic.telemetry.collectors"  [import-not-found]
    from .collectors import (
    ^
ciris_engine/logic/services/graph/telemetry_service.py:118: error: Unused
"type: ignore" comment  [unused-ignore]
                    from ciris_engine.logic.buses import MemoryBus  # type...
                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/services/graph/telemetry_service.py:314:35: error: Subclass
of "datetime" and "str" cannot exist: would have incompatible method signatures 
[unreachable]
                        if isinstance(timestamp_value, str):
                                      ^~~~~~~~~~~~~~~
ciris_engine/logic/services/graph/telemetry_service.py:315:25: error: Statement
is unreachable  [unreachable]
                            try:
                            ^
ciris_engine/logic/services/graph/telemetry_service.py:321: error: Unused
"type: ignore" comment  [unused-ignore]
                            ts = timestamp_value  # type: ignore[assignmen...
                            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/graph/base.py:64:16: error: Unexpected keyword
argument "capabilities" for "ServiceCapabilities"  [call-arg]
            return ServiceCapabilities(
                   ^
ciris_engine/logic/services/graph/base.py:76:16: error: Unexpected keyword
argument "healthy" for "ServiceStatus"; did you mean "is_healthy"?  [call-arg]
            return ServiceStatus(
                   ^
ciris_engine/logic/services/graph/base.py:76:16: error: Unexpected keyword
argument "status" for "ServiceStatus"  [call-arg]
            return ServiceStatus(
                   ^
ciris_engine/logic/services/graph/base.py:76:16: error: Unexpected keyword
argument "details" for "ServiceStatus"  [call-arg]
            return ServiceStatus(
                   ^
ciris_engine/logic/services/graph/base.py:108:24: error: Missing positional
argument "handler_name" in call to "memorize" of "MemoryBus"  [call-arg]
            result = await self._memory_bus.memorize(graph_node)
                           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/graph/base.py:124:24: error: Missing positional
argument "handler_name" in call to "recall" of "MemoryBus"  [call-arg]
            result = await self._memory_bus.recall(query)
                           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/graph/audit_service.py:157:46: error: Argument 1 to
"MemoryBus" has incompatible type "object"; expected "ServiceRegistry" 
[arg-type]
                    self._memory_bus = MemoryBus(registry, self._time_serv...
                                                 ^~~~~~~~
ciris_engine/logic/services/graph/audit_service.py:212:60: error: Argument 2 to
"log_event" of "GraphAuditService" has incompatible type "AuditEventData";
expected "dict[Any, Any]"  [arg-type]
    ...        await self.log_event("audit_service_shutdown", shutdown_event)
                                                              ^~~~~~~~~~~~~~
ciris_engine/logic/services/graph/audit_service.py:289:9: error: Statement is
unreachable  [unreachable]
            elif isinstance(event_data, AuditEventData):
            ^
ciris_engine/logic/services/graph/audit_service.py:395:50: error: Argument 2 to
"log_event" of "GraphAuditService" has incompatible type "AuditEventData";
expected "dict[Any, Any]"  [arg-type]
            await self.log_event("conscience_check", event_data)
                                                     ^~~~~~~~~~
ciris_engine/logic/services/graph/audit_service.py:427:59: error: Argument 1 to
"_convert_timeseries_to_entries" of "GraphAuditService" has incompatible type
"list[TimeSeriesDataPoint]"; expected "list[GraphNode]"  [arg-type]
    ...   results = self._convert_timeseries_to_entries(timeseries_data, enti...
                                                        ^~~~~~~~~~~~~~~
ciris_engine/logic/services/graph/audit_service.py:436:13: error: Incompatible
types in assignment (expression has type "AuditEntry", variable has type
"AuditRequest")  [assignment]
                for e in results:
                ^
ciris_engine/logic/services/graph/audit_service.py:438:41: error: Incompatible
types in assignment (expression has type "AuditRequest", target has type
"AuditEntry")  [assignment]
                        all_entries[e.id] = e
                                            ^
ciris_engine/logic/services/graph/audit_service.py:514:44: error: Incompatible
types in assignment (expression has type "str | int | float | None", target has
type "str | int | float | bool")  [assignment]
                                flat_data[k] = v
                                               ^
ciris_engine/logic/services/graph/audit_service.py:600:21: error: Argument 1 to
"_matches_filters" of "GraphAuditService" has incompatible type
"TimeSeriesDataPoint"; expected "GraphNode"  [arg-type]
                        data, start_time, end_time, action_types, thought_...
                        ^~~~
ciris_engine/logic/services/graph/audit_service.py:605:59: error: Argument 1 to
"_tsdb_to_audit_entry" of "GraphAuditService" has incompatible type
"TimeSeriesDataPoint"; expected "GraphNode"  [arg-type]
                    audit_request = self._tsdb_to_audit_entry(data)
                                                              ^~~~
ciris_engine/logic/services/graph/audit_service.py:624:20: error: Missing named
argument "missing_entries" for "VerificationReport"  [call-arg]
                return VerificationReport(
                       ^
ciris_engine/logic/services/graph/audit_service.py:624:20: error: Missing named
argument "last_valid_entry" for "VerificationReport"  [call-arg]
                return VerificationReport(
                       ^
ciris_engine/logic/services/graph/audit_service.py:624:20: error: Missing named
argument "first_invalid_entry" for "VerificationReport"  [call-arg]
                return VerificationReport(
                       ^
ciris_engine/logic/services/graph/audit_service.py:647:20: error: Missing named
argument "missing_entries" for "VerificationReport"  [call-arg]
                return VerificationReport(
                       ^
ciris_engine/logic/services/graph/audit_service.py:664:20: error: Missing named
argument "missing_entries" for "VerificationReport"  [call-arg]
                return VerificationReport(
                       ^
ciris_engine/logic/services/graph/audit_service.py:664:20: error: Missing named
argument "last_valid_entry" for "VerificationReport"  [call-arg]
                return VerificationReport(
                       ^
ciris_engine/logic/services/graph/audit_service.py:664:20: error: Missing named
argument "first_invalid_entry" for "VerificationReport"  [call-arg]
                return VerificationReport(
                       ^
ciris_engine/logic/services/graph/audit_service.py:681:20: error: Missing named
argument "missing_entries" for "VerificationReport"  [call-arg]
                return VerificationReport(
                       ^
ciris_engine/logic/services/graph/audit_service.py:681:20: error: Missing named
argument "last_valid_entry" for "VerificationReport"  [call-arg]
                return VerificationReport(
                       ^
ciris_engine/logic/services/graph/audit_service.py:681:20: error: Missing named
argument "first_invalid_entry" for "VerificationReport"  [call-arg]
                return VerificationReport(
                       ^
ciris_engine/logic/services/graph/audit_service.py:699:20: error: Missing named
argument "missing_entries" for "VerificationReport"  [call-arg]
                return VerificationReport(
                       ^
ciris_engine/logic/services/graph/audit_service.py:699:20: error: Missing named
argument "last_valid_entry" for "VerificationReport"  [call-arg]
                return VerificationReport(
                       ^
ciris_engine/logic/services/graph/audit_service.py:699:20: error: Missing named
argument "first_invalid_entry" for "VerificationReport"  [call-arg]
                return VerificationReport(
                       ^
ciris_engine/logic/services/graph/audit_service.py:722:17: error: Missing named
argument "event_type" for "AuditQuery"  [call-arg]
            query = AuditQuery(
                    ^
ciris_engine/logic/services/graph/audit_service.py:722:17: error: Missing named
argument "actor" for "AuditQuery"  [call-arg]
            query = AuditQuery(
                    ^
ciris_engine/logic/services/graph/audit_service.py:722:17: error: Missing named
argument "entity_id" for "AuditQuery"  [call-arg]
            query = AuditQuery(
                    ^
ciris_engine/logic/services/graph/audit_service.py:722:17: error: Missing named
argument "outcome" for "AuditQuery"  [call-arg]
            query = AuditQuery(
                    ^
ciris_engine/logic/services/graph/audit_service.py:722:17: error: Missing named
argument "severity" for "AuditQuery"  [call-arg]
            query = AuditQuery(
                    ^
ciris_engine/logic/services/graph/audit_service.py:722:17: error: Missing named
argument "search_text" for "AuditQuery"  [call-arg]
            query = AuditQuery(
                    ^
ciris_engine/logic/services/graph/audit_service.py:722:17: error: Missing named
argument "order_by" for "AuditQuery"  [call-arg]
            query = AuditQuery(
                    ^
ciris_engine/logic/services/graph/audit_service.py:722:17: error: Missing named
argument "order_desc" for "AuditQuery"  [call-arg]
            query = AuditQuery(
                    ^
ciris_engine/logic/services/graph/audit_service.py:722:17: error: Missing named
argument "offset" for "AuditQuery"  [call-arg]
            query = AuditQuery(
                    ^
ciris_engine/logic/services/graph/audit_service.py:731:20: error: Item "None"
of "Path | None" has no attribute "parent"  [union-attr]
            filename = self.export_path.parent / f"audit_export_{timestamp...
                       ^~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/graph/audit_service.py:735:38: error: Argument 1 to
"_export_jsonl" of "GraphAuditService" has incompatible type "list[AuditEntry]";
expected "list[AuditRequest]"  [arg-type]
                await self._export_jsonl(entries, filename)
                                         ^~~~~~~
ciris_engine/logic/services/graph/audit_service.py:737:36: error: Argument 1 to
"_export_csv" of "GraphAuditService" has incompatible type "list[AuditEntry]";
expected "list[AuditRequest]"  [arg-type]
                await self._export_csv(entries, filename)
                                       ^~~~~~~
ciris_engine/logic/services/graph/audit_service.py:739:39: error: Argument 1 to
"_export_sqlite" of "GraphAuditService" has incompatible type
"list[AuditEntry]"; expected "list[AuditRequest]"  [arg-type]
                await self._export_sqlite(entries, filename)
                                          ^~~~~~~
ciris_engine/logic/services/graph/audit_service.py:751:24: error: Missing
positional argument "handler_name" in call to "memorize" of "MemoryBus" 
[call-arg]
            result = await self._memory_bus.memorize(node)
                           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/graph/audit_service.py:759:23: error: Missing
positional argument "handler_name" in call to "recall" of "MemoryBus" 
[call-arg]
            nodes = await self._memory_bus.recall(query)
                          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/graph/audit_service.py:770:16: error: Missing named
argument "metadata" for "ServiceCapabilities"  [call-arg]
            return ServiceCapabilities(
                   ^
ciris_engine/logic/services/graph/audit_service.py:805:16: error: Missing named
argument "last_error" for "ServiceStatus"  [call-arg]
            return ServiceStatus(
                   ^
ciris_engine/logic/services/graph/audit_service.py:805:16: error: Missing named
argument "custom_metrics" for "ServiceStatus"  [call-arg]
            return ServiceStatus(
                   ^
ciris_engine/logic/services/graph/audit_service.py:805:16: error: Missing named
argument "last_health_check" for "ServiceStatus"  [call-arg]
            return ServiceStatus(
                   ^
ciris_engine/logic/services/graph/audit_service.py:836:16: error: Missing named
argument "signature" for "AuditEntry"  [call-arg]
            node = AuditEntryNode(
                   ^
ciris_engine/logic/services/graph/audit_service.py:836:16: error: Missing named
argument "hash_chain" for "AuditEntry"  [call-arg]
            node = AuditEntryNode(
                   ^
ciris_engine/logic/services/graph/audit_service.py:892:82: error: Argument 3 to
"AuditVerifier" has incompatible type "TimeServiceProtocol"; expected
"TimeService"  [arg-type]
    ...ditVerifier(str(self.db_path), str(self.key_path), self._time_service)
                                                          ^~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/graph/audit_service.py:1215:25: error: Dict entry 1
has incompatible type "str": "str | int | float"; expected "str": "str" 
[dict-item]
                            "thought_id": audit_node.context.additional_da...
                            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/services/graph/audit_service.py:1216:25: error: Dict entry 2
has incompatible type "str": "str | int | float"; expected "str": "str" 
[dict-item]
                            "task_id": audit_node.context.additional_data....
                            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/services/graph/audit_service.py:1218:25: error: Dict entry 4
has incompatible type "str": "dict[str, Any]"; expected "str": "str" 
[dict-item]
                            "context": audit_node.context.model_dump()
                            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/graph/audit_service.py:1220:29: error: Argument
"outcome" to "AuditRequest" has incompatible type "str | int | float | None";
expected "str | None"  [arg-type]
                        outcome=audit_node.context.additional_data.get("ou...
                                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/services/graph/audit_service.py:1248:19: error: Argument
"actor" to "AuditRequest" has incompatible type "Any | None"; expected "str" 
[arg-type]
                actor=attrs.get("actor", attrs.get("handler_name", "system...
                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/graph/audit_service.py:1254:17: error: Dict entry 4
has incompatible type "str": "dict[str, Any] | Any"; expected "str": "str" 
[dict-item]
                    "attributes": attrs
                    ^~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/graph/audit_service.py:1270:24: error: "GraphNode"
has no attribute "tags"  [attr-defined]
                    tags = data.tags or {}
                           ^~~~~~~~~
ciris_engine/logic/services/graph/audit_service.py:1279:16: error: Incompatible
return value type (got "list[AuditRequest]", expected "list[AuditEntry]") 
[return-value]
            return results
                   ^~~~~~~
ciris_engine/logic/services/graph/audit_service.py:1291:17: error: Unexpected
keyword argument "action_types" for "AuditQuery"  [call-arg]
            query = AuditQuery(
                    ^
ciris_engine/logic/services/graph/audit_service.py:1306:35: error: "AuditEntry"
has no attribute "event_type"  [attr-defined]
                        "event_type": entry.event_type,
                                      ^~~~~~~~~~~~~~~~
ciris_engine/logic/services/graph/audit_service.py:1309:29: error: "AuditEntry"
has no attribute "details"  [attr-defined]
                        "data": entry.details,
                                ^~~~~~~~~~~~~
ciris_engine/logic/services/graph/audit_service.py:1310:45: error: "AuditEntry"
has no attribute "outcome"  [attr-defined]
                        "metadata": {"outcome": entry.outcome} if entry.ou...
                                                ^~~~~~~~~~~~~
ciris_engine/logic/services/graph/audit_service.py:1332:18: error:
"type[NodeType]" has no attribute "AUDIT"  [attr-defined]
                type=NodeType.AUDIT,
                     ^~~~~~~~~~~~~~
ciris_engine/logic/services/graph/audit_service.py:1338:27: error: Missing
positional argument "handler_name" in call to "recall" of "MemoryBus" 
[call-arg]
                nodes = await self._memory_bus.recall(query)
                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/governance/visibility.py:76:16: error: Missing
named argument "custom_metrics" for "ServiceStatus"  [call-arg]
            return ServiceStatus(
                   ^
ciris_engine/logic/services/governance/visibility.py:160:22: error: Missing
named argument "signed_by" for "Task"  [call-arg]
                    task=Task(
                         ^
ciris_engine/logic/services/governance/visibility.py:160:22: error: Missing
named argument "signature" for "Task"  [call-arg]
                    task=Task(
                         ^
ciris_engine/logic/services/governance/visibility.py:160:22: error: Missing
named argument "signed_at" for "Task"  [call-arg]
                    task=Task(
                         ^
ciris_engine/logic/infrastructure/sub_services/pattern_analysis_loop.py:84:24: error:
Missing named argument "error" for "AnalysisResult"  [call-arg]
                    return AnalysisResult(
                           ^
ciris_engine/logic/infrastructure/sub_services/pattern_analysis_loop.py:103:20: error:
Missing named argument "next_analysis_in" for "AnalysisResult"  [call-arg]
                return AnalysisResult(
                       ^
ciris_engine/logic/infrastructure/sub_services/pattern_analysis_loop.py:103:20: error:
Missing named argument "error" for "AnalysisResult"  [call-arg]
                return AnalysisResult(
                       ^
ciris_engine/logic/infrastructure/sub_services/pattern_analysis_loop.py:112:20: error:
Missing named argument "next_analysis_in" for "AnalysisResult"  [call-arg]
                return AnalysisResult(
                       ^
ciris_engine/logic/infrastructure/sub_services/pattern_analysis_loop.py:197:29: error:
Missing named argument "peak_value" for "PatternMetrics"  [call-arg]
                        metrics=PatternMetrics(
                                ^
ciris_engine/logic/infrastructure/sub_services/pattern_analysis_loop.py:197:29: error:
Missing named argument "time_range_hours" for "PatternMetrics"  [call-arg]
                        metrics=PatternMetrics(
                                ^
ciris_engine/logic/infrastructure/sub_services/pattern_analysis_loop.py:197:29: error:
Missing named argument "trend" for "PatternMetrics"  [call-arg]
                        metrics=PatternMetrics(
                                ^
ciris_engine/logic/infrastructure/sub_services/pattern_analysis_loop.py:213:29: error:
Incompatible types in assignment (expression has type "ActionFrequency | None",
variable has type "ActionFrequency")  [assignment]
                    freq_data = action_frequency.get(capability)
                                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/pattern_analysis_loop.py:223:29: error:
Missing named argument "average_value" for "PatternMetrics"  [call-arg]
                        metrics=PatternMetrics(
                                ^
ciris_engine/logic/infrastructure/sub_services/pattern_analysis_loop.py:223:29: error:
Missing named argument "peak_value" for "PatternMetrics"  [call-arg]
                        metrics=PatternMetrics(
                                ^
ciris_engine/logic/infrastructure/sub_services/pattern_analysis_loop.py:223:29: error:
Missing named argument "time_range_hours" for "PatternMetrics"  [call-arg]
                        metrics=PatternMetrics(
                                ^
ciris_engine/logic/infrastructure/sub_services/pattern_analysis_loop.py:223:29: error:
Missing named argument "trend" for "PatternMetrics"  [call-arg]
                        metrics=PatternMetrics(
                                ^
ciris_engine/logic/infrastructure/sub_services/pattern_analysis_loop.py:275:33: error:
Missing named argument "occurrence_count" for "PatternMetrics"  [call-arg]
                            metrics=PatternMetrics(
                                    ^
ciris_engine/logic/infrastructure/sub_services/pattern_analysis_loop.py:275:33: error:
Missing named argument "time_range_hours" for "PatternMetrics"  [call-arg]
                            metrics=PatternMetrics(
                                    ^
ciris_engine/logic/infrastructure/sub_services/pattern_analysis_loop.py:275:33: error:
Missing named argument "data_points" for "PatternMetrics"  [call-arg]
                            metrics=PatternMetrics(
                                    ^
ciris_engine/logic/infrastructure/sub_services/pattern_analysis_loop.py:344:33: error:
Missing named argument "average_value" for "PatternMetrics"  [call-arg]
                            metrics=PatternMetrics(
                                    ^
ciris_engine/logic/infrastructure/sub_services/pattern_analysis_loop.py:344:33: error:
Missing named argument "peak_value" for "PatternMetrics"  [call-arg]
                            metrics=PatternMetrics(
                                    ^
ciris_engine/logic/infrastructure/sub_services/pattern_analysis_loop.py:344:33: error:
Missing named argument "time_range_hours" for "PatternMetrics"  [call-arg]
                            metrics=PatternMetrics(
                                    ^
ciris_engine/logic/infrastructure/sub_services/pattern_analysis_loop.py:344:33: error:
Missing named argument "trend" for "PatternMetrics"  [call-arg]
                            metrics=PatternMetrics(
                                    ^
ciris_engine/logic/infrastructure/sub_services/pattern_analysis_loop.py:371:32: error:
Missing named argument "updated_by" for "GraphNode"  [call-arg]
                    insight_node = GraphNode(
                                   ^
ciris_engine/logic/infrastructure/sub_services/pattern_analysis_loop.py:371:32: error:
Missing named argument "updated_at" for "GraphNode"  [call-arg]
                    insight_node = GraphNode(
                                   ^
ciris_engine/logic/infrastructure/sub_services/pattern_analysis_loop.py:409:25: error:
Missing named argument "updated_by" for "GraphNode"  [call-arg]
            learning_node = GraphNode(
                            ^
ciris_engine/logic/infrastructure/sub_services/pattern_analysis_loop.py:409:25: error:
Missing named argument "updated_at" for "GraphNode"  [call-arg]
            learning_node = GraphNode(
                            ^
ciris_engine/logic/infrastructure/sub_services/pattern_analysis_loop.py:496:29: error:
Missing named argument "occurrence_count" for "PatternMetrics"  [call-arg]
                        metrics=PatternMetrics(
                                ^
ciris_engine/logic/infrastructure/sub_services/pattern_analysis_loop.py:496:29: error:
Missing named argument "average_value" for "PatternMetrics"  [call-arg]
                        metrics=PatternMetrics(
                                ^
ciris_engine/logic/infrastructure/sub_services/pattern_analysis_loop.py:496:29: error:
Missing named argument "peak_value" for "PatternMetrics"  [call-arg]
                        metrics=PatternMetrics(
                                ^
ciris_engine/logic/infrastructure/sub_services/pattern_analysis_loop.py:496:29: error:
Missing named argument "time_range_hours" for "PatternMetrics"  [call-arg]
                        metrics=PatternMetrics(
                                ^
ciris_engine/logic/infrastructure/sub_services/pattern_analysis_loop.py:496:29: error:
Missing named argument "data_points" for "PatternMetrics"  [call-arg]
                        metrics=PatternMetrics(
                                ^
ciris_engine/logic/infrastructure/sub_services/pattern_analysis_loop.py:496:29: error:
Missing named argument "trend" for "PatternMetrics"  [call-arg]
                        metrics=PatternMetrics(
                                ^
ciris_engine/logic/infrastructure/sub_services/pattern_analysis_loop.py:540:50: error:
Argument 1 to "fromisoformat" of "date" has incompatible type "datetime";
expected "str"  [arg-type]
                action_time = datetime.fromisoformat(action.timestamp)
                                                     ^~~~~~~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/pattern_analysis_loop.py:622:24: error:
Missing named argument "updated_by" for "GraphNode"  [call-arg]
            pattern_node = GraphNode(
                           ^
ciris_engine/logic/infrastructure/sub_services/pattern_analysis_loop.py:622:24: error:
Missing named argument "updated_at" for "GraphNode"  [call-arg]
            pattern_node = GraphNode(
                           ^
ciris_engine/logic/infrastructure/sub_services/pattern_analysis_loop.py:685:16: error:
Missing named argument "custom_metrics" for "ServiceStatus"  [call-arg]
            return ServiceStatus(
                   ^
ciris_engine/logic/infrastructure/sub_services/identity_variance_monitor.py:99:30: error:
Argument "system_state" to "IdentitySnapshot" has incompatible type "str";
expected "dict[str, str] | None"  [arg-type]
                    system_state="BASELINE",
                                 ^~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/identity_variance_monitor.py:101:31: error:
Argument "identity_root" to "IdentitySnapshot" has incompatible type
"AgentIdentityRoot"; expected "dict[str, Any] | None"  [arg-type]
                    identity_root=identity,
                                  ^~~~~~~~
ciris_engine/logic/infrastructure/sub_services/identity_variance_monitor.py:205:30: error:
Argument "system_state" to "IdentitySnapshot" has incompatible type "str";
expected "dict[str, str] | None"  [arg-type]
                    system_state="BASELINE",
                                 ^~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/identity_variance_monitor.py:235:26: error:
Unexpected keyword argument "variance_level" for "VarianceCheckMetadata" 
[call-arg]
                    metadata=VarianceCheckMetadata(
                             ^
ciris_engine/logic/infrastructure/sub_services/identity_variance_monitor.py:235:26: error:
Unexpected keyword argument "threshold_exceeded" for "VarianceCheckMetadata" 
[call-arg]
                    metadata=VarianceCheckMetadata(
                             ^
ciris_engine/logic/infrastructure/sub_services/identity_variance_monitor.py:235:26: error:
Unexpected keyword argument "wa_approval" for "VarianceCheckMetadata" 
[call-arg]
                    metadata=VarianceCheckMetadata(
                             ^
ciris_engine/logic/infrastructure/sub_services/identity_variance_monitor.py:238:36: error:
Argument "previous_check" to "VarianceCheckMetadata" has incompatible type
"str | None"; expected "datetime | None"  [arg-type]
                        previous_check=self._baseline_snapshot_id,
                                       ^~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/identity_variance_monitor.py:252:1: error:
Cannot find implementation or library stub for module named
"ciris_engine.schemas.persistence.correlations"  [import-not-found]
                    from ciris_engine.schemas.persistence.correlations imp...
    ^
ciris_engine/logic/infrastructure/sub_services/identity_variance_monitor.py:254:27: error:
"MemoryBus" has no attribute "correlate"  [attr-defined]
                        await self._memory_bus.correlate(
                              ^~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/identity_variance_monitor.py:355:26: error:
Argument "system_state" to "IdentitySnapshot" has incompatible type "str";
expected "dict[str, str] | None"  [arg-type]
                system_state="SNAPSHOT",
                             ^~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/identity_variance_monitor.py:392:36: error:
Argument "previous_check" to "VarianceCheckMetadata" has incompatible type
"str | None"; expected "datetime | None"  [arg-type]
                        previous_check=self._baseline_snapshot_id,
                                       ^~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/identity_variance_monitor.py:628:9: error:
Need type annotation for "patterns" (hint: "patterns: list[<type>] = ...") 
[var-annotated]
            patterns = []
            ^~~~~~~~
ciris_engine/logic/infrastructure/sub_services/identity_variance_monitor.py:652:54: error:
Argument 1 to "fromisoformat" of "date" has incompatible type "datetime";
expected "str"  [arg-type]
                    action_time = datetime.fromisoformat(action.timestamp)
                                                         ^~~~~~~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/identity_variance_monitor.py:862:5: error:
Return type "Coroutine[Any, Any, list[str]]" of "get_capabilities" incompatible
with return type "ServiceCapabilities" in supertype "ServiceProtocol" 
[override]
        async def get_capabilities(self) -> List[str]:
        ^
ciris_engine/logic/infrastructure/sub_services/identity_variance_monitor.py:873:47: error:
Item "GraphNodeAttributes" of "GraphNodeAttributes | dict[str, Any]" has no
attribute "get"  [union-attr]
                if node.id == "agent/identity" or node.attributes.get("_no...
                                                  ^~~~~~~~~~~~~~~~~~~
ciris_engine/logic/infrastructure/sub_services/identity_variance_monitor.py:921:16: error:
Missing named argument "custom_metrics" for "ServiceStatus"  [call-arg]
            return ServiceStatus(
                   ^
ciris_engine/logic/infrastructure/sub_services/identity_variance_monitor.py:929:17: error:
Dict entry 1 has incompatible type "str": "str | None"; expected "str": "float" 
[dict-item]
                    "last_check": self._last_check.isoformat() if self._la...
                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/infrastructure/handlers/base_handler.py:59:12: error:
"ActionHandlerDependencies" has no attribute "dependencies"  [attr-defined]
            if self.dependencies and self.dependencies.shutdown_service:
               ^~~~~~~~~~~~~~~~~
ciris_engine/logic/infrastructure/handlers/base_handler.py:60:33: error:
"ActionHandlerDependencies" has no attribute "dependencies"  [attr-defined]
                asyncio.create_task(self.dependencies.shutdown_service.req...
                                    ^~~~~~~~~~~~~~~~~
ciris_engine/logic/infrastructure/handlers/base_handler.py:93:26: error: Name
"ThoughtStatus" is not defined  [name-defined]
            status: Optional['ThoughtStatus'] = None
                             ^
ciris_engine/logic/infrastructure/handlers/base_handler.py:271:35: error:
Incompatible types in assignment (expression has type "dict[str, Any]", variable
has type
"ObserveParams | SpeakParams | ToolParams | PonderParams | RejectParams | DeferParams | MemorizeParams | RecallParams | ForgetParams | TaskCompleteParams")
 [assignment]
                        params_dict = params_dict.model_dump()
                                      ^~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/infrastructure/handlers/base_handler.py:275:35: error:
Argument "action_params" to "decapsulate_secrets_in_parameters" of
"SecretsService" has incompatible type
"ObserveParams | SpeakParams | ToolParams | PonderParams | RejectParams | DeferParams | MemorizeParams | RecallParams | ForgetParams | TaskCompleteParams";
expected "dict[Any, Any]"  [arg-type]
                        action_params=params_dict,
                                      ^~~~~~~~~~~
ciris_engine/logic/infrastructure/handlers/base_handler.py:276:29: error:
Missing named argument "user_id" for "DecapsulationContext"  [call-arg]
                        context=DecapsulationContext(
                                ^
ciris_engine/logic/infrastructure/handlers/base_handler.py:376:37: error:
Missing named argument "request_data" for "ServiceCorrelation"  [call-arg]
            self._current_correlation = ServiceCorrelation(
                                        ^
ciris_engine/logic/infrastructure/handlers/base_handler.py:376:37: error:
Missing named argument "response_data" for "ServiceCorrelation"  [call-arg]
            self._current_correlation = ServiceCorrelation(
                                        ^
ciris_engine/logic/infrastructure/handlers/base_handler.py:376:37: error:
Missing named argument "status" for "ServiceCorrelation"  [call-arg]
            self._current_correlation = ServiceCorrelation(
                                        ^
ciris_engine/logic/infrastructure/handlers/base_handler.py:376:37: error:
Missing named argument "metric_data" for "ServiceCorrelation"  [call-arg]
            self._current_correlation = ServiceCorrelation(
                                        ^
ciris_engine/logic/infrastructure/handlers/base_handler.py:376:37: error:
Missing named argument "log_data" for "ServiceCorrelation"  [call-arg]
            self._current_correlation = ServiceCorrelation(
                                        ^
ciris_engine/logic/infrastructure/handlers/base_handler.py:376:37: error:
Missing named argument "retention_policy" for "ServiceCorrelation"  [call-arg]
            self._current_correlation = ServiceCorrelation(
                                        ^
ciris_engine/logic/infrastructure/handlers/base_handler.py:376:37: error:
Missing named argument "ttl_seconds" for "ServiceCorrelation"  [call-arg]
            self._current_correlation = ServiceCorrelation(
                                        ^
ciris_engine/logic/infrastructure/handlers/base_handler.py:376:37: error:
Missing named argument "parent_correlation_id" for "ServiceCorrelation" 
[call-arg]
            self._current_correlation = ServiceCorrelation(
                                        ^
ciris_engine/logic/infrastructure/handlers/base_handler.py:408:22: error:
Missing named argument "metric_value" for "CorrelationUpdateRequest"  [call-arg]
            update_req = CorrelationUpdateRequest(
                         ^
ciris_engine/logic/infrastructure/handlers/base_handler.py:408:22: error:
Missing named argument "tags" for "CorrelationUpdateRequest"  [call-arg]
            update_req = CorrelationUpdateRequest(
                         ^
ciris_engine/logic/infrastructure/handlers/base_handler.py:427:13: error:
Statement is unreachable  [unreachable]
                self.logger.error(f"Content must be a string, got {type(co...
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/adapters/base_observer.py:202:28: error: Missing named
argument "attributes" for "GraphNode"  [call-arg]
                        node = GraphNode(
                               ^
ciris_engine/logic/adapters/base_observer.py:281:33: error: Missing named
argument "current_task_details" for "SystemSnapshot"  [call-arg]
                _minimal_snapshot = SystemSnapshot(
                                    ^
ciris_engine/logic/adapters/base_observer.py:281:33: error: Missing named
argument "current_thought_summary" for "SystemSnapshot"  [call-arg]
                _minimal_snapshot = SystemSnapshot(
                                    ^
ciris_engine/logic/adapters/base_observer.py:281:33: error: Missing named
argument "identity_purpose" for "SystemSnapshot"  [call-arg]
                _minimal_snapshot = SystemSnapshot(
                                    ^
ciris_engine/logic/adapters/base_observer.py:281:33: error: Missing named
argument "secrets_filter_version" for "SystemSnapshot"  [call-arg]
                _minimal_snapshot = SystemSnapshot(
                                    ^
ciris_engine/logic/adapters/base_observer.py:281:33: error: Missing named
argument "total_secrets_stored" for "SystemSnapshot"  [call-arg]
                _minimal_snapshot = SystemSnapshot(
                                    ^
ciris_engine/logic/adapters/base_observer.py:281:33: error: Missing named
argument "shutdown_context" for "SystemSnapshot"  [call-arg]
                _minimal_snapshot = SystemSnapshot(
                                    ^
ciris_engine/logic/adapters/base_observer.py:281:33: error: Missing named
argument "telemetry_summary" for "SystemSnapshot"  [call-arg]
                _minimal_snapshot = SystemSnapshot(
                                    ^
ciris_engine/logic/adapters/base_observer.py:294:20: error: Missing named
argument "parent_task_id" for "Task"  [call-arg]
                task = Task(
                       ^
ciris_engine/logic/adapters/base_observer.py:294:20: error: Missing named
argument "outcome" for "Task"  [call-arg]
                task = Task(
                       ^
ciris_engine/logic/adapters/base_observer.py:294:20: error: Missing named
argument "signed_by" for "Task"  [call-arg]
                task = Task(
                       ^
ciris_engine/logic/adapters/base_observer.py:294:20: error: Missing named
argument "signature" for "Task"  [call-arg]
                task = Task(
                       ^
ciris_engine/logic/adapters/base_observer.py:294:20: error: Missing named
argument "signed_at" for "Task"  [call-arg]
                task = Task(
                       ^
ciris_engine/logic/adapters/base_observer.py:371:20: error: Missing named
argument "parent_task_id" for "Task"  [call-arg]
                task = Task(
                       ^
ciris_engine/logic/adapters/base_observer.py:371:20: error: Missing named
argument "outcome" for "Task"  [call-arg]
                task = Task(
                       ^
ciris_engine/logic/adapters/base_observer.py:371:20: error: Missing named
argument "signed_by" for "Task"  [call-arg]
                task = Task(
                       ^
ciris_engine/logic/adapters/base_observer.py:371:20: error: Missing named
argument "signature" for "Task"  [call-arg]
                task = Task(
                       ^
ciris_engine/logic/adapters/base_observer.py:371:20: error: Missing named
argument "signed_at" for "Task"  [call-arg]
                task = Task(
                       ^
ciris_engine/logic/adapters/api/app.py:24:1: error: Function is missing a
return type annotation  [no-untyped-def]
    async def lifespan(app: FastAPI):
    ^
ciris_engine/logic/adapters/api/app.py:62:28: error: Argument 1 to
"add_middleware" of "Starlette" has incompatible type
"type[RateLimitMiddleware]"; expected "_MiddlewareFactory[[Any | int]]" 
[arg-type]
            app.add_middleware(RateLimitMiddleware, requests_per_minute=ra...
                               ^~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/app.py:62:28: note: Following member(s) of "RateLimitMiddleware" have conflicts:
ciris_engine/logic/adapters/api/app.py:62:28: note:     Expected:
ciris_engine/logic/adapters/api/app.py:62:28: note:         def __call__(self, Callable[[MutableMapping[str, Any], Callable[[], Awaitable[MutableMapping[str, Any]]], Callable[[MutableMapping[str, Any]], Awaitable[None]]], Awaitable[None]], /, requests_per_minute: Any | int) -> Callable[[MutableMapping[str, Any], Callable[[], Awaitable[MutableMapping[str, Any]]], Callable[[MutableMapping[str, Any]], Awaitable[None]]], Awaitable[None]]
ciris_engine/logic/adapters/api/app.py:62:28: note:     Got:
ciris_engine/logic/adapters/api/app.py:62:28: note:         def __init__(requests_per_minute: int = ...) -> RateLimitMiddleware
ciris_engine/logic/adapters/api/app.py:62:28: note: "_MiddlewareFactory[[Any | int]].__call__" has type "Callable[[Callable[[MutableMapping[str, Any], Callable[[], Awaitable[MutableMapping[str, Any]]], Callable[[MutableMapping[str, Any]], Awaitable[None]]], Awaitable[None]], Arg(Any | int, 'requests_per_minute')], Callable[[MutableMapping[str, Any], Callable[[], Awaitable[MutableMapping[str, Any]]], Callable[[MutableMapping[str, Any]], Awaitable[None]]], Awaitable[None]]]"
ciris_engine/logic/services/mixins/example_usage.py:117:5: error: Function is
missing a return type annotation  [no-untyped-def]
        def __init__(self):
        ^
ciris_engine/logic/services/mixins/example_usage.py:117:5: note: Use "-> None" if function does not return a value
ciris_engine/logic/services/mixins/example_usage.py:154:1: error: Function is
missing a return type annotation  [no-untyped-def]
    async def api_endpoint_with_metrics(service: MetricsEnabledGraphServic...
    ^
ciris_engine/logic/services/graph/tsdb_consolidation_service.py:514:16: error:
Incompatible return value type (got "GraphNode", expected "TSDBSummary | None") 
[return-value]
            return summary.to_graph_node()
                   ^~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/graph/tsdb_consolidation_service.py:1529:23: error:
Missing positional argument "handler_name" in call to "memorize" of "MemoryBus" 
[call-arg]
                    await self._memory_bus.memorize(
                          ^
ciris_engine/logic/services/graph/tsdb_consolidation_service.py:1656:32: error:
Missing positional argument "handler_name" in call to "memorize" of "MemoryBus" 
[call-arg]
                    result = await self._memory_bus.memorize(node=node)
                                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/graph/incident_service.py:44:5: error: Function is
missing a type annotation  [no-untyped-def]
        def __init__(self, memory_bus=None, time_service=None):
        ^
ciris_engine/logic/services/graph/incident_service.py:87:23: error: Missing
named argument "applied" for "IncidentInsightNode"  [call-arg]
                insight = IncidentInsightNode(
                          ^
ciris_engine/logic/services/graph/incident_service.py:87:23: error: Missing
named argument "effectiveness_score" for "IncidentInsightNode"  [call-arg]
                insight = IncidentInsightNode(
                          ^
ciris_engine/logic/services/graph/incident_service.py:112:28: error: Item
"None" of "MemoryBus | None" has no attribute "memorize"  [union-attr]
                result = await self._memory_bus.memorize(
                               ^~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/graph/incident_service.py:129:5: error: Function is
missing a type annotation for one or more arguments  [no-untyped-def]
        async def _get_recent_incidents(self, cutoff_time) -> List[Inciden...
        ^
ciris_engine/logic/services/graph/incident_service.py:136:26: error: Item
"None" of "MemoryBus | None" has no attribute "service_registry"  [union-attr]
            memory_service = self._memory_bus.service_registry.get_service...
                             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/graph/incident_service.py:136:26: error: Missing
positional argument "service_type" in call to "get_service" of "ServiceRegistry"
 [call-arg]
            memory_service = self._memory_bus.service_registry.get_service...
                             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/services/graph/incident_service.py:143:27: error: Item
"Coroutine[Any, Any, Any | None]" of "Coroutine[Any, Any, Any | None] | Any" has
no attribute "search"  [union-attr]
                nodes = await memory_service.search(search_query)
                              ^~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/graph/incident_service.py:200:9: error: Need type
annotation for "problems" (hint: "problems: list[<type>] = ...") 
[var-annotated]
            problems = []
            ^~~~~~~~
ciris_engine/logic/services/graph/incident_service.py:216:23: error: Missing
named argument "resolution" for "ProblemNode"  [call-arg]
                problem = ProblemNode(
                          ^
ciris_engine/logic/services/graph/incident_service.py:216:23: error: Missing
named argument "resolved_at" for "ProblemNode"  [call-arg]
                problem = ProblemNode(
                          ^
ciris_engine/logic/services/graph/incident_service.py:234:28: error: Item
"None" of "MemoryBus | None" has no attribute "memorize"  [union-attr]
                result = await self._memory_bus.memorize(
                               ^~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/graph/incident_service.py:253:27: error: Need type
annotation for "recommendations"  [var-annotated]
            recommendations = {
                              ^
ciris_engine/logic/services/graph/incident_service.py:322:9: error: Need type
annotation for "current_cluster" (hint: "current_cluster: list[<type>] = ...") 
[var-annotated]
            current_cluster = []
            ^~~~~~~~~~~~~~~
ciris_engine/logic/services/graph/incident_service.py:413:9: error: Need type
annotation for "breakdown"  [var-annotated]
            breakdown = defaultdict(int)
            ^~~~~~~~~
ciris_engine/logic/services/graph/incident_service.py:420:9: error: Need type
annotation for "breakdown"  [var-annotated]
            breakdown = defaultdict(int)
            ^~~~~~~~~
ciris_engine/logic/services/graph/incident_service.py:427:9: error: Need type
annotation for "distribution"  [var-annotated]
            distribution = defaultdict(int)
            ^~~~~~~~~~~~
ciris_engine/logic/services/graph/incident_service.py:433:5: error: Function is
missing a type annotation for one or more arguments  [no-untyped-def]
        async def _create_no_incidents_insight(self, current_time) -> Inci...
        ^
ciris_engine/logic/services/graph/incident_service.py:435:16: error: Missing
named argument "applied" for "IncidentInsightNode"  [call-arg]
            return IncidentInsightNode(
                   ^
ciris_engine/logic/services/graph/incident_service.py:435:16: error: Missing
named argument "effectiveness_score" for "IncidentInsightNode"  [call-arg]
            return IncidentInsightNode(
                   ^
ciris_engine/logic/services/graph/incident_service.py:464:24: error: Item
"None" of "MemoryBus | None" has no attribute "memorize"  [union-attr]
            result = await self._memory_bus.memorize(
                           ^~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/graph/incident_service.py:514:16: error: Missing
named argument "custom_metrics" for "ServiceStatus"  [call-arg]
            return ServiceStatus(
                   ^
ciris_engine/logic/services/adaptation/self_observation.py:178:72: error:
Argument 1 to "initialize_baseline" of "IdentityVarianceMonitor" has
incompatible type
"ciris_engine.schemas.services.special.self_observation.AgentIdentityRoot";
expected "ciris_engine.schemas.runtime.core.AgentIdentityRoot"  [arg-type]
    ...seline_id = await self._variance_monitor.initialize_baseline(identity)
                                                                    ^~~~~~~~
ciris_engine/logic/services/adaptation/self_observation.py:243:27: error:
Argument "state" to "ObservationCycleResult" has incompatible type
"ciris_engine.logic.services.adaptation.self_observation.ObservationState";
expected
"ciris_engine.schemas.services.special.self_observation.ObservationState" 
[arg-type]
                        state=ObservationState(self._current_state.value),
                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/adaptation/self_observation.py:264:68: error:
Missing named argument "patterns" for "CycleEventData"  [call-arg]
    ...    await self._store_cycle_event("variance_exceeded", CycleEventData(
                                                              ^
ciris_engine/logic/services/adaptation/self_observation.py:264:68: error:
Missing named argument "proposals" for "CycleEventData"  [call-arg]
    ...    await self._store_cycle_event("variance_exceeded", CycleEventData(
                                                              ^
ciris_engine/logic/services/adaptation/self_observation.py:264:68: error:
Missing named argument "changes" for "CycleEventData"  [call-arg]
    ...    await self._store_cycle_event("variance_exceeded", CycleEventData(
                                                              ^
ciris_engine/logic/services/adaptation/self_observation.py:271:20: error:
Missing named argument "error" for "ObservationCycleResult"  [call-arg]
                return ObservationCycleResult(
                       ^
ciris_engine/logic/services/adaptation/self_observation.py:273:23: error:
Argument "state" to "ObservationCycleResult" has incompatible type
"ciris_engine.logic.services.adaptation.self_observation.ObservationState";
expected
"ciris_engine.schemas.services.special.self_observation.ObservationState" 
[arg-type]
                    state=ObservationState(self._current_state.value),
                          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/adaptation/self_observation.py:298:23: error:
Argument "state" to "ObservationCycleResult" has incompatible type
"ciris_engine.logic.services.adaptation.self_observation.ObservationState";
expected
"ciris_engine.schemas.services.special.self_observation.ObservationState" 
[arg-type]
                    state=ObservationState(self._current_state.value),
                          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/adaptation/self_observation.py:373:27: error:
Argument "current_state" to "ObservationStatus" has incompatible type
"ciris_engine.logic.services.adaptation.self_observation.ObservationState";
expected
"ciris_engine.schemas.services.special.self_observation.ObservationState" 
[arg-type]
                current_state=ObservationState(self._current_state.value),
                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/adaptation/self_observation.py:458:9: error:
Attribute "_start_time" already defined on line 117  [no-redef]
            self._start_time: Optional[datetime] = self._time_service.now(...
            ^~~~~~~~~~~~~~~~
ciris_engine/logic/services/adaptation/self_observation.py:553:20: error:
Missing named argument "system_health_score" for "ObservabilityAnalysis" 
[call-arg]
            analysis = ObservabilityAnalysis(
                       ^
ciris_engine/logic/services/adaptation/self_observation.py:603:23: error:
Argument "state" to "ObservationCycleResult" has incompatible type
"ciris_engine.logic.services.adaptation.self_observation.ObservationState";
expected
"ciris_engine.schemas.services.special.self_observation.ObservationState" 
[arg-type]
                    state=ObservationState(self._current_state.value),
                          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/services/adaptation/self_observation.py:674:25: error:
Missing named argument "performance_impact" for "ObservationEffectiveness" 
[call-arg]
            effectiveness = ObservationEffectiveness(
                            ^
ciris_engine/logic/services/adaptation/self_observation.py:674:25: error:
Missing named argument "error_impact" for "ObservationEffectiveness"  [call-arg]
            effectiveness = ObservationEffectiveness(
                            ^
ciris_engine/logic/services/adaptation/self_observation.py:674:25: error:
Missing named argument "resource_impact" for "ObservationEffectiveness" 
[call-arg]
            effectiveness = ObservationEffectiveness(
                            ^
ciris_engine/logic/services/adaptation/self_observation.py:674:25: error:
Missing named argument "stability_impact" for "ObservationEffectiveness" 
[call-arg]
            effectiveness = ObservationEffectiveness(
                            ^
ciris_engine/logic/services/adaptation/self_observation.py:674:25: error:
Missing named argument "user_satisfaction_impact" for "ObservationEffectiveness"
 [call-arg]
            effectiveness = ObservationEffectiveness(
                            ^
ciris_engine/logic/handlers/terminal/task_complete_handler.py:56:37: error:
Missing named argument "raw_llm_response" for "ActionSelectionDMAResult" 
[call-arg]
                        ponder_result = ActionSelectionDMAResult(
                                        ^
ciris_engine/logic/handlers/terminal/task_complete_handler.py:56:37: error:
Missing named argument "resource_usage" for "ActionSelectionDMAResult" 
[call-arg]
                        ponder_result = ActionSelectionDMAResult(
                                        ^
ciris_engine/logic/handlers/terminal/task_complete_handler.py:58:43: error:
Argument "action_parameters" to "ActionSelectionDMAResult" has incompatible type
"dict[str, Any]"; expected
"ObserveParams | SpeakParams | ToolParams | PonderParams | RejectParams | DeferParams | MemorizeParams | RecallParams | ForgetParams | TaskCompleteParams"
 [arg-type]
                            action_parameters=PonderParams(questions=[pond...
                                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/handlers/terminal/task_complete_handler.py:179:25: error:
Missing named argument "updated_by" for "GraphNode"  [call-arg]
                vibe_node = GraphNode(
                            ^
ciris_engine/logic/handlers/terminal/task_complete_handler.py:179:25: error:
Missing named argument "updated_at" for "GraphNode"  [call-arg]
                vibe_node = GraphNode(
                            ^
ciris_engine/logic/handlers/terminal/task_complete_handler.py:187:35: error:
"DispatchContext" has no attribute "channel_id"  [attr-defined]
                        "channel_id": dispatch_context.channel_id or "some...
                                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/handlers/memory/recall_handler.py:68:29: error: Missing
named argument "created_after" for "MemorySearchFilter"  [call-arg]
                search_filter = MemorySearchFilter(
                                ^
ciris_engine/logic/handlers/memory/recall_handler.py:68:29: error: Missing
named argument "created_before" for "MemorySearchFilter"  [call-arg]
                search_filter = MemorySearchFilter(
                                ^
ciris_engine/logic/handlers/memory/recall_handler.py:68:29: error: Missing
named argument "created_by" for "MemorySearchFilter"  [call-arg]
                search_filter = MemorySearchFilter(
                                ^
ciris_engine/logic/handlers/memory/recall_handler.py:68:29: error: Missing
named argument "has_attributes" for "MemorySearchFilter"  [call-arg]
                search_filter = MemorySearchFilter(
                                ^
ciris_engine/logic/handlers/memory/recall_handler.py:68:29: error: Missing
named argument "attribute_values" for "MemorySearchFilter"  [call-arg]
                search_filter = MemorySearchFilter(
                                ^
ciris_engine/logic/handlers/memory/recall_handler.py:68:29: error: Missing
named argument "offset" for "MemorySearchFilter"  [call-arg]
                search_filter = MemorySearchFilter(
                                ^
ciris_engine/logic/handlers/memory/recall_handler.py:123:47: error: Missing
named argument "type" for "MemoryQuery"  [call-arg]
                                connected_query = MemoryQuery(
                                                  ^
ciris_engine/logic/handlers/memory/recall_handler.py:148:60: error:
Incompatible types in assignment (expression has type
"list[dict[str, dict[str, Any] | str]]", target has type "Collection[str]") 
[assignment]
    ...                        node_info["connected_nodes"] = connected_nodes
                                                              ^~~~~~~~~~~~~~~
ciris_engine/logic/handlers/memory/memorize_handler.py:101:48: error: Value of
type "GraphNodeAttributes | dict[str, Any]" is not indexable  [index]
                            content_preview = f": {node.attributes['conten...
                                                   ^~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/handlers/memory/memorize_handler.py:103:47: error: Value of
type "GraphNodeAttributes | dict[str, Any]" is not indexable  [index]
                            content_preview = f": {node.attributes['name']...
                                                  ^~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/handlers/memory/memorize_handler.py:105:47: error: Value of
type "GraphNodeAttributes | dict[str, Any]" is not indexable  [index]
                            content_preview = f": {node.attributes['value'...
                                                  ^~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/handlers/memory/forget_handler.py:24:63: error: Subclass of
"ObserveParams" and "dict[Any, Any]" cannot exist: would have incompatible
method signatures  [unreachable]
    ...   params = ForgetParams(**params) if isinstance(params, dict) else pa...
                                                        ^~~~~~
ciris_engine/logic/handlers/memory/forget_handler.py:24:63: error: Subclass of
"SpeakParams" and "dict[Any, Any]" cannot exist: would have incompatible method
signatures  [unreachable]
    ...   params = ForgetParams(**params) if isinstance(params, dict) else pa...
                                                        ^~~~~~
ciris_engine/logic/handlers/memory/forget_handler.py:24:63: error: Subclass of
"ToolParams" and "dict[Any, Any]" cannot exist: would have incompatible method
signatures  [unreachable]
    ...   params = ForgetParams(**params) if isinstance(params, dict) else pa...
                                                        ^~~~~~
ciris_engine/logic/handlers/memory/forget_handler.py:24:63: error: Subclass of
"PonderParams" and "dict[Any, Any]" cannot exist: would have incompatible method
signatures  [unreachable]
    ...   params = ForgetParams(**params) if isinstance(params, dict) else pa...
                                                        ^~~~~~
ciris_engine/logic/handlers/memory/forget_handler.py:24:63: error: Subclass of
"RejectParams" and "dict[Any, Any]" cannot exist: would have incompatible method
signatures  [unreachable]
    ...   params = ForgetParams(**params) if isinstance(params, dict) else pa...
                                                        ^~~~~~
ciris_engine/logic/handlers/memory/forget_handler.py:24:63: error: Subclass of
"DeferParams" and "dict[Any, Any]" cannot exist: would have incompatible method
signatures  [unreachable]
    ...   params = ForgetParams(**params) if isinstance(params, dict) else pa...
                                                        ^~~~~~
ciris_engine/logic/handlers/memory/forget_handler.py:24:63: error: Subclass of
"MemorizeParams" and "dict[Any, Any]" cannot exist: would have incompatible
method signatures  [unreachable]
    ...   params = ForgetParams(**params) if isinstance(params, dict) else pa...
                                                        ^~~~~~
ciris_engine/logic/handlers/memory/forget_handler.py:24:63: error: Subclass of
"RecallParams" and "dict[Any, Any]" cannot exist: would have incompatible method
signatures  [unreachable]
    ...   params = ForgetParams(**params) if isinstance(params, dict) else pa...
                                                        ^~~~~~
ciris_engine/logic/handlers/memory/forget_handler.py:24:63: error: Subclass of
"TaskCompleteParams" and "dict[Any, Any]" cannot exist: would have incompatible
method signatures  [unreachable]
    ...   params = ForgetParams(**params) if isinstance(params, dict) else pa...
                                                        ^~~~~~
ciris_engine/logic/handlers/external/tool_handler.py:20:5: error: Missing
return statement  [return]
        async def handle(
        ^
ciris_engine/logic/handlers/external/tool_handler.py:47:22: error: Incompatible
types in assignment (expression has type "None", variable has type "ToolParams")
 [assignment]
                params = None
                         ^~~~
ciris_engine/logic/handlers/external/tool_handler.py:51:13: error: Statement is
unreachable  [unreachable]
                self.logger.error(
                ^
ciris_engine/logic/handlers/external/tool_handler.py:106:28: error:
Incompatible types in assignment (expression has type "str | None", variable has
type "str")  [assignment]
                follow_up_id = await self.complete_thought_and_create_foll...
                               ^
ciris_engine/logic/handlers/external/speak_handler.py:57:27: error: Subclass of
"ObserveParams" and "dict[Any, Any]" cannot exist: would have incompatible
method signatures  [unreachable]
                if isinstance(processed_result.action_parameters, dict):
                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/handlers/external/speak_handler.py:57:27: error: Subclass of
"SpeakParams" and "dict[Any, Any]" cannot exist: would have incompatible method
signatures  [unreachable]
                if isinstance(processed_result.action_parameters, dict):
                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/handlers/external/speak_handler.py:57:27: error: Subclass of
"ToolParams" and "dict[Any, Any]" cannot exist: would have incompatible method
signatures  [unreachable]
                if isinstance(processed_result.action_parameters, dict):
                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/handlers/external/speak_handler.py:57:27: error: Subclass of
"PonderParams" and "dict[Any, Any]" cannot exist: would have incompatible method
signatures  [unreachable]
                if isinstance(processed_result.action_parameters, dict):
                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/handlers/external/speak_handler.py:57:27: error: Subclass of
"RejectParams" and "dict[Any, Any]" cannot exist: would have incompatible method
signatures  [unreachable]
                if isinstance(processed_result.action_parameters, dict):
                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/handlers/external/speak_handler.py:57:27: error: Subclass of
"DeferParams" and "dict[Any, Any]" cannot exist: would have incompatible method
signatures  [unreachable]
                if isinstance(processed_result.action_parameters, dict):
                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/handlers/external/speak_handler.py:57:27: error: Subclass of
"MemorizeParams" and "dict[Any, Any]" cannot exist: would have incompatible
method signatures  [unreachable]
                if isinstance(processed_result.action_parameters, dict):
                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/handlers/external/speak_handler.py:57:27: error: Subclass of
"RecallParams" and "dict[Any, Any]" cannot exist: would have incompatible method
signatures  [unreachable]
                if isinstance(processed_result.action_parameters, dict):
                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/handlers/external/speak_handler.py:57:27: error: Subclass of
"ForgetParams" and "dict[Any, Any]" cannot exist: would have incompatible method
signatures  [unreachable]
                if isinstance(processed_result.action_parameters, dict):
                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/handlers/external/speak_handler.py:57:27: error: Subclass of
"TaskCompleteParams" and "dict[Any, Any]" cannot exist: would have incompatible
method signatures  [unreachable]
                if isinstance(processed_result.action_parameters, dict):
                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/handlers/external/speak_handler.py:58:17: error: Statement
is unreachable  [unreachable]
                    channel_ctx = processed_result.action_parameters.get('...
                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/handlers/external/speak_handler.py:137:24: error: Missing
named argument "timeout_seconds" for "ServiceRequestData"  [call-arg]
            request_data = ServiceRequestData(
                           ^
ciris_engine/logic/handlers/external/speak_handler.py:148:25: error: Missing
named argument "result_type" for "ServiceResponseData"  [call-arg]
            response_data = ServiceResponseData(
                            ^
ciris_engine/logic/handlers/external/speak_handler.py:148:25: error: Missing
named argument "result_size" for "ServiceResponseData"  [call-arg]
            response_data = ServiceResponseData(
                            ^
ciris_engine/logic/handlers/external/speak_handler.py:148:25: error: Missing
named argument "error_type" for "ServiceResponseData"  [call-arg]
            response_data = ServiceResponseData(
                            ^
ciris_engine/logic/handlers/external/speak_handler.py:148:25: error: Missing
named argument "error_message" for "ServiceResponseData"  [call-arg]
            response_data = ServiceResponseData(
                            ^
ciris_engine/logic/handlers/external/speak_handler.py:148:25: error: Missing
named argument "error_traceback" for "ServiceResponseData"  [call-arg]
            response_data = ServiceResponseData(
                            ^
ciris_engine/logic/handlers/external/speak_handler.py:148:25: error: Missing
named argument "tokens_used" for "ServiceResponseData"  [call-arg]
            response_data = ServiceResponseData(
                            ^
ciris_engine/logic/handlers/external/speak_handler.py:148:25: error: Missing
named argument "memory_bytes" for "ServiceResponseData"  [call-arg]
            response_data = ServiceResponseData(
                            ^
ciris_engine/logic/handlers/external/speak_handler.py:155:23: error: Missing
named argument "correlation_type" for "ServiceCorrelation"  [call-arg]
            correlation = ServiceCorrelation(
                          ^
ciris_engine/logic/handlers/external/speak_handler.py:155:23: error: Missing
named argument "metric_data" for "ServiceCorrelation"  [call-arg]
            correlation = ServiceCorrelation(
                          ^
ciris_engine/logic/handlers/external/speak_handler.py:155:23: error: Missing
named argument "log_data" for "ServiceCorrelation"  [call-arg]
            correlation = ServiceCorrelation(
                          ^
ciris_engine/logic/handlers/external/speak_handler.py:155:23: error: Missing
named argument "trace_context" for "ServiceCorrelation"  [call-arg]
            correlation = ServiceCorrelation(
                          ^
ciris_engine/logic/handlers/external/speak_handler.py:155:23: error: Missing
named argument "retention_policy" for "ServiceCorrelation"  [call-arg]
            correlation = ServiceCorrelation(
                          ^
ciris_engine/logic/handlers/external/speak_handler.py:155:23: error: Missing
named argument "ttl_seconds" for "ServiceCorrelation"  [call-arg]
            correlation = ServiceCorrelation(
                          ^
ciris_engine/logic/handlers/external/speak_handler.py:155:23: error: Missing
named argument "parent_correlation_id" for "ServiceCorrelation"  [call-arg]
            correlation = ServiceCorrelation(
                          ^
ciris_engine/logic/handlers/external/observe_handler.py:69:5: error: Missing
return statement  [return]
        async def handle(
        ^
ciris_engine/logic/handlers/external/observe_handler.py:111:13: error: Return
value expected  [return-value]
                return
                ^~~~~~
ciris_engine/logic/handlers/control/reject_handler.py:16:5: error: Missing
return statement  [return]
        async def handle(
        ^
ciris_engine/logic/handlers/control/reject_handler.py:39:13: error: Return
value expected  [return-value]
                return
                ^~~~~~
ciris_engine/logic/handlers/control/reject_handler.py:45:13: error: Statement
is unreachable  [unreachable]
                self.logger.error(f"REJECT action params are not RejectPar...
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/handlers/control/ponder_handler.py:31:62: error: Subclass of
"ObserveParams" and "dict[Any, Any]" cannot exist: would have incompatible
method signatures  [unreachable]
    ...er_params = PonderParams(**params) if isinstance(params, dict) else pa...
                                                        ^~~~~~
ciris_engine/logic/handlers/control/ponder_handler.py:31:62: error: Subclass of
"SpeakParams" and "dict[Any, Any]" cannot exist: would have incompatible method
signatures  [unreachable]
    ...er_params = PonderParams(**params) if isinstance(params, dict) else pa...
                                                        ^~~~~~
ciris_engine/logic/handlers/control/ponder_handler.py:31:62: error: Subclass of
"ToolParams" and "dict[Any, Any]" cannot exist: would have incompatible method
signatures  [unreachable]
    ...er_params = PonderParams(**params) if isinstance(params, dict) else pa...
                                                        ^~~~~~
ciris_engine/logic/handlers/control/ponder_handler.py:31:62: error: Subclass of
"PonderParams" and "dict[Any, Any]" cannot exist: would have incompatible method
signatures  [unreachable]
    ...er_params = PonderParams(**params) if isinstance(params, dict) else pa...
                                                        ^~~~~~
ciris_engine/logic/handlers/control/ponder_handler.py:31:62: error: Subclass of
"RejectParams" and "dict[Any, Any]" cannot exist: would have incompatible method
signatures  [unreachable]
    ...er_params = PonderParams(**params) if isinstance(params, dict) else pa...
                                                        ^~~~~~
ciris_engine/logic/handlers/control/ponder_handler.py:31:62: error: Subclass of
"DeferParams" and "dict[Any, Any]" cannot exist: would have incompatible method
signatures  [unreachable]
    ...er_params = PonderParams(**params) if isinstance(params, dict) else pa...
                                                        ^~~~~~
ciris_engine/logic/handlers/control/ponder_handler.py:31:62: error: Subclass of
"MemorizeParams" and "dict[Any, Any]" cannot exist: would have incompatible
method signatures  [unreachable]
    ...er_params = PonderParams(**params) if isinstance(params, dict) else pa...
                                                        ^~~~~~
ciris_engine/logic/handlers/control/ponder_handler.py:31:62: error: Subclass of
"RecallParams" and "dict[Any, Any]" cannot exist: would have incompatible method
signatures  [unreachable]
    ...er_params = PonderParams(**params) if isinstance(params, dict) else pa...
                                                        ^~~~~~
ciris_engine/logic/handlers/control/ponder_handler.py:31:62: error: Subclass of
"ForgetParams" and "dict[Any, Any]" cannot exist: would have incompatible method
signatures  [unreachable]
    ...er_params = PonderParams(**params) if isinstance(params, dict) else pa...
                                                        ^~~~~~
ciris_engine/logic/handlers/control/ponder_handler.py:31:62: error: Subclass of
"TaskCompleteParams" and "dict[Any, Any]" cannot exist: would have incompatible
method signatures  [unreachable]
    ...er_params = PonderParams(**params) if isinstance(params, dict) else pa...
                                                        ^~~~~~
ciris_engine/logic/handlers/control/defer_handler.py:32:5: error: Missing
return statement  [return]
        async def handle(
        ^
ciris_engine/logic/handlers/control/defer_handler.py:48:27: error: Subclass of
"ObserveParams" and "dict[Any, Any]" cannot exist: would have incompatible
method signatures  [unreachable]
                if isinstance(raw_params, dict):
                              ^~~~~~~~~~
ciris_engine/logic/handlers/control/defer_handler.py:48:27: error: Subclass of
"SpeakParams" and "dict[Any, Any]" cannot exist: would have incompatible method
signatures  [unreachable]
                if isinstance(raw_params, dict):
                              ^~~~~~~~~~
ciris_engine/logic/handlers/control/defer_handler.py:48:27: error: Subclass of
"ToolParams" and "dict[Any, Any]" cannot exist: would have incompatible method
signatures  [unreachable]
                if isinstance(raw_params, dict):
                              ^~~~~~~~~~
ciris_engine/logic/handlers/control/defer_handler.py:48:27: error: Subclass of
"PonderParams" and "dict[Any, Any]" cannot exist: would have incompatible method
signatures  [unreachable]
                if isinstance(raw_params, dict):
                              ^~~~~~~~~~
ciris_engine/logic/handlers/control/defer_handler.py:48:27: error: Subclass of
"RejectParams" and "dict[Any, Any]" cannot exist: would have incompatible method
signatures  [unreachable]
                if isinstance(raw_params, dict):
                              ^~~~~~~~~~
ciris_engine/logic/handlers/control/defer_handler.py:48:27: error: Subclass of
"DeferParams" and "dict[Any, Any]" cannot exist: would have incompatible method
signatures  [unreachable]
                if isinstance(raw_params, dict):
                              ^~~~~~~~~~
ciris_engine/logic/handlers/control/defer_handler.py:48:27: error: Subclass of
"MemorizeParams" and "dict[Any, Any]" cannot exist: would have incompatible
method signatures  [unreachable]
                if isinstance(raw_params, dict):
                              ^~~~~~~~~~
ciris_engine/logic/handlers/control/defer_handler.py:48:27: error: Subclass of
"RecallParams" and "dict[Any, Any]" cannot exist: would have incompatible method
signatures  [unreachable]
                if isinstance(raw_params, dict):
                              ^~~~~~~~~~
ciris_engine/logic/handlers/control/defer_handler.py:48:27: error: Subclass of
"ForgetParams" and "dict[Any, Any]" cannot exist: would have incompatible method
signatures  [unreachable]
                if isinstance(raw_params, dict):
                              ^~~~~~~~~~
ciris_engine/logic/handlers/control/defer_handler.py:48:27: error: Subclass of
"TaskCompleteParams" and "dict[Any, Any]" cannot exist: would have incompatible
method signatures  [unreachable]
                if isinstance(raw_params, dict):
                              ^~~~~~~~~~
ciris_engine/logic/handlers/control/defer_handler.py:49:17: error: Statement is
unreachable  [unreachable]
                    defer_params_obj = DeferParams(**raw_params)
                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/dma/pdma.py:66:5: error: Signature of "evaluate"
incompatible with supertype "BaseDMAProtocol"  [override]
        async def evaluate(self, input_data: ProcessingQueueItem, context:...
        ^
ciris_engine/logic/dma/pdma.py:66:5: note:      Superclass:
ciris_engine/logic/dma/pdma.py:66:5: note:          def evaluate(self, context: DMAContext) -> Coroutine[Any, Any, DMADecision]
ciris_engine/logic/dma/pdma.py:66:5: note:      Subclass:
ciris_engine/logic/dma/pdma.py:66:5: note:          def evaluate(self, input_data: ProcessingQueueItem, context: ThoughtState | None = ..., **kwargs: Any) -> Coroutine[Any, Any, EthicalDMAResult]
ciris_engine/logic/dma/pdma.py:72:24: error: "ThoughtState" has no attribute
"system_snapshot"  [attr-defined]
            if context and context.system_snapshot:
                           ^~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/dma/pdma.py:73:66: error: "ThoughtState" has no attribute
"system_snapshot"  [attr-defined]
    ...em_snapshot_context_str = format_system_snapshot(context.system_snapsh...
                                                        ^~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/dma/pdma.py:74:16: error: "ThoughtState" has no attribute
"system_snapshot"  [attr-defined]
                if context.system_snapshot.user_profiles:
                   ^~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/dma/pdma.py:75:65: error: "ThoughtState" has no attribute
"system_snapshot"  [attr-defined]
    ... user_profile_context_str = format_user_profiles(context.system_snapsh...
                                                        ^~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/dma/pdma.py:76:26: error: "ThoughtState" has no attribute
"user_profiles"  [attr-defined]
            elif context and context.user_profiles:
                             ^~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/dma/pdma.py:77:61: error: "ThoughtState" has no attribute
"user_profiles"  [attr-defined]
    ... user_profile_context_str = format_user_profiles(context.user_profiles...
                                                        ^~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/dma/dsdma_base.py:81:5: error: Signature of "evaluate"
incompatible with supertype "BaseDMAProtocol"  [override]
        async def evaluate(
        ^
ciris_engine/logic/dma/dsdma_base.py:81:5: note:      Superclass:
ciris_engine/logic/dma/dsdma_base.py:81:5: note:          def evaluate(self, context: DMAContext) -> Coroutine[Any, Any, DMADecision]
ciris_engine/logic/dma/dsdma_base.py:81:5: note:      Subclass:
ciris_engine/logic/dma/dsdma_base.py:81:5: note:          def evaluate(self, input_data: ProcessingQueueItem, current_context: dict[str, Any] | None = ..., **kwargs: Any) -> Coroutine[Any, Any, DSDMAResult]
ciris_engine/logic/dma/dsdma_base.py:114:56: error: Argument 1 to
"format_user_profiles" has incompatible type "list[UserProfile]"; expected
"dict[Any, Any] | None"  [arg-type]
    ...        user_profiles_block = format_user_profiles(user_profiles_data)
                                                          ^~~~~~~~~~~~~~~~~~
ciris_engine/logic/dma/dsdma_base.py:118:62: error: "ThoughtState" has no
attribute "identity_context"  [attr-defined]
    ...if not current_context.processing_context or not current_context.proce...
                                                        ^~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/dma/dsdma_base.py:120:30: error: "ThoughtState" has no
attribute "identity_context"  [attr-defined]
                identity_block = current_context.processing_context.identi...
                                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/dma/csdma.py:134:23: error: Value of type
"dict[Any, Any] | ProcessingThoughtContext | ThoughtContext" is not indexable 
[index]
                env_ctx = thought_item.initial_context["environment_contex...
                          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/dma/csdma.py:193:5: error: Signature of "evaluate"
incompatible with supertype "BaseDMAProtocol"  [override]
        async def evaluate(self, input_data: ProcessingQueueItem, **kwargs...
        ^
ciris_engine/logic/dma/csdma.py:193:5: note:      Superclass:
ciris_engine/logic/dma/csdma.py:193:5: note:          def evaluate(self, context: DMAContext) -> Coroutine[Any, Any, DMADecision]
ciris_engine/logic/dma/csdma.py:193:5: note:      Subclass:
ciris_engine/logic/dma/csdma.py:193:5: note:          def evaluate(self, input_data: ProcessingQueueItem, **kwargs: Any) -> Coroutine[Any, Any, CSDMAResult]
ciris_engine/logic/dma/action_selection_pdma.py:73:5: error: Signature of
"evaluate" incompatible with supertype "BaseDMAProtocol"  [override]
        async def evaluate(
        ^
ciris_engine/logic/dma/action_selection_pdma.py:73:5: note:      Superclass:
ciris_engine/logic/dma/action_selection_pdma.py:73:5: note:          def evaluate(self, context: DMAContext) -> Coroutine[Any, Any, DMADecision]
ciris_engine/logic/dma/action_selection_pdma.py:73:5: note:      Subclass:
ciris_engine/logic/dma/action_selection_pdma.py:73:5: note:          def evaluate(self, input_data: dict[str, Any], enable_recursive_evaluation: bool = ..., **kwargs: Any) -> Coroutine[Any, Any, ActionSelectionDMAResult]
ciris_engine/logic/dma/action_selection_pdma.py:195:9: error: Returning Any
from function declared to return "ActionSelectionDMAResult"  [no-any-return]
            return final_result
            ^~~~~~~~~~~~~~~~~~~
ciris_engine/logic/dma/action_selection_pdma.py:247:16: error: Missing named
argument "raw_llm_response" for "ActionSelectionDMAResult"  [call-arg]
            return ActionSelectionDMAResult(
                   ^
ciris_engine/logic/dma/action_selection_pdma.py:247:16: error: Missing named
argument "reasoning" for "ActionSelectionDMAResult"  [call-arg]
            return ActionSelectionDMAResult(
                   ^
ciris_engine/logic/dma/action_selection_pdma.py:247:16: error: Missing named
argument "evaluation_time_ms" for "ActionSelectionDMAResult"  [call-arg]
            return ActionSelectionDMAResult(
                   ^
ciris_engine/logic/dma/action_selection_pdma.py:247:16: error: Missing named
argument "resource_usage" for "ActionSelectionDMAResult"  [call-arg]
            return ActionSelectionDMAResult(
                   ^
ciris_engine/logic/context/system_snapshot.py:114:33: error: Missing named
argument "created_after" for "MemorySearchFilter"  [call-arg]
                    search_filter = MemorySearchFilter(
                                    ^
ciris_engine/logic/context/system_snapshot.py:114:33: error: Missing named
argument "created_before" for "MemorySearchFilter"  [call-arg]
                    search_filter = MemorySearchFilter(
                                    ^
ciris_engine/logic/context/system_snapshot.py:114:33: error: Missing named
argument "created_by" for "MemorySearchFilter"  [call-arg]
                    search_filter = MemorySearchFilter(
                                    ^
ciris_engine/logic/context/system_snapshot.py:114:33: error: Missing named
argument "has_attributes" for "MemorySearchFilter"  [call-arg]
                    search_filter = MemorySearchFilter(
                                    ^
ciris_engine/logic/context/system_snapshot.py:114:33: error: Missing named
argument "attribute_values" for "MemorySearchFilter"  [call-arg]
                    search_filter = MemorySearchFilter(
                                    ^
ciris_engine/logic/context/system_snapshot.py:114:33: error: Missing named
argument "offset" for "MemorySearchFilter"  [call-arg]
                    search_filter = MemorySearchFilter(
                                    ^
ciris_engine/logic/context/system_snapshot.py:160:25: error: Incompatible types
in assignment (expression has type "GraphNodeAttributes | dict[str, Any]",
variable has type "dict[str, Any]")  [assignment]
                    attrs = identity_result.attributes
                            ^~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/context/system_snapshot.py:174:21: error: Statement is
unreachable  [unreachable]
                        attrs_dict = attrs.model_dump() if hasattr(attrs, ...
                        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/context/system_snapshot.py:194:38: error: Missing named
argument "assigned_agent" for "TaskSummary"  [call-arg]
                recent_tasks_list.append(TaskSummary(
                                         ^
ciris_engine/logic/context/system_snapshot.py:194:38: error: Missing named
argument "deadline" for "TaskSummary"  [call-arg]
                recent_tasks_list.append(TaskSummary(
                                         ^
ciris_engine/logic/context/system_snapshot.py:194:38: error: Missing named
argument "result" for "TaskSummary"  [call-arg]
                recent_tasks_list.append(TaskSummary(
                                         ^
ciris_engine/logic/context/system_snapshot.py:194:38: error: Missing named
argument "result_data" for "TaskSummary"  [call-arg]
                recent_tasks_list.append(TaskSummary(
                                         ^
ciris_engine/logic/context/system_snapshot.py:194:38: error: Missing named
argument "error" for "TaskSummary"  [call-arg]
                recent_tasks_list.append(TaskSummary(
                                         ^
ciris_engine/logic/context/system_snapshot.py:197:28: error: Argument
"created_at" to "TaskSummary" has incompatible type "str"; expected "datetime" 
[arg-type]
                    created_at=t_obj.created_at,
                               ^~~~~~~~~~~~~~~~
ciris_engine/logic/context/system_snapshot.py:211:35: error: Missing named
argument "assigned_agent" for "TaskSummary"  [call-arg]
                top_tasks_list.append(TaskSummary(
                                      ^
ciris_engine/logic/context/system_snapshot.py:211:35: error: Missing named
argument "deadline" for "TaskSummary"  [call-arg]
                top_tasks_list.append(TaskSummary(
                                      ^
ciris_engine/logic/context/system_snapshot.py:211:35: error: Missing named
argument "result" for "TaskSummary"  [call-arg]
                top_tasks_list.append(TaskSummary(
                                      ^
ciris_engine/logic/context/system_snapshot.py:211:35: error: Missing named
argument "result_data" for "TaskSummary"  [call-arg]
                top_tasks_list.append(TaskSummary(
                                      ^
ciris_engine/logic/context/system_snapshot.py:211:35: error: Missing named
argument "error" for "TaskSummary"  [call-arg]
                top_tasks_list.append(TaskSummary(
                                      ^
ciris_engine/logic/context/system_snapshot.py:214:28: error: Argument
"created_at" to "TaskSummary" has incompatible type "str"; expected "datetime" 
[arg-type]
                    created_at=t_obj.created_at,
                               ^~~~~~~~~~~~~~~~
ciris_engine/logic/context/system_snapshot.py:225:36: error: Missing named
argument "assigned_agent" for "TaskSummary"  [call-arg]
                current_task_summary = TaskSummary(
                                       ^
ciris_engine/logic/context/system_snapshot.py:225:36: error: Missing named
argument "deadline" for "TaskSummary"  [call-arg]
                current_task_summary = TaskSummary(
                                       ^
ciris_engine/logic/context/system_snapshot.py:225:36: error: Missing named
argument "result" for "TaskSummary"  [call-arg]
                current_task_summary = TaskSummary(
                                       ^
ciris_engine/logic/context/system_snapshot.py:225:36: error: Missing named
argument "result_data" for "TaskSummary"  [call-arg]
                current_task_summary = TaskSummary(
                                       ^
ciris_engine/logic/context/system_snapshot.py:225:36: error: Missing named
argument "error" for "TaskSummary"  [call-arg]
                current_task_summary = TaskSummary(
                                       ^
ciris_engine/logic/context/system_snapshot.py:228:28: error: Argument
"created_at" to "TaskSummary" has incompatible type "str"; expected "datetime" 
[arg-type]
                    created_at=task.created_at,
                               ^~~~~~~~~~~~~~~
ciris_engine/logic/context/system_snapshot.py:408:43: error: Missing named
argument "total_interactions" for "UserProfile"  [call-arg]
                    user_profiles_list.append(UserProfile(
                                              ^
ciris_engine/logic/context/system_snapshot.py:487:47: error: Missing named
argument "type" for "MemoryQuery"  [call-arg]
                                connected_query = MemoryQuery(
                                                  ^
ciris_engine/logic/context/system_snapshot.py:511:36: error: Unexpected keyword
argument "notes" for "UserProfile"  [call-arg]
                        user_profile = UserProfile(
                                       ^
ciris_engine/logic/context/system_snapshot.py:513:38: error: Argument
"display_name" to "UserProfile" has incompatible type "Any | None"; expected
"str"  [arg-type]
                            display_name=attrs.get('username', attrs.get('...
                                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/adapters/discord/discord_observer.py:105:51: error: Argument
1 to "_extract_channel_id" of "DiscordObserver" has incompatible type
"str | None"; expected "str"  [arg-type]
            raw_channel_id = self._extract_channel_id(msg.channel_id)
                                                      ^~~~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_observer.py:176:51: error: Argument
1 to "_extract_channel_id" of "DiscordObserver" has incompatible type
"str | None"; expected "str"  [arg-type]
            raw_channel_id = self._extract_channel_id(msg.channel_id)
                                                      ^~~~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_observer.py:206:51: error: Argument
1 to "_extract_channel_id" of "DiscordObserver" has incompatible type
"str | None"; expected "str"  [arg-type]
            raw_channel_id = self._extract_channel_id(msg.channel_id)
                                                      ^~~~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_observer.py:294:98: error: Argument
3 to "update_task_status" has incompatible type "TimeServiceProtocol | None";
expected "TimeServiceProtocol"  [arg-type]
    ...sk_status(original_task.task_id, TaskStatus.ACTIVE, self.time_service)
                                                           ^~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/discord/discord_observer.py:299:73: error: Subclass
of "FinalAction" and "dict[Any, Any]" cannot exist: would have incompatible
method signatures  [unreachable]
    ... if original_thought.final_action and isinstance(original_thought.fina...
                                                        ^~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/adapters/discord/discord_observer.py:300:29: error:
Statement is unreachable  [unreachable]
                                action_params = original_thought.final_act...
                                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/adapters/discord/discord_observer.py:325:48: error: Missing
named argument "identity_context" for "ProcessingThoughtContext"  [call-arg]
                                guidance_context = ProcessingThoughtContex...
                                                   ^
ciris_engine/logic/adapters/discord/discord_observer.py:325:48: error: Missing
named argument "initial_task_context" for "ProcessingThoughtContext"  [call-arg]
                                guidance_context = ProcessingThoughtContex...
                                                   ^
ciris_engine/logic/adapters/discord/discord_observer.py:325:48: error:
Incompatible types in assignment (expression has type
"ProcessingThoughtContext", variable has type "ThoughtContext")  [assignment]
                                guidance_context = ProcessingThoughtContex...
                                                   ^
ciris_engine/logic/adapters/discord/discord_observer.py:326:49: error: Missing
named argument "channel_id" for "SystemSnapshot"  [call-arg]
                                    system_snapshot=SystemSnapshot(
                                                    ^
ciris_engine/logic/adapters/discord/discord_observer.py:326:49: error: Missing
named argument "current_task_details" for "SystemSnapshot"  [call-arg]
                                    system_snapshot=SystemSnapshot(
                                                    ^
ciris_engine/logic/adapters/discord/discord_observer.py:326:49: error: Missing
named argument "current_thought_summary" for "SystemSnapshot"  [call-arg]
                                    system_snapshot=SystemSnapshot(
                                                    ^
ciris_engine/logic/adapters/discord/discord_observer.py:326:49: error: Missing
named argument "identity_purpose" for "SystemSnapshot"  [call-arg]
                                    system_snapshot=SystemSnapshot(
                                                    ^
ciris_engine/logic/adapters/discord/discord_observer.py:326:49: error: Missing
named argument "secrets_filter_version" for "SystemSnapshot"  [call-arg]
                                    system_snapshot=SystemSnapshot(
                                                    ^
ciris_engine/logic/adapters/discord/discord_observer.py:326:49: error: Missing
named argument "total_secrets_stored" for "SystemSnapshot"  [call-arg]
                                    system_snapshot=SystemSnapshot(
                                                    ^
ciris_engine/logic/adapters/discord/discord_observer.py:326:49: error: Missing
named argument "shutdown_context" for "SystemSnapshot"  [call-arg]
                                    system_snapshot=SystemSnapshot(
                                                    ^
ciris_engine/logic/adapters/discord/discord_observer.py:326:49: error: Missing
named argument "telemetry_summary" for "SystemSnapshot"  [call-arg]
                                    system_snapshot=SystemSnapshot(
                                                    ^
ciris_engine/logic/adapters/discord/discord_observer.py:346:44: error: Missing
named argument "channel_id" for "Thought"  [call-arg]
                            guidance_thought = Thought(
                                               ^
ciris_engine/logic/adapters/discord/discord_observer.py:346:44: error: Missing
named argument "thought_depth" for "Thought"  [call-arg]
                            guidance_thought = Thought(
                                               ^
ciris_engine/logic/adapters/discord/discord_observer.py:346:44: error: Missing
named argument "ponder_notes" for "Thought"  [call-arg]
                            guidance_thought = Thought(
                                               ^
ciris_engine/logic/adapters/discord/discord_observer.py:346:44: error: Missing
named argument "final_action" for "Thought"  [call-arg]
                            guidance_thought = Thought(
                                               ^
ciris_engine/logic/adapters/discord/discord_observer.py:370:20: error: Missing
named argument "parent_task_id" for "Task"  [call-arg]
                task = Task(
                       ^
ciris_engine/logic/adapters/discord/discord_observer.py:370:20: error: Missing
named argument "outcome" for "Task"  [call-arg]
                task = Task(
                       ^
ciris_engine/logic/adapters/discord/discord_observer.py:370:20: error: Missing
named argument "signed_by" for "Task"  [call-arg]
                task = Task(
                       ^
ciris_engine/logic/adapters/discord/discord_observer.py:370:20: error: Missing
named argument "signature" for "Task"  [call-arg]
                task = Task(
                       ^
ciris_engine/logic/adapters/discord/discord_observer.py:370:20: error: Missing
named argument "signed_at" for "Task"  [call-arg]
                task = Task(
                       ^
ciris_engine/logic/adapters/discord/discord_observer.py:372:28: error: Argument
"channel_id" to "Task" has incompatible type "str | None"; expected "str" 
[arg-type]
                    channel_id=msg.channel_id,
                               ^~~~~~~~~~~~~~
ciris_engine/logic/adapters/cli/cli_observer.py:147:19: error: Missing named
argument "reference_message_id" for "IncomingMessage"  [call-arg]
                msg = IncomingMessage(
                      ^
ciris_engine/logic/adapters/cli/cli_observer.py:147:19: error: Missing named
argument "timestamp" for "IncomingMessage"  [call-arg]
                msg = IncomingMessage(
                      ^
ciris_engine/logic/adapters/cli/cli_observer.py:209:23: error: Missing named
argument "reference_message_id" for "IncomingMessage"  [call-arg]
                    msg = IncomingMessage(
                          ^
ciris_engine/logic/adapters/cli/cli_observer.py:209:23: error: Missing named
argument "timestamp" for "IncomingMessage"  [call-arg]
                    msg = IncomingMessage(
                          ^
ciris_engine/logic/processors/core/thought_processor.py:745:17: error:
Statement is unreachable  [unreachable]
                    profile_name = context.get('agent_profile_name')
                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/infrastructure/handlers/action_dispatcher.py:56:13: error:
Statement is unreachable  [unreachable]
                try:
                ^
ciris_engine/logic/infrastructure/handlers/action_dispatcher.py:149:23: error:
Missing positional argument "value" in call to "record_metric" of
"TelemetryServiceProtocol"  [call-arg]
                    await self.telemetry_service.record_metric(f"handler_c...
                          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/infrastructure/handlers/action_dispatcher.py:150:23: error:
Missing positional argument "value" in call to "record_metric" of
"TelemetryServiceProtocol"  [call-arg]
                    await self.telemetry_service.record_metric("handler_co...
                          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/infrastructure/handlers/action_dispatcher.py:158:23: error:
Missing positional argument "value" in call to "record_metric" of
"TelemetryServiceProtocol"  [call-arg]
                    await self.telemetry_service.record_metric(f"handler_e...
                          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/infrastructure/handlers/action_dispatcher.py:159:23: error:
Missing positional argument "value" in call to "record_metric" of
"TelemetryServiceProtocol"  [call-arg]
                    await self.telemetry_service.record_metric("handler_er...
                          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/context/builder.py:199:17: error: Statement is unreachable 
[unreachable]
                    initial_task_context = ctx.initial_task_context
                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/context/builder.py:230:40: error: Argument 1 to
"build_secrets_snapshot" has incompatible type "SecretsService | None"; expected
"SecretsService"  [arg-type]
            return await _secrets_snapshot(self.secrets_service)
                                           ^~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/discord/adapter.py:24:9: error: Incompatible types
in assignment (expression has type "DiscordAdapterConfig", base class "Service"
defined the type as "dict[Any, Any]")  [assignment]
            self.config: DiscordAdapterConfig
            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/discord/adapter.py:103:24: error: Argument
"on_message" to "DiscordAdapter" has incompatible type
"Callable[[DiscordMessage], Coroutine[Any, Any, None]]"; expected
"Callable[[IncomingMessage], Awaitable[None]] | None"  [arg-type]
                on_message=self._handle_discord_message_event,
                           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/discord/adapter.py:160:9: error: Statement is
unreachable  [unreachable]
            if not isinstance(msg, DiscordMessage): # Ensure it's the corr...
            ^
ciris_engine/logic/adapters/discord/adapter.py:209:33: error: Incompatible
types in assignment (expression has type "DiscordObserver", variable has type
"None")  [assignment]
            self.discord_observer = DiscordObserver(
                                    ^
ciris_engine/logic/adapters/discord/adapter.py:225:19: error: "None" has no
attribute "start"  [attr-defined]
                await self.discord_observer.start()
                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/discord/adapter.py:382:33: error: "DiscordAdapter"
has no attribute "bot"  [attr-defined]
                                    self.discord_adapter.bot = self.client
                                    ^~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/discord/adapter.py:455:19: error: "None" has no
attribute "stop"  [attr-defined]
                await self.discord_observer.stop()
                      ^~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/cli/adapter.py:17:5: error: Incompatible types in
assignment (expression has type "CLIAdapterConfig", base class "Service" defined
the type as "dict[Any, Any]")  [assignment]
        config: CLIAdapterConfig  # Type annotation to override parent's d...
        ^~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/cli/adapter.py:82:9: error: Statement is
unreachable  [unreachable]
            if not isinstance(msg, IncomingMessage):
            ^
ciris_engine/logic/adapters/cli/adapter.py:131:37: error: Incompatible types in
assignment (expression has type "CLIObserver", variable has type "None") 
[assignment]
                    self.cli_observer = CLIObserver(
                                        ^
ciris_engine/logic/adapters/cli/adapter.py:132:32: error: Argument "on_observe"
to "CLIObserver" has incompatible type
"Callable[[IncomingMessage], Coroutine[Any, Any, None]]"; expected
"Callable[[dict[Any, Any]], Awaitable[None]]"  [arg-type]
                        on_observe=self.on_observe,
                                   ^~~~~~~~~~~~~~~
ciris_engine/logic/adapters/cli/adapter.py:149:13: error: Statement is
unreachable  [unreachable]
                await self.cli_observer.start()
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/cli/adapter.py:160:34: error: Right operand of
"and" is never evaluated  [unreachable]
            if self.cli_observer and hasattr(self.cli_observer, '_stop_eve...
                                     ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/adapters/cli/adapter.py:161:13: error: Statement is
unreachable  [unreachable]
                stop_event_task = asyncio.create_task(
                ^
ciris_engine/logic/adapters/cli/adapter.py:197:13: error: Statement is
unreachable  [unreachable]
                await self.cli_observer.stop()
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/processors/support/dma_orchestrator.py:82:19: error: Missing
named argument "ethical_pdma" for "InitialDMAResults"  [call-arg]
            results = InitialDMAResults()
                      ^~~~~~~~~~~~~~~~~~~
ciris_engine/logic/processors/support/dma_orchestrator.py:82:19: error: Missing
named argument "csdma" for "InitialDMAResults"  [call-arg]
            results = InitialDMAResults()
                      ^~~~~~~~~~~~~~~~~~~
ciris_engine/logic/processors/support/dma_orchestrator.py:82:19: error: Missing
named argument "dsdma" for "InitialDMAResults"  [call-arg]
            results = InitialDMAResults()
                      ^~~~~~~~~~~~~~~~~~~
ciris_engine/logic/processors/support/dma_orchestrator.py:83:18: error: Missing
named argument "ethical_pdma" for "DMAErrors"  [call-arg]
            errors = DMAErrors()
                     ^~~~~~~~~~~
ciris_engine/logic/processors/support/dma_orchestrator.py:83:18: error: Missing
named argument "csdma" for "DMAErrors"  [call-arg]
            errors = DMAErrors()
                     ^~~~~~~~~~~
ciris_engine/logic/processors/support/dma_orchestrator.py:83:18: error: Missing
named argument "dsdma" for "DMAErrors"  [call-arg]
            errors = DMAErrors()
                     ^~~~~~~~~~~
ciris_engine/logic/processors/support/dma_orchestrator.py:113:38: error:
Missing named argument "channel_id" for "DMAMetadata"  [call-arg]
                        dsdma_context or DMAMetadata(),
                                         ^~~~~~~~~~~~~
ciris_engine/logic/processors/support/dma_orchestrator.py:113:38: error:
Missing named argument "user_id" for "DMAMetadata"  [call-arg]
                        dsdma_context or DMAMetadata(),
                                         ^~~~~~~~~~~~~
ciris_engine/logic/processors/support/dma_orchestrator.py:113:38: error:
Missing named argument "platform" for "DMAMetadata"  [call-arg]
                        dsdma_context or DMAMetadata(),
                                         ^~~~~~~~~~~~~
ciris_engine/logic/processors/support/dma_orchestrator.py:133:25: error:
Missing named argument "traceback" for "DMAError"  [call-arg]
                    error = DMAError(
                            ^
ciris_engine/logic/processors/support/dma_orchestrator.py:159:19: error:
Missing named argument "ethical_pdma" for "DMAResults"  [call-arg]
            results = DMAResults()
                      ^~~~~~~~~~~~
ciris_engine/logic/processors/support/dma_orchestrator.py:159:19: error:
Missing named argument "csdma" for "DMAResults"  [call-arg]
            results = DMAResults()
                      ^~~~~~~~~~~~
ciris_engine/logic/processors/support/dma_orchestrator.py:159:19: error:
Missing named argument "dsdma" for "DMAResults"  [call-arg]
            results = DMAResults()
                      ^~~~~~~~~~~~
ciris_engine/logic/processors/support/dma_orchestrator.py:204:42: error:
Missing named argument "channel_id" for "DMAMetadata"  [call-arg]
                            dsdma_context or DMAMetadata(),
                                             ^~~~~~~~~~~~~
ciris_engine/logic/processors/support/dma_orchestrator.py:204:42: error:
Missing named argument "user_id" for "DMAMetadata"  [call-arg]
                            dsdma_context or DMAMetadata(),
                                             ^~~~~~~~~~~~~
ciris_engine/logic/processors/support/dma_orchestrator.py:204:42: error:
Missing named argument "platform" for "DMAMetadata"  [call-arg]
                            dsdma_context or DMAMetadata(),
                                             ^~~~~~~~~~~~~
ciris_engine/logic/processors/support/dma_orchestrator.py:257:41: error:
Incompatible types in assignment (expression has type "ThoughtState", target has
type "Thought")  [assignment]
            triaged["processing_context"] = processing_context
                                            ^~~~~~~~~~~~~~~~~~
ciris_engine/logic/processors/support/dma_orchestrator.py:258:42: error:
Incompatible types in assignment (expression has type "EthicalDMAResult | None",
target has type "Thought")  [assignment]
            triaged["ethical_pdma_result"] = dma_results.ethical_pdma
                                             ^~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/processors/support/dma_orchestrator.py:259:35: error:
Incompatible types in assignment (expression has type "CSDMAResult | None",
target has type "Thought")  [assignment]
            triaged["csdma_result"] = dma_results.csdma
                                      ^~~~~~~~~~~~~~~~~
ciris_engine/logic/processors/support/dma_orchestrator.py:260:35: error:
Incompatible types in assignment (expression has type "DSDMAResult | None",
target has type "Thought")  [assignment]
            triaged["dsdma_result"] = dma_results.dsdma
                                      ^~~~~~~~~~~~~~~~~
ciris_engine/logic/processors/support/dma_orchestrator.py:264:46: error:
Incompatible types in assignment (expression has type "bool", target has type
"Thought")  [assignment]
                triaged["retry_with_guidance"] = True
                                                 ^~~~
ciris_engine/logic/processors/support/dma_orchestrator.py:269:12: error:
"ThoughtState" has no attribute "system_snapshot"  [attr-defined]
            if processing_context.system_snapshot and processing_context.s...
               ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/processors/support/dma_orchestrator.py:270:45: error:
"ThoughtState" has no attribute "system_snapshot"  [attr-defined]
                channel_id = extract_channel_id(processing_context.system_...
                                                ^~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/processors/support/dma_orchestrator.py:272:31: error:
"ThoughtState" has no attribute "initial_task_context"  [attr-defined]
            if not channel_id and processing_context.initial_task_context:
                                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/processors/support/dma_orchestrator.py:273:39: error:
"ThoughtState" has no attribute "initial_task_context"  [attr-defined]
                channel_context = getattr(processing_context.initial_task_...
                                          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/processors/support/dma_orchestrator.py:278:53: error:
Argument 2 to "setdefault" of "MutableMapping" has incompatible type "int";
expected "Thought"  [arg-type]
    ...     triaged.setdefault("current_thought_depth", actual_thought.though...
                                                        ^~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/processors/support/dma_orchestrator.py:283:46: error:
Argument 2 to "setdefault" of "MutableMapping" has incompatible type "int";
expected "Thought"  [arg-type]
                triaged.setdefault("max_rounds", 5)
                                                 ^
ciris_engine/logic/processors/support/dma_orchestrator.py:290:37: error:
Incompatible types in assignment (expression has type "dict[str, Any]", target
has type "Thought")  [assignment]
            triaged["agent_identity"] = identity_info.model_dump()  # Conv...
                                        ^~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/processors/support/dma_orchestrator.py:298:40: error:
Incompatible types in assignment (expression has type "list[HandlerActionType]",
target has type "Thought")  [assignment]
            triaged["permitted_actions"] = permitted_actions
                                           ^~~~~~~~~~~~~~~~~
ciris_engine/logic/processors/core/base_processor.py:43:50: error: Incompatible
types in assignment (expression has type "Any | None", variable has type
"TimeServiceProtocol")  [assignment]
            self.time_service: TimeServiceProtocol = services.get('time_se...
                                                     ^~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/processors/core/base_processor.py:61:24: error: Missing
named argument "start_time" for "ProcessorMetrics"  [call-arg]
            self.metrics = ProcessorMetrics()
                           ^~~~~~~~~~~~~~~~~~
ciris_engine/logic/processors/core/base_processor.py:61:24: error: Missing
named argument "end_time" for "ProcessorMetrics"  [call-arg]
            self.metrics = ProcessorMetrics()
                           ^~~~~~~~~~~~~~~~~~
ciris_engine/logic/processors/core/base_processor.py:61:24: error: Missing
named argument "items_processed" for "ProcessorMetrics"  [call-arg]
            self.metrics = ProcessorMetrics()
                           ^~~~~~~~~~~~~~~~~~
ciris_engine/logic/processors/core/base_processor.py:61:24: error: Missing
named argument "errors" for "ProcessorMetrics"  [call-arg]
            self.metrics = ProcessorMetrics()
                           ^~~~~~~~~~~~~~~~~~
ciris_engine/logic/processors/core/base_processor.py:61:24: error: Missing
named argument "rounds_completed" for "ProcessorMetrics"  [call-arg]
            self.metrics = ProcessorMetrics()
                           ^~~~~~~~~~~~~~~~~~
ciris_engine/logic/processors/states/work_processor.py:27:5: error: Function is
missing a type annotation for one or more arguments  [no-untyped-def]
        def __init__(
        ^
ciris_engine/logic/processors/states/work_processor.py:48:29: error:
Incompatible types in assignment (expression has type "Any | None", variable has
type "TimeServiceProtocol")  [assignment]
            self.time_service = services.get("time_service")
                                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/processors/states/work_processor.py:279:29: error:
"ProcessorMetrics" has no attribute "get"  [attr-defined]
                "total_rounds": self.metrics.get("rounds_completed", 0),
                                ^~~~~~~~~~~~~~~~
ciris_engine/logic/processors/states/work_processor.py:280:32: error:
"ProcessorMetrics" has no attribute "get"  [attr-defined]
                "total_processed": self.metrics.get("items_processed", 0),
                                   ^~~~~~~~~~~~~~~~
ciris_engine/logic/processors/states/work_processor.py:281:29: error:
"ProcessorMetrics" has no attribute "get"  [attr-defined]
                "total_errors": self.metrics.get("errors", 0)
                                ^~~~~~~~~~~~~~~~
ciris_engine/logic/processors/states/wakeup_processor.py:317:21: error: Missing
named argument "parent_task_id" for "Task"  [call-arg]
            root_task = Task(
                        ^
ciris_engine/logic/processors/states/wakeup_processor.py:317:21: error: Missing
named argument "outcome" for "Task"  [call-arg]
            root_task = Task(
                        ^
ciris_engine/logic/processors/states/wakeup_processor.py:317:21: error: Missing
named argument "signed_by" for "Task"  [call-arg]
            root_task = Task(
                        ^
ciris_engine/logic/processors/states/wakeup_processor.py:317:21: error: Missing
named argument "signature" for "Task"  [call-arg]
            root_task = Task(
                        ^
ciris_engine/logic/processors/states/wakeup_processor.py:317:21: error: Missing
named argument "signed_at" for "Task"  [call-arg]
            root_task = Task(
                        ^
ciris_engine/logic/processors/states/wakeup_processor.py:343:25: error: Missing
named argument "outcome" for "Task"  [call-arg]
                step_task = Task(
                            ^
ciris_engine/logic/processors/states/wakeup_processor.py:343:25: error: Missing
named argument "signed_by" for "Task"  [call-arg]
                step_task = Task(
                            ^
ciris_engine/logic/processors/states/wakeup_processor.py:343:25: error: Missing
named argument "signature" for "Task"  [call-arg]
                step_task = Task(
                            ^
ciris_engine/logic/processors/states/wakeup_processor.py:343:25: error: Missing
named argument "signed_at" for "Task"  [call-arg]
                step_task = Task(
                            ^
ciris_engine/logic/processors/states/wakeup_processor.py:433:19: error: Missing
named argument "channel_id" for "Thought"  [call-arg]
            thought = Thought(
                      ^
ciris_engine/logic/processors/states/wakeup_processor.py:433:19: error: Missing
named argument "thought_depth" for "Thought"  [call-arg]
            thought = Thought(
                      ^
ciris_engine/logic/processors/states/wakeup_processor.py:433:19: error: Missing
named argument "ponder_notes" for "Thought"  [call-arg]
            thought = Thought(
                      ^
ciris_engine/logic/processors/states/wakeup_processor.py:433:19: error: Missing
named argument "parent_thought_id" for "Thought"  [call-arg]
            thought = Thought(
                      ^
ciris_engine/logic/processors/states/wakeup_processor.py:433:19: error: Missing
named argument "final_action" for "Thought"  [call-arg]
            thought = Thought(
                      ^
ciris_engine/logic/processors/states/wakeup_processor.py:539:17: error:
Statement is unreachable  [unreachable]
                    break
                    ^~~~~
ciris_engine/logic/processors/states/solitude_processor.py:43:32: error:
Missing named argument "tasks_reviewed" for "ReflectionData"  [call-arg]
            self.reflection_data = ReflectionData()
                                   ^~~~~~~~~~~~~~~~
ciris_engine/logic/processors/states/solitude_processor.py:43:32: error:
Missing named argument "thoughts_reviewed" for "ReflectionData"  [call-arg]
            self.reflection_data = ReflectionData()
                                   ^~~~~~~~~~~~~~~~
ciris_engine/logic/processors/states/solitude_processor.py:43:32: error:
Missing named argument "memories_consolidated" for "ReflectionData"  [call-arg]
            self.reflection_data = ReflectionData()
                                   ^~~~~~~~~~~~~~~~
ciris_engine/logic/processors/states/solitude_processor.py:43:32: error:
Missing named argument "cleanup_performed" for "ReflectionData"  [call-arg]
            self.reflection_data = ReflectionData()
                                   ^~~~~~~~~~~~~~~~
ciris_engine/logic/processors/states/solitude_processor.py:84:28: error:
Missing named argument "should_exit_solitude" for "SolitudeResult"  [call-arg]
                        return SolitudeResult(
                               ^
ciris_engine/logic/processors/states/solitude_processor.py:84:28: error:
Missing named argument "exit_reason" for "SolitudeResult"  [call-arg]
                        return SolitudeResult(
                               ^
ciris_engine/logic/processors/states/solitude_processor.py:102:20: error:
Missing named argument "should_exit_solitude" for "SolitudeResult"  [call-arg]
                return SolitudeResult(
                       ^
ciris_engine/logic/processors/states/solitude_processor.py:102:20: error:
Missing named argument "exit_reason" for "SolitudeResult"  [call-arg]
                return SolitudeResult(
                       ^
ciris_engine/logic/processors/states/solitude_processor.py:110:16: error:
Missing named argument "should_exit_solitude" for "SolitudeResult"  [call-arg]
            return SolitudeResult(
                   ^
ciris_engine/logic/processors/states/solitude_processor.py:110:16: error:
Missing named argument "exit_reason" for "SolitudeResult"  [call-arg]
            return SolitudeResult(
                   ^
ciris_engine/logic/processors/states/solitude_processor.py:136:30: error:
Missing named argument "old_completed_tasks_cleaned" for "MaintenanceResult" 
[call-arg]
            maintenance_result = MaintenanceResult()
                                 ^~~~~~~~~~~~~~~~~~~
ciris_engine/logic/processors/states/solitude_processor.py:136:30: error:
Missing named argument "old_thoughts_cleaned" for "MaintenanceResult" 
[call-arg]
            maintenance_result = MaintenanceResult()
                                 ^~~~~~~~~~~~~~~~~~~
ciris_engine/logic/processors/states/solitude_processor.py:136:30: error:
Missing named argument "database_optimized" for "MaintenanceResult"  [call-arg]
            maintenance_result = MaintenanceResult()
                                 ^~~~~~~~~~~~~~~~~~~
ciris_engine/logic/processors/states/solitude_processor.py:139:27: error: Item
"None" of "Any | None" has no attribute "now"  [union-attr]
                cutoff_date = self._time_service.now()
                              ^~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/processors/states/solitude_processor.py:172:29: error:
Missing named argument "recent_tasks_analyzed" for "ReflectionResult" 
[call-arg]
            reflection_result = ReflectionResult()
                                ^~~~~~~~~~~~~~~~~~
ciris_engine/logic/processors/states/solitude_processor.py:172:29: error:
Missing named argument "memories_consolidated" for "ReflectionResult" 
[call-arg]
            reflection_result = ReflectionResult()
                                ^~~~~~~~~~~~~~~~~~
ciris_engine/logic/processors/states/solitude_processor.py:180:29: error:
"TaskContext" has no attribute "get"  [attr-defined]
                    task_type = task.context.get("type", "unknown") if tas...
                                ^~~~~~~~~~~~~~~~
ciris_engine/logic/processors/states/solitude_processor.py:210:22: error:
Missing named argument "should_exit" for "ExitConditions"  [call-arg]
            conditions = ExitConditions()
                         ^~~~~~~~~~~~~~~~
ciris_engine/logic/processors/states/solitude_processor.py:210:22: error:
Missing named argument "reason" for "ExitConditions"  [call-arg]
            conditions = ExitConditions()
                         ^~~~~~~~~~~~~~~~
ciris_engine/logic/processors/states/solitude_processor.py:210:22: error:
Missing named argument "pending_tasks" for "ExitConditions"  [call-arg]
            conditions = ExitConditions()
                         ^~~~~~~~~~~~~~~~
ciris_engine/logic/processors/states/solitude_processor.py:210:22: error:
Missing named argument "time_in_solitude" for "ExitConditions"  [call-arg]
            conditions = ExitConditions()
                         ^~~~~~~~~~~~~~~~
ciris_engine/logic/processors/states/solitude_processor.py:210:22: error:
Missing named argument "resource_usage" for "ExitConditions"  [call-arg]
            conditions = ExitConditions()
                         ^~~~~~~~~~~~~~~~
ciris_engine/logic/processors/states/solitude_processor.py:218:13: error:
Unsupported target for indexed assignment ("ExitConditions")  [index]
                conditions["should_exit"] = True
                ^~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/processors/states/solitude_processor.py:283:15: error:
Argument 1 to "get" of "dict" has incompatible type "Any | None"; expected "str"
 [arg-type]
            }.get(getattr(self, 'solitude_reason', None), 5)
                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/processors/states/solitude_processor.py:285:21: error: Item
"None" of "Any | None" has no attribute "now"  [union-attr]
            duration = (self._time_service.now() - self.solitude_start_tim...
                        ^~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/processors/states/solitude_processor.py:286:9: error:
Returning Any from function declared to return "bool"  [no-any-return]
            return duration >= min_duration_minutes
            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/processors/states/solitude_processor.py:292:9: error:
Returning Any from function declared to return "float"  [no-any-return]
            return (self._time_service.now() - self.solitude_start_time).t...
            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/processors/states/solitude_processor.py:292:17: error: Item
"None" of "Any | None" has no attribute "now"  [union-attr]
            return (self._time_service.now() - self.solitude_start_time).t...
                    ^~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/processors/states/solitude_processor.py:297:36: error: Item
"None" of "Any | None" has no attribute "now"  [union-attr]
            self.solitude_start_time = self._time_service.now()
                                       ^~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/processors/states/shutdown_processor.py:161:24: error:
Incompatible return value type (got "dict[Any, Any] | None", expected
"dict[Any, Any]")  [return-value]
                    return self.shutdown_result
                           ^~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/processors/states/shutdown_processor.py:248:30: error:
Missing named argument "outcome" for "Task"  [call-arg]
            self.shutdown_task = Task(
                                 ^
ciris_engine/logic/processors/states/shutdown_processor.py:248:30: error:
Missing named argument "signed_by" for "Task"  [call-arg]
            self.shutdown_task = Task(
                                 ^
ciris_engine/logic/processors/states/shutdown_processor.py:248:30: error:
Missing named argument "signature" for "Task"  [call-arg]
            self.shutdown_task = Task(
                                 ^
ciris_engine/logic/processors/states/shutdown_processor.py:248:30: error:
Missing named argument "signed_at" for "Task"  [call-arg]
            self.shutdown_task = Task(
                                 ^
ciris_engine/logic/processors/states/shutdown_processor.py:272:35: error:
Subclass of "FinalAction" and "dict[Any, Any]" cannot exist: would have
incompatible method signatures  [unreachable]
                        if isinstance(action, dict) and action.get('select...
                                      ^~~~~~
ciris_engine/logic/processors/states/shutdown_processor.py:272:53: error: Right
operand of "and" is never evaluated  [unreachable]
    ...                 if isinstance(action, dict) and action.get('selected_...
                                                        ^~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/processors/states/shutdown_processor.py:273:25: error:
Statement is unreachable  [unreachable]
                            reason = action.get('action_parameters', {}).g...
                            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/processors/states/play_processor.py:39:5: error: Return type
"Coroutine[Any, Any, PlayResult]" of "process" incompatible with return type
"Coroutine[Any, Any, WorkResult]" in supertype "WorkProcessor"  [override]
        async def process(self, round_number: int) -> PlayResult:
        ^
ciris_engine/logic/processors/states/play_processor.py:74:29: error:
"ProcessorMetrics" has no attribute "get"  [attr-defined]
                "total_rounds": self.metrics.get("rounds_completed", 0),
                                ^~~~~~~~~~~~~~~~
ciris_engine/logic/processors/states/play_processor.py:75:32: error:
"ProcessorMetrics" has no attribute "get"  [attr-defined]
                "total_processed": self.metrics.get("items_processed", 0),
                                   ^~~~~~~~~~~~~~~~
ciris_engine/logic/processors/states/play_processor.py:76:29: error:
"ProcessorMetrics" has no attribute "get"  [attr-defined]
                "total_errors": self.metrics.get("errors", 0)
                                ^~~~~~~~~~~~~~~~
ciris_engine/logic/processors/core/main_processor.py:501:53: error:
Incompatible types in assignment (expression has type "Thought", target has type
"str")  [assignment]
    ...                 context["prefetched_thought"] = thought  # Pass the f...
                                                        ^~~~~~~
ciris_engine/logic/runtime/component_builder.py:99:27: error: Missing named
argument "discord_config" for "AgentTemplate"  [call-arg]
            identity_config = AgentTemplate(
                              ^
ciris_engine/logic/runtime/component_builder.py:99:27: error: Missing named
argument "api_config" for "AgentTemplate"  [call-arg]
            identity_config = AgentTemplate(
                              ^
ciris_engine/logic/runtime/component_builder.py:99:27: error: Missing named
argument "cli_config" for "AgentTemplate"  [call-arg]
            identity_config = AgentTemplate(
                              ^
ciris_engine/logic/runtime/service_initializer.py:44:53: error: Missing named
argument "log_level" for "EssentialConfig"  [call-arg]
            self.essential_config = essential_config or EssentialConfig()
                                                        ^~~~~~~~~~~~~~~~~
ciris_engine/logic/runtime/service_initializer.py:44:53: error: Missing named
argument "debug_mode" for "EssentialConfig"  [call-arg]
            self.essential_config = essential_config or EssentialConfig()
                                                        ^~~~~~~~~~~~~~~~~
ciris_engine/logic/runtime/service_initializer.py:44:53: error: Missing named
argument "template_directory" for "EssentialConfig"  [call-arg]
            self.essential_config = essential_config or EssentialConfig()
                                                        ^~~~~~~~~~~~~~~~~
ciris_engine/logic/runtime/service_initializer.py:44:53: error: Missing named
argument "default_template" for "EssentialConfig"  [call-arg]
            self.essential_config = essential_config or EssentialConfig()
                                                        ^~~~~~~~~~~~~~~~~
ciris_engine/logic/runtime/service_initializer.py:196:26: error: Argument
"time_service" to "SecretsService" has incompatible type "TimeService | None";
expected "TimeServiceProtocol"  [arg-type]
                time_service=self.time_service,
                             ^~~~~~~~~~~~~~~~~
ciris_engine/logic/runtime/service_initializer.py:206:26: error: Argument
"time_service" to "SecretsToolService" has incompatible type
"TimeService | None"; expected "TimeServiceProtocol"  [arg-type]
                time_service=self.time_service
                             ^~~~~~~~~~~~~~~~~
ciris_engine/logic/runtime/service_initializer.py:222:71: error: Argument 2 to
"GraphConfigService" has incompatible type "TimeService | None"; expected
"TimeServiceProtocol"  [arg-type]
    ...g_service = GraphConfigService(self.memory_service, self.time_service)
                                                           ^~~~~~~~~~~~~~~~~
ciris_engine/logic/runtime/service_initializer.py:242:25: error: Missing named
argument "updated_by" for "GraphNode"  [call-arg]
                test_node = GraphNode(
                            ^
ciris_engine/logic/runtime/service_initializer.py:242:25: error: Missing named
argument "updated_at" for "GraphNode"  [call-arg]
                test_node = GraphNode(
                            ^
ciris_engine/logic/runtime/service_initializer.py:246:35: error: Item "None" of
"TimeService | None" has no attribute "now"  [union-attr]
                        "created_at": self.time_service.now(),
                                      ^~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/runtime/service_initializer.py:247:35: error: Item "None" of
"TimeService | None" has no attribute "now"  [union-attr]
                        "updated_at": self.time_service.now(),
                                      ^~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/runtime/service_initializer.py:289:30: error: Item "None" of
"ConfigAccessor | None" has no attribute "get_path"  [union-attr]
            auth_db_path = await self.config_accessor.get_path("database.a...
                                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/runtime/service_initializer.py:292:26: error: Argument
"time_service" to "AuthenticationService" has incompatible type
"TimeService | None"; expected "TimeService"  [arg-type]
                time_service=self.time_service,
                             ^~~~~~~~~~~~~~~~~
ciris_engine/logic/runtime/service_initializer.py:300:26: error: Argument
"time_service" to "WiseAuthorityService" has incompatible type
"TimeService | None"; expected "TimeService"  [arg-type]
                time_service=self.time_service,
                             ^~~~~~~~~~~~~~~~~
ciris_engine/logic/runtime/service_initializer.py:402:13: error: Argument 2 to
"BusManager" has incompatible type "TimeService | None"; expected
"TimeServiceProtocol"  [arg-type]
                self.time_service,
                ^~~~~~~~~~~~~~~~~
ciris_engine/logic/runtime/service_initializer.py:433:26: error: Argument
"time_service" to "AdaptiveFilterService" has incompatible type
"TimeService | None"; expected "TimeServiceProtocol"  [arg-type]
                time_service=self.time_service,
                             ^~~~~~~~~~~~~~~~~
ciris_engine/logic/runtime/service_initializer.py:452:26: error: Argument
"time_service" to "TaskSchedulerService" has incompatible type
"TimeService | None"; expected "TimeServiceProtocol"  [arg-type]
                time_service=self.time_service
                             ^~~~~~~~~~~~~~~~~
ciris_engine/logic/runtime/service_initializer.py:461:26: error: Argument
"time_service" to "DatabaseMaintenanceService" has incompatible type
"TimeService | None"; expected "TimeServiceProtocol"  [arg-type]
                time_service=self.time_service,
                             ^~~~~~~~~~~~~~~~~
ciris_engine/logic/runtime/service_initializer.py:469:24: error: Argument
"memory_bus" to "TSDBConsolidationService" has incompatible type
"LocalGraphMemoryService | None"; expected "MemoryBus | None"  [arg-type]
                memory_bus=self.memory_service,  # Direct reference to mem...
                           ^~~~~~~~~~~~~~~~~~~
ciris_engine/logic/runtime/service_initializer.py:478:26: error: Argument
"time_service" to "SelfObservationService" has incompatible type
"TimeService | None"; expected "TimeServiceProtocol"  [arg-type]
                time_service=self.time_service,
                             ^~~~~~~~~~~~~~~~~
ciris_engine/logic/runtime/service_initializer.py:495:26: error: Argument
"time_service" to "VisibilityService" has incompatible type
"TimeService | None"; expected "TimeServiceProtocol"  [arg-type]
                time_service=self.time_service,
                             ^~~~~~~~~~~~~~~~~
ciris_engine/logic/runtime/service_initializer.py:626:31: error: Item "None" of
"ConfigAccessor | None" has no attribute "get_path"  [union-attr]
            audit_db_path = await self.config_accessor.get_path("database....
                                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/runtime/service_initializer.py:627:32: error: Item "None" of
"ConfigAccessor | None" has no attribute "get_path"  [union-attr]
            audit_key_path = await self.config_accessor.get_path("security...
                                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/runtime/service_initializer.py:628:32: error: Item "None" of
"ConfigAccessor | None" has no attribute "get_int"  [union-attr]
            retention_days = await self.config_accessor.get_int("security....
                                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/runtime/service_initializer.py:652:9: error: Item "None" of
"Any | None" has no attribute "audit_service"  [union-attr]
            self.bus_manager.audit_service = self.audit_service
            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/runtime/service_initializer.py:661:24: error: Item "None" of
"Any | None" has no attribute "memory"  [union-attr]
                memory_bus=self.bus_manager.memory,
                           ^~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/runtime/ciris_runtime.py:92:38: error: Too many arguments
for "BaseAdapterProtocol"  [call-arg]
                    self.adapters.append(adapter_class(self, **adapter_kwa...
                                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/runtime/ciris_runtime.py:213:16: error: Missing named
argument "discord_config" for "AgentTemplate"  [call-arg]
            return AgentTemplate(
                   ^
ciris_engine/logic/runtime/ciris_runtime.py:213:16: error: Missing named
argument "api_config" for "AgentTemplate"  [call-arg]
            return AgentTemplate(
                   ^
ciris_engine/logic/runtime/ciris_runtime.py:213:16: error: Missing named
argument "cli_config" for "AgentTemplate"  [call-arg]
            return AgentTemplate(
                   ^
ciris_engine/logic/runtime/ciris_runtime.py:245:6: error: Name
"secrets_service" already defined on line 130  [no-redef]
        @property
         ^
ciris_engine/logic/runtime/ciris_runtime.py:250:6: error: Name
"adaptive_filter_service" already defined on line 154  [no-redef]
        @property
         ^
ciris_engine/logic/runtime/ciris_runtime.py:505:37: error: Missing named
argument "log_level" for "EssentialConfig"  [call-arg]
                self.essential_config = EssentialConfig()
                                        ^~~~~~~~~~~~~~~~~
ciris_engine/logic/runtime/ciris_runtime.py:505:37: error: Missing named
argument "debug_mode" for "EssentialConfig"  [call-arg]
                self.essential_config = EssentialConfig()
                                        ^~~~~~~~~~~~~~~~~
ciris_engine/logic/runtime/ciris_runtime.py:505:37: error: Missing named
argument "template_directory" for "EssentialConfig"  [call-arg]
                self.essential_config = EssentialConfig()
                                        ^~~~~~~~~~~~~~~~~
ciris_engine/logic/runtime/ciris_runtime.py:505:37: error: Missing named
argument "default_template" for "EssentialConfig"  [call-arg]
                self.essential_config = EssentialConfig()
                                        ^~~~~~~~~~~~~~~~~
ciris_engine/logic/runtime/ciris_runtime.py:670:33: error:
"BaseAdapterProtocol" has no attribute "get_services_to_register" 
[attr-defined]
                    registrations = adapter.get_services_to_register()
                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/runtime/ciris_runtime.py:702:5: error: Function is missing a
return type annotation  [no-untyped-def]
        async def _build_action_dispatcher(self, dependencies: Any):
        ^
ciris_engine/logic/runtime/ciris_runtime.py:718:26: error: Argument
"time_service" to "BusManager" has incompatible type
"TimeServiceProtocol | None"; expected "TimeServiceProtocol"  [arg-type]
                time_service=self.time_service,
                             ^~~~~~~~~~~~~~~~~
ciris_engine/logic/runtime/ciris_runtime.py:754:38: error: Item "None" of
"ServiceRegistry | None" has no attribute "get_service"  [union-attr]
                    comm_service = await self.service_registry.get_service...
                                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/runtime/ciris_runtime.py:775:37: error:
"BaseAdapterProtocol" has no attribute "run_lifecycle"  [attr-defined]
                    asyncio.create_task(adapter.run_lifecycle(agent_task),...
                                        ^~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/runtime/ciris_runtime.py:922:42: error: Incompatible types
in assignment (expression has type "dict[Any, Any]", variable has type
"ShutdownResult")  [assignment]
                                    result = self.agent_processor.shutdown...
                                             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/runtime/ciris_runtime.py:923:47: error: "ShutdownResult" has
no attribute "get"  [attr-defined]
                                    if result and result.get("status") == ...
                                                  ^~~~~~~~~~
ciris_engine/logic/runtime/ciris_runtime.py:924:83: error: "ShutdownResult" has
no attribute "get"  [attr-defined]
    ...   logger.warning(f"Shutdown rejected by agent: {result.get('reason')}...
                                                        ^~~~~~~~~~
ciris_engine/logic/runtime/ciris_runtime.py:1098:29: error: Missing named
argument "updated_by" for "GraphNode"  [call-arg]
                shutdown_node = GraphNode(
                                ^
ciris_engine/logic/runtime/ciris_runtime.py:1098:29: error: Missing named
argument "updated_at" for "GraphNode"  [call-arg]
                shutdown_node = GraphNode(
                                ^
ciris_engine/logic/adapters/api/api_runtime_control.py:88:17: error: Returning
Any from function declared to return "bool"  [no-any-return]
                    return await self.runtime.request_state_transition(
                    ^
ciris_engine/logic/adapters/api/api_runtime_control.py:188:16: error: Missing
named argument "custom_metrics" for "ServiceStatus"  [call-arg]
            return ServiceStatus(
                   ^
ciris_engine/logic/adapters/api/api_runtime_control.py:230:16: error: Missing
named argument "tools" for "AdapterInfo"  [call-arg]
            return AdapterInfo(
                   ^
ciris_engine/logic/adapters/api/api_runtime_control.py:235:32: error:
"dict[Any, Any]" has no attribute "messages_processed"  [attr-defined]
                messages_processed=status.metrics.messages_processed if st...
                                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/api_runtime_control.py:236:25: error:
"dict[Any, Any]" has no attribute "errors_count"  [attr-defined]
                error_count=status.metrics.errors_count if status.metrics ...
                            ^~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/api_runtime_control.py:237:24: error:
"dict[Any, Any]" has no attribute "last_error"  [attr-defined]
                last_error=status.metrics.last_error if status.metrics els...
                           ^~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/api_runtime_control.py:253:28: error: Argument
"adapter_id" to "AdapterOperationResponse" has incompatible type "str | None";
expected "str"  [arg-type]
                    adapter_id=adapter_id,
                               ^~~~~~~~~~
ciris_engine/logic/adapters/api/api_runtime_control.py:268:16: error:
Unexpected keyword argument "message" for "AdapterOperationResponse"  [call-arg]
            return AdapterOperationResponse(
                   ^
ciris_engine/logic/adapters/api/api_runtime_control.py:299:16: error:
Unexpected keyword argument "message" for "AdapterOperationResponse"  [call-arg]
            return AdapterOperationResponse(
                   ^
ciris_engine/logic/adapters/api/adapter.py:32:5: error: Incompatible types in
assignment (expression has type "APIAdapterConfig", base class "Service" defined
the type as "dict[Any, Any]")  [assignment]
        config: APIAdapterConfig
        ^~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/adapter.py:67:9: error:
"APICommunicationService" has no attribute "_app_state"  [attr-defined]
            self.communication._app_state = self.app.state
            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/adapter.py:185:9: error: Function is missing a
type annotation  [no-untyped-def]
            async def handle_message_via_observer(msg):
            ^
ciris_engine/logic/adapters/api/adapter.py:191:21: error: Statement is
unreachable  [unreachable]
                        self.app.state.message_channel_map[msg.channel_id]...
                        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
ciris_engine/logic/adapters/api/adapter.py:292:33: error: Incompatible types in
assignment (expression has type "APIObserver", variable has type "None") 
[assignment]
            self.message_observer = APIObserver(
                                    ^
ciris_engine/logic/adapters/api/adapter.py:302:15: error: "None" has no
attribute "start"  [attr-defined]
            await self.message_observer.start()
                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/adapter.py:323:24: error: Incompatible types in
assignment (expression has type "Server", variable has type "None") 
[assignment]
            self._server = uvicorn.Server(config)
                           ^~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/adapter.py:324:29: error: Incompatible types in
assignment (expression has type "Task[Any]", variable has type "None") 
[assignment]
            self._server_task = asyncio.create_task(self._server.serve())
                                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/adapter.py:324:49: error: "None" has no
attribute "serve"  [attr-defined]
            self._server_task = asyncio.create_task(self._server.serve())
                                                    ^~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/adapter.py:349:13: error: Statement is
unreachable  [unreachable]
                self._server.should_exit = True
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/adapter.py:446:42: error: Right operand of
"and" is never evaluated  [unreachable]
                    if self._server_task and self._server_task.done():
                                             ^~~~~~~~~~~~~~~~~~~~~~~~
ciris_engine/logic/adapters/api/adapter.py:448:21: error: Statement is
unreachable  [unreachable]
                        exc = self._server_task.exception()
                        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Found 1482 errors in 152 files (checked 424 source files)
