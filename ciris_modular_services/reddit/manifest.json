{
  "module": {
    "name": "reddit_adapter",
    "version": "1.0.0",
    "description": "Adapter that connects CIRIS to Reddit with tool, communication, and observation services",
    "author": "CIRIS Team",
    "safe_domain": true
  },
  "services": [
    {
      "type": "TOOL",
      "priority": "NORMAL",
      "class": "reddit.service.RedditToolService",
      "capabilities": [
        "tool:reddit",
        "tool:reddit:get_user_context",
        "tool:reddit:submit_post",
        "tool:reddit:submit_comment",
        "tool:reddit:remove_content",
        "tool:reddit:get_submission",
        "tool:reddit:observe"
      ]
    },
    {
      "type": "COMMUNICATION",
      "priority": "LOW",
      "class": "reddit.service.RedditCommunicationService",
      "capabilities": [
        "communication:send_message",
        "communication:fetch_messages"
      ]
    }
  ],
  "capabilities": [
    "tool:reddit",
    "tool:reddit:get_user_context",
    "tool:reddit:submit_post",
    "tool:reddit:submit_comment",
    "tool:reddit:remove_content",
    "tool:reddit:get_submission",
    "tool:reddit:observe",
    "communication:send_message",
    "communication:fetch_messages"
  ],
  "dependencies": {
    "protocols": [
      "ciris_engine.protocols.services.ToolService",
      "ciris_engine.protocols.services.CommunicationService"
    ],
    "schemas": [
      "ciris_engine.schemas.adapters.tools",
      "ciris_engine.schemas.runtime.enums",
      "ciris_engine.schemas.runtime.messages"
    ],
    "external": {
      "httpx": ">=0.25.0,<1.0.0"
    }
  },
  "exports": {
    "tool_service": "reddit.service.RedditToolService",
    "communication_service": "reddit.service.RedditCommunicationService",
    "observer": "reddit.observer.RedditObserver",
    "protocol": "reddit.protocol.RedditOAuthProtocol",
    "schemas": "reddit.schemas"
  },
  "configuration": {
    "reddit_client_id": {
      "type": "string",
      "env": "CIRIS_REDDIT_CLIENT_ID",
      "description": "Reddit OAuth client identifier"
    },
    "reddit_client_secret": {
      "type": "string",
      "env": "CIRIS_REDDIT_CLIENT_SECRET",
      "description": "Reddit OAuth client secret"
    },
    "reddit_username": {
      "type": "string",
      "env": "CIRIS_REDDIT_USERNAME",
      "description": "Bot account username"
    },
    "reddit_password": {
      "type": "string",
      "env": "CIRIS_REDDIT_PASSWORD",
      "sensitivity": "HIGH",
      "description": "Bot account password"
    },
    "reddit_user_agent": {
      "type": "string",
      "env": "CIRIS_REDDIT_USER_AGENT",
      "default": "CIRIS-RedditAdapter/1.0 (+https://ciris.ai)",
      "description": "User-Agent header that complies with Reddit API rules"
    },
    "reddit_subreddit": {
      "type": "string",
      "env": "CIRIS_REDDIT_SUBREDDIT",
      "default": "ciris",
      "description": "Home subreddit for passive observation"
    }
  },
  "metadata": {
    "api": "Reddit OAuth API",
    "requires_api_key": true,
    "safe_domain": "community_outreach",
    "prohibited": ["medical", "political_campaigning"],
    "channel_format": "reddit:r/<subreddit>:post/<submission_id>:comment/<comment_id>"
  }
}
